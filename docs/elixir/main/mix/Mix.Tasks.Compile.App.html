<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.29.4">
    <meta name="project" content="Mix v1.15.0-dev">

    <title>mix compile.app â€” Mix v1.15.0-dev</title>
    <link rel="stylesheet" href="dist/html-elixir-R7PT35Y2.css" />


      <link rel="canonical" href="https://hexdocs.pm/mix/main/Mix.Tasks.Compile.App.html" />

    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-OHVEJKU6.js"></script>
    <script src="dist/sidebar_items-310F6449.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/html-ZKIIOKLS.js"></script>


  </head>
  <body data-type="tasks" class="page-task">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="main">

<button class="sidebar-button sidebar-toggle" aria-label="toggle sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<section class="sidebar">
  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button" aria-label="Submit Search">
      <i class="ri-search-2-line" aria-hidden="true" title="Submit search"></i>
    </button>
    <button type="button" tabindex="-1" class="search-close-button" aria-label="Cancel Search">
      <i class="ri-close-line ri-lg" aria-hidden="true" title="Cancel search"></i>
    </button>
    <label class="search-label">
      <p class="sr-only">Search</p>
      <input name="q" type="text" class="search-input" placeholder="Search..." aria-label="Input your search terms" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">

    <div class="sidebar-projectDetails">
      <a href="https://elixir-lang.org/docs.html" class="sidebar-projectName" translate="no">
Mix
      </a>
      <div class="sidebar-projectVersion" translate="no">
        v1.15.0-dev
      </div>
    </div>
    <ul class="sidebar-listNav">
      <li><a id="extras-list-link" href="#full-list">Pages</a></li>

        <li><a id="modules-list-link" href="#full-list">Modules</a></li>


        <li><a id="tasks-list-link" href="#full-list"><span translate="no">Mix</span> Tasks</a></li>

    </ul>
  </div>

  <div class="gradient"></div>
  <ul id="full-list"></ul>
</section>

<section class="content">
  <output role="status" id="toast"></output>
  <div class="content-outer">
    <div id="content" class="content-inner">

<h1>
<button class="icon-action display-settings">
  <i class="ri-settings-3-line"></i>
  <span class="sr-only">Settings</span>
</button>


    <a href="https://github.com/elixir-lang/elixir/blob/6407215fb97ca6699776db771accc9523f4e4a1f/lib/mix/lib/mix/tasks/compile.app.ex#L1" title="View Source" class="icon-action" rel="help">
      <i class="ri-code-s-slash-line" aria-hidden="true"></i>
      <span class="sr-only">View Source</span>
    </a>

  <span translate="no">mix compile.app</span> 
  <small class="app-vsn" translate="no">(Mix v1.15.0-dev)</small>

</h1>


  <section id="moduledoc">
<p>Writes an .app file.</p><p>An <code class="inline">.app</code> file is a file containing Erlang terms that defines
your application. Mix automatically generates this file based on
your <code class="inline">mix.exs</code> configuration.</p><p>In order to generate the <code class="inline">.app</code> file, Mix expects your project
to have both <code class="inline">:app</code> and <code class="inline">:version</code> keys. Furthermore, you can
configure the generated application by defining an <code class="inline">application/0</code>
function in your <code class="inline">mix.exs</code> that returns a keyword list.</p><p>The most commonly used keys are:</p><ul><li><p><code class="inline">:extra_applications</code> - a list of OTP applications
your application depends on which are not included in <code class="inline">:deps</code>
(usually defined in <code class="inline">deps/0</code> in your <code class="inline">mix.exs</code>). For example,
here you can declare a dependency on applications that ship
with Erlang/OTP or Elixir, like <code class="inline">:crypto</code> or <code class="inline">:logger</code>.
Optional extra applications can be declared as a tuple, such
as <code class="inline">{:ex_unit, :optional}</code>. Mix guarantees all non-optional
applications are started before your application starts.</p></li><li><p><code class="inline">:registered</code> - the name of all registered processes in the
application. If your application defines a local GenServer
with name <code class="inline">MyServer</code>, it is recommended to add <code class="inline">MyServer</code>
to this list. It is most useful in detecting conflicts
between applications that register the same names.</p></li><li><p><code class="inline">:env</code> - the default values for the application environment.
The application environment is one of the most common ways
to configure applications. See the <a href="https://hexdocs.pm/elixir/main/Application.html"><code class="inline">Application</code></a> module for
mechanisms to read and write to the application environment.</p></li></ul><p>For example:</p><pre><code class="makeup elixir" translate="no"><span class="kd">def</span><span class="w"> </span><span class="nf">application</span><span class="w"> </span><span class="k" data-group-id="6810686572-1">do</span><span class="w">
  </span><span class="p" data-group-id="6810686572-2">[</span><span class="w">
    </span><span class="ss">extra_applications</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="6810686572-3">[</span><span class="ss">:logger</span><span class="p">,</span><span class="w"> </span><span class="ss">:crypto</span><span class="p">,</span><span class="w"> </span><span class="ss">ex_unit</span><span class="p">:</span><span class="w"> </span><span class="ss">:optional</span><span class="p" data-group-id="6810686572-3">]</span><span class="p">,</span><span class="w">
    </span><span class="ss">env</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="6810686572-4">[</span><span class="ss">key</span><span class="p">:</span><span class="w"> </span><span class="ss">:value</span><span class="p" data-group-id="6810686572-4">]</span><span class="p">,</span><span class="w">
    </span><span class="ss">registered</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="6810686572-5">[</span><span class="nc">MyServer</span><span class="p" data-group-id="6810686572-5">]</span><span class="w">
  </span><span class="p" data-group-id="6810686572-2">]</span><span class="w">
</span><span class="k" data-group-id="6810686572-1">end</span></code></pre><p>Other options include:</p><ul><li><p><code class="inline">:applications</code> - all applications your application depends
on at runtime. By default, this list is automatically inferred
from your dependencies. Mix and other tools use the application
list in order to start your dependencies before starting the
application itself.</p></li><li><p><code class="inline">:mod</code> - specifies a module to invoke when the application
is started. It must be in the format <code class="inline">{Mod, args}</code> where
args is often an empty list. The module specified must
implement the callbacks defined by the <a href="https://hexdocs.pm/elixir/main/Application.html"><code class="inline">Application</code></a>
module.</p></li><li><p><code class="inline">:start_phases</code> - specifies a list of phases and their arguments
to be called after the application is started. See the &quot;Phases&quot;
section below.</p></li><li><p><code class="inline">:included_applications</code> - specifies a list of applications
that will be included in the application. It is the responsibility of
the primary application to start the supervision tree of all included
applications, as only the primary application will be started. A process
in an included application considers itself belonging to the
primary application.</p></li><li><p><code class="inline">:maxT</code> - specifies the maximum time the application is allowed to run, in
milliseconds. Applications are stopped if <code class="inline">:maxT</code> is reached, and their
top-level supervisor terminated with reason <code class="inline">:normal</code>. This threshold is
technically valid in any resource file, but it is only effective for
applications with a callback module. Defaults to <code class="inline">:infinity</code>.</p></li></ul><p>Besides the options above, <code class="inline">.app</code> files also expect other options like
<code class="inline">:modules</code> and <code class="inline">:vsn</code>, but these are automatically added by Mix.</p><h2 id="module-command-line-options" class="section-heading">
  <a href="#module-command-line-options">
    <i class="ri-link-m" aria-hidden="true"></i>
    Command line options
  </a>
</h2>
<ul><li><code class="inline">--force</code> - forces compilation regardless of modification times</li><li><code class="inline">--compile-path</code> - where to find <code class="inline">.beam</code> files and write the
resulting <code class="inline">.app</code> file, defaults to <a href="Mix.Project.html#compile_path/0"><code class="inline">Mix.Project.compile_path/0</code></a></li></ul><h2 id="module-phases" class="section-heading">
  <a href="#module-phases">
    <i class="ri-link-m" aria-hidden="true"></i>
    Phases
  </a>
</h2>
<p>Applications provide a start phases mechanism which will be called,
in order, for the application and all included applications. If a phase
is not defined for an included application, that application is skipped.</p><p>Let's see an example <code class="inline">MyApp.application/0</code> function:</p><pre><code class="makeup elixir" translate="no"><span class="kd">def</span><span class="w"> </span><span class="nf">application</span><span class="w"> </span><span class="k" data-group-id="1584530705-1">do</span><span class="w">
  </span><span class="p" data-group-id="1584530705-2">[</span><span class="w">
    </span><span class="ss">start_phases</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="1584530705-3">[</span><span class="ss">init</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="1584530705-4">[</span><span class="p" data-group-id="1584530705-4">]</span><span class="p">,</span><span class="w"> </span><span class="ss">go</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="1584530705-5">[</span><span class="p" data-group-id="1584530705-5">]</span><span class="p">,</span><span class="w"> </span><span class="ss">finish</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="1584530705-6">[</span><span class="p" data-group-id="1584530705-6">]</span><span class="p" data-group-id="1584530705-3">]</span><span class="p">,</span><span class="w">
    </span><span class="ss">included_applications</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="1584530705-7">[</span><span class="ss">:my_included_app</span><span class="p" data-group-id="1584530705-7">]</span><span class="w">
  </span><span class="p" data-group-id="1584530705-2">]</span><span class="w">
</span><span class="k" data-group-id="1584530705-1">end</span></code></pre><p>And an example <code class="inline">:my_included_app</code> defines on its <code class="inline">mix.exs</code> the function:</p><pre><code class="makeup elixir" translate="no"><span class="kd">def</span><span class="w"> </span><span class="nf">application</span><span class="w"> </span><span class="k" data-group-id="5651880022-1">do</span><span class="w">
  </span><span class="p" data-group-id="5651880022-2">[</span><span class="w">
    </span><span class="ss">mod</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="5651880022-3">{</span><span class="nc">MyIncludedApp</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5651880022-4">[</span><span class="p" data-group-id="5651880022-4">]</span><span class="p" data-group-id="5651880022-3">}</span><span class="p">,</span><span class="w">
    </span><span class="ss">start_phases</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="5651880022-5">[</span><span class="ss">go</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="5651880022-6">[</span><span class="p" data-group-id="5651880022-6">]</span><span class="p" data-group-id="5651880022-5">]</span><span class="w">
  </span><span class="p" data-group-id="5651880022-2">]</span><span class="w">
</span><span class="k" data-group-id="5651880022-1">end</span></code></pre><p>In this example, the order that the application callbacks are called in is:</p><pre><code class="makeup elixir" translate="no"><span class="nc">Application</span><span class="o">.</span><span class="n">start</span><span class="p" data-group-id="4390251934-1">(</span><span class="nc">MyApp</span><span class="p" data-group-id="4390251934-1">)</span><span class="w">
</span><span class="nc">MyApp</span><span class="o">.</span><span class="n">start</span><span class="p" data-group-id="4390251934-2">(</span><span class="ss">:normal</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4390251934-3">[</span><span class="p" data-group-id="4390251934-3">]</span><span class="p" data-group-id="4390251934-2">)</span><span class="w">
</span><span class="nc">MyApp</span><span class="o">.</span><span class="n">start_phase</span><span class="p" data-group-id="4390251934-4">(</span><span class="ss">:init</span><span class="p">,</span><span class="w"> </span><span class="ss">:normal</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4390251934-5">[</span><span class="p" data-group-id="4390251934-5">]</span><span class="p" data-group-id="4390251934-4">)</span><span class="w">
</span><span class="nc">MyApp</span><span class="o">.</span><span class="n">start_phase</span><span class="p" data-group-id="4390251934-6">(</span><span class="ss">:go</span><span class="p">,</span><span class="w"> </span><span class="ss">:normal</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4390251934-7">[</span><span class="p" data-group-id="4390251934-7">]</span><span class="p" data-group-id="4390251934-6">)</span><span class="w">
</span><span class="nc">MyIncludedApp</span><span class="o">.</span><span class="n">start_phase</span><span class="p" data-group-id="4390251934-8">(</span><span class="ss">:go</span><span class="p">,</span><span class="w"> </span><span class="ss">:normal</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4390251934-9">[</span><span class="p" data-group-id="4390251934-9">]</span><span class="p" data-group-id="4390251934-8">)</span><span class="w">
</span><span class="nc">MyApp</span><span class="o">.</span><span class="n">start_phase</span><span class="p" data-group-id="4390251934-10">(</span><span class="ss">:finish</span><span class="p">,</span><span class="w"> </span><span class="ss">:normal</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4390251934-11">[</span><span class="p" data-group-id="4390251934-11">]</span><span class="p" data-group-id="4390251934-10">)</span></code></pre>
  </section>



      <footer class="footer">
        <p>

          <span class="line">
            <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
              Search HexDocs
            </button>

          </span>
        </p>

        <p class="built-using">
          Built using
          <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.29.4) for the

            <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

        </p>
      </footer>
    </div>
  </div>
</section>
</div>


  </body>
</html>
