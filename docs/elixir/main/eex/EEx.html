<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.29.4">
    <meta name="project" content="EEx v1.15.0-dev">

    <title>EEx â€” EEx v1.15.0-dev</title>
    <link rel="stylesheet" href="dist/html-elixir-R7PT35Y2.css" />


      <link rel="canonical" href="https://hexdocs.pm/eex/main/EEx.html" />

    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-OHVEJKU6.js"></script>
    <script src="dist/sidebar_items-62D4B604.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/html-ZKIIOKLS.js"></script>


  </head>
  <body data-type="modules" class="page-module">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="main">

<button class="sidebar-button sidebar-toggle" aria-label="toggle sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<section class="sidebar">
  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button" aria-label="Submit Search">
      <i class="ri-search-2-line" aria-hidden="true" title="Submit search"></i>
    </button>
    <button type="button" tabindex="-1" class="search-close-button" aria-label="Cancel Search">
      <i class="ri-close-line ri-lg" aria-hidden="true" title="Cancel search"></i>
    </button>
    <label class="search-label">
      <p class="sr-only">Search</p>
      <input name="q" type="text" class="search-input" placeholder="Search..." aria-label="Input your search terms" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">

    <div class="sidebar-projectDetails">
      <a href="https://elixir-lang.org/docs.html" class="sidebar-projectName" translate="no">
EEx
      </a>
      <div class="sidebar-projectVersion" translate="no">
        v1.15.0-dev
      </div>
    </div>
    <ul class="sidebar-listNav">
      <li><a id="extras-list-link" href="#full-list">Pages</a></li>

        <li><a id="modules-list-link" href="#full-list">Modules</a></li>


    </ul>
  </div>

  <div class="gradient"></div>
  <ul id="full-list"></ul>
</section>

<section class="content">
  <output role="status" id="toast"></output>
  <div class="content-outer">
    <div id="content" class="content-inner">

<h1>
<button class="icon-action display-settings">
  <i class="ri-settings-3-line"></i>
  <span class="sr-only">Settings</span>
</button>


    <a href="https://github.com/elixir-lang/elixir/blob/6407215fb97ca6699776db771accc9523f4e4a1f/lib/eex/lib/eex.ex#L10" title="View Source" class="icon-action" rel="help">
      <i class="ri-code-s-slash-line" aria-hidden="true"></i>
      <span class="sr-only">View Source</span>
    </a>

  <span translate="no">EEx</span> 
  <small class="app-vsn" translate="no">(EEx v1.15.0-dev)</small>

</h1>


  <section id="moduledoc">
<p>EEx stands for Embedded Elixir.</p><p>Embedded Elixir allows you to embed Elixir code inside a string
in a robust way.</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">EEx</span><span class="o">.</span><span class="n">eval_string</span><span class="p" data-group-id="7506173848-1">(</span><span class="s">&quot;foo &lt;%= bar %&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">bar</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;baz&quot;</span><span class="p" data-group-id="7506173848-1">)</span><span class="w">
</span><span class="s">&quot;foo baz&quot;</span></code></pre><p>This module provides three main APIs for you to use:</p><ol><li><p>Evaluate a string (<a href="#eval_string/3"><code class="inline">eval_string/3</code></a>) or a file (<a href="#eval_file/3"><code class="inline">eval_file/3</code></a>)
directly. This is the simplest API to use but also the
slowest, since the code is evaluated at runtime and not precompiled.</p></li><li><p>Define a function from a string (<a href="#function_from_string/5"><code class="inline">function_from_string/5</code></a>)
or a file (<a href="#function_from_file/5"><code class="inline">function_from_file/5</code></a>). This allows you to embed
the template as a function inside a module which will then
be compiled. This is the preferred API if you have access
to the template at compilation time.</p></li><li><p>Compile a string (<a href="#compile_string/2"><code class="inline">compile_string/2</code></a>) or a file (<a href="#compile_file/2"><code class="inline">compile_file/2</code></a>)
into Elixir syntax tree. This is the API used by both functions
above and is available to you if you want to provide your own
ways of handling the compiled template.</p></li></ol><p>The APIs above support several options, documented below. You may
also pass an engine which customizes how the EEx code is compiled.</p><h2 id="module-options" class="section-heading">
  <a href="#module-options">
    <i class="ri-link-m" aria-hidden="true"></i>
    Options
  </a>
</h2>
<p>All functions in this module, unless otherwise noted, accept EEx-related
options. They are:</p><ul><li><p><code class="inline">:file</code> - the file to be used in the template. Defaults to the given
file the template is read from or to <code class="inline">&quot;nofile&quot;</code> when compiling from a string.</p></li><li><p><code class="inline">:line</code> - the line to be used as the template start. Defaults to <code class="inline">1</code>.</p></li><li><p><code class="inline">:indentation</code> - (since v1.11.0) an integer added to the column after every
new line. Defaults to <code class="inline">0</code>.</p></li><li><p><code class="inline">:engine</code> - the EEx engine to be used for compilation. Defaults to <a href="EEx.SmartEngine.html"><code class="inline">EEx.SmartEngine</code></a>.</p></li><li><p><code class="inline">:trim</code> - if <code class="inline">true</code>, trims whitespace left and right of quotation as
long as at least one newline is present. All subsequent newlines and
spaces are removed but one newline is retained. Defaults to <code class="inline">false</code>.</p></li><li><p><code class="inline">:parser_options</code> - (since: 1.13.0) allow customizing the parsed code
that is generated. See <a href="https://hexdocs.pm/elixir/main/Code.html#string_to_quoted/2"><code class="inline">Code.string_to_quoted/2</code></a> for available options.
Note that the options <code class="inline">:file</code>, <code class="inline">:line</code> and <code class="inline">:column</code> are ignored if
passed in. Defaults to <code class="inline">Code.get_compiler_option(:parser_options)</code>
(which defaults to <code class="inline">[]</code> if not set).</p></li></ul><h2 id="module-tags" class="section-heading">
  <a href="#module-tags">
    <i class="ri-link-m" aria-hidden="true"></i>
    Tags
  </a>
</h2>
<p>EEx supports multiple tags, declared below:</p><pre><code class="makeup elixir" translate="no"><span class="o">&lt;</span><span class="p">%</span><span class="w"> </span><span class="nc">Elixir</span><span class="w"> </span><span class="ss">expression</span><span class="p">:</span><span class="w"> </span><span class="n">executes</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">discards</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="p">%</span><span class="o">&gt;</span><span class="w">
</span><span class="o">&lt;</span><span class="p">%</span><span class="o">=</span><span class="w"> </span><span class="nc">Elixir</span><span class="w"> </span><span class="ss">expression</span><span class="p">:</span><span class="w"> </span><span class="n">executes</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">prints</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="p">%</span><span class="o">&gt;</span><span class="w">
</span><span class="o">&lt;</span><span class="p">%</span><span class="p">%</span><span class="w"> </span><span class="nc">EEx</span><span class="w"> </span><span class="ss">quotation</span><span class="p">:</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">contents</span><span class="w"> </span><span class="n">inside</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">tag</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="p">%</span><span class="o">&gt;</span><span class="w">
</span><span class="o">&lt;</span><span class="p">%</span><span class="o">!</span><span class="o">--</span><span class="w"> </span><span class="ss">Comments</span><span class="p">:</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">discarded</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="o">--</span><span class="p">%</span><span class="o">&gt;</span></code></pre><p>EEx supports additional tags, that may be used by some engines,
but they do not have a meaning by default:</p><pre><code class="makeup elixir" translate="no"><span class="o">&lt;</span><span class="p">%</span><span class="o">|</span><span class="w"> </span><span class="n">...</span><span class="w"> </span><span class="p">%</span><span class="o">&gt;</span><span class="w">
</span><span class="o">&lt;</span><span class="p">%</span><span class="o">/</span><span class="w"> </span><span class="n">...</span><span class="w"> </span><span class="p">%</span><span class="o">&gt;</span></code></pre><h2 id="module-engine" class="section-heading">
  <a href="#module-engine">
    <i class="ri-link-m" aria-hidden="true"></i>
    Engine
  </a>
</h2>
<p>EEx has the concept of engines which allows you to modify or
transform the code extracted from the given string or file.</p><p>By default, <a href="EEx.html#content"><code class="inline">EEx</code></a> uses the <a href="EEx.SmartEngine.html"><code class="inline">EEx.SmartEngine</code></a> that provides some
conveniences on top of the simple <a href="EEx.Engine.html"><code class="inline">EEx.Engine</code></a>.</p><h3 id="module-eex-smartengine" class="section-heading">
  <a href="#module-eex-smartengine">
    <i class="ri-link-m" aria-hidden="true"></i>
    <a href="EEx.SmartEngine.html"><code class="inline">EEx.SmartEngine</code></a>
  </a>
</h3>
<p>The smart engine uses EEx default rules and adds the <code class="inline">@</code> construct
for reading template assigns:</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">EEx</span><span class="o">.</span><span class="n">eval_string</span><span class="p" data-group-id="8124740224-1">(</span><span class="s">&quot;&lt;%= @foo %&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">assigns</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="8124740224-2">[</span><span class="ss">foo</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="8124740224-2">]</span><span class="p" data-group-id="8124740224-1">)</span><span class="w">
</span><span class="s">&quot;1&quot;</span></code></pre><p>In other words, <code class="inline">&lt;%= @foo %&gt;</code> translates to:</p><pre><code class="makeup elixir" translate="no"><span class="o">&lt;</span><span class="p">%</span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="9963919897-1">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="p" data-group-id="9963919897-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Access</span><span class="o">.</span><span class="n">fetch</span><span class="p" data-group-id="9963919897-2">(</span><span class="n">assigns</span><span class="p">,</span><span class="w"> </span><span class="ss">:foo</span><span class="p" data-group-id="9963919897-2">)</span><span class="p">;</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="p">%</span><span class="o">&gt;</span></code></pre><p>The <code class="inline">assigns</code> extension is useful when the number of variables
required by the template is not specified at compilation time.</p>
  </section>


  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
        <span class="sr-only">Link to this section</span>
      </a>
      Summary
    </h1>
<div class="summary-types summary">
  <h2>
    <a href="#types">Types</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:column/0" translate="no">column()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:line/0" translate="no">line()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:marker/0" translate="no">marker()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:metadata/0" translate="no">metadata()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:token/0" translate="no">token()</a>

      </div>

    </div>

</div>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#compile_file/2" translate="no">compile_file(filename, options \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Gets a <code class="inline">filename</code> and generates a quoted expression
that can be evaluated by Elixir or compiled to a function.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#compile_string/2" translate="no">compile_string(source, options \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Gets a string <code class="inline">source</code> and generates a quoted expression
that can be evaluated by Elixir or compiled to a function.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#eval_file/3" translate="no">eval_file(filename, bindings \\ [], options \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Gets a <code class="inline">filename</code> and evaluate the values using the <code class="inline">bindings</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#eval_string/3" translate="no">eval_string(source, bindings \\ [], options \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Gets a string <code class="inline">source</code> and evaluate the values using the <code class="inline">bindings</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#function_from_file/5" translate="no">function_from_file(kind, name, file, args \\ [], options \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Generates a function definition from the file contents.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#function_from_string/5" translate="no">function_from_string(kind, name, template, args \\ [], options \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Generates a function definition from the given string.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#tokenize/2" translate="no">tokenize(contents, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Tokenize the given contents according to the given options.</p></div>

    </div>

</div>

  </section>


  <section id="types" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types">
        <i class="ri-link-m" aria-hidden="true"></i>
        <span class="sr-only">Link to this section</span>
      </a>
Types
    </h1>
    <div class="types-list">
<section class="detail" id="t:column/0">

  <div class="detail-header">
    <a href="#t:column/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">column()</h1>

      <a href="https://github.com/elixir-lang/elixir/blob/6407215fb97ca6699776db771accc9523f4e4a1f/lib/eex/lib/eex.ex#L105" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@type</span> column() :: <a href="https://hexdocs.pm/elixir/main/typespecs.html#basic-types">non_neg_integer</a>()</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:line/0">

  <div class="detail-header">
    <a href="#t:line/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">line()</h1>

      <a href="https://github.com/elixir-lang/elixir/blob/6407215fb97ca6699776db771accc9523f4e4a1f/lib/eex/lib/eex.ex#L104" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@type</span> line() :: <a href="https://hexdocs.pm/elixir/main/typespecs.html#basic-types">non_neg_integer</a>()</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:marker/0">

  <div class="detail-header">
    <a href="#t:marker/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">marker()</h1>

      <a href="https://github.com/elixir-lang/elixir/blob/6407215fb97ca6699776db771accc9523f4e4a1f/lib/eex/lib/eex.ex#L106" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@type</span> marker() :: ~c&quot;=&quot; | ~c&quot;/&quot; | ~c&quot;|&quot; | []</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:metadata/0">

  <div class="detail-header">
    <a href="#t:metadata/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">metadata()</h1>

      <a href="https://github.com/elixir-lang/elixir/blob/6407215fb97ca6699776db771accc9523f4e4a1f/lib/eex/lib/eex.ex#L107" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@type</span> metadata() :: %{column: <a href="#t:column/0">column</a>(), line: <a href="#t:line/0">line</a>()}</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:token/0">

  <div class="detail-header">
    <a href="#t:token/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">token()</h1>

      <a href="https://github.com/elixir-lang/elixir/blob/6407215fb97ca6699776db771accc9523f4e4a1f/lib/eex/lib/eex.ex#L108" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@type</span> token() ::
  {:comment, <a href="https://hexdocs.pm/elixir/main/typespecs.html#built-in-types">charlist</a>(), <a href="#t:metadata/0">metadata</a>()}
  | {:text, <a href="https://hexdocs.pm/elixir/main/typespecs.html#built-in-types">charlist</a>(), <a href="#t:metadata/0">metadata</a>()}
  | {:expr | :start_expr | :middle_expr | :end_expr, <a href="#t:marker/0">marker</a>(), <a href="https://hexdocs.pm/elixir/main/typespecs.html#built-in-types">charlist</a>(),
     <a href="#t:metadata/0">metadata</a>()}
  | {:eof, <a href="#t:metadata/0">metadata</a>()}</pre>

      </div>


  </section>
</section>

    </div>
  </section>

  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
        <span class="sr-only">Link to this section</span>
      </a>
Functions
    </h1>
    <div class="functions-list">
<section class="detail" id="compile_file/2">

    <span id="compile_file/1"></span>

  <div class="detail-header">
    <a href="#compile_file/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">compile_file(filename, options \\ [])</h1>

      <a href="https://github.com/elixir-lang/elixir/blob/6407215fb97ca6699776db771accc9523f4e4a1f/lib/eex/lib/eex.ex#L256" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> compile_file(
  <a href="https://hexdocs.pm/elixir/main/Path.html#t:t/0">Path.t</a>(),
  <a href="https://hexdocs.pm/elixir/main/typespecs.html#built-in-types">keyword</a>()
) :: <a href="https://hexdocs.pm/elixir/main/Macro.html#t:t/0">Macro.t</a>()</pre>

      </div>

<p>Gets a <code class="inline">filename</code> and generates a quoted expression
that can be evaluated by Elixir or compiled to a function.</p><p>This is useful if you want to compile a EEx template into code and inject
that code somewhere or evaluate it at runtime.</p><p>The generated quoted code will use variables defined in the template that
will be taken from the context where the code is evaluated. If you
have a template such as <code class="inline">&lt;%= a + b %&gt;</code>, then the returned quoted code
will use the <code class="inline">a</code> and <code class="inline">b</code> variables in the context where it's evaluated. See
examples below.</p><p>The supported <code class="inline">options</code> are described <a href="#module-options">in the module docs</a>.</p><h2 id="compile_file/2-examples" class="section-heading">
  <a href="#compile_file/2-examples">
    <i class="ri-link-m" aria-hidden="true"></i>
    Examples
  </a>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="c1"># sample.eex</span><span class="w">
</span><span class="o">&lt;</span><span class="p">%</span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="p">%</span><span class="o">&gt;</span><span class="w">

</span><span class="c1"># In code:</span><span class="w">
</span><span class="n">quoted</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">EEx</span><span class="o">.</span><span class="n">compile_file</span><span class="p" data-group-id="8774264843-1">(</span><span class="s">&quot;sample.eex&quot;</span><span class="p" data-group-id="8774264843-1">)</span><span class="w">
</span><span class="p" data-group-id="8774264843-2">{</span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="c">_bindings</span><span class="p" data-group-id="8774264843-2">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Code</span><span class="o">.</span><span class="n">eval_quoted</span><span class="p" data-group-id="8774264843-3">(</span><span class="n">quoted</span><span class="p">,</span><span class="w"> </span><span class="ss">a</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">b</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="8774264843-3">)</span><span class="w">
</span><span class="n">result</span><span class="w">
</span><span class="c1">#=&gt; &quot;3&quot;</span></code></pre>
  </section>
</section>
<section class="detail" id="compile_string/2">

    <span id="compile_string/1"></span>

  <div class="detail-header">
    <a href="#compile_string/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">compile_string(source, options \\ [])</h1>

      <a href="https://github.com/elixir-lang/elixir/blob/6407215fb97ca6699776db771accc9523f4e4a1f/lib/eex/lib/eex.ex#L217" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> compile_string(
  <a href="https://hexdocs.pm/elixir/main/String.html#t:t/0">String.t</a>(),
  <a href="https://hexdocs.pm/elixir/main/typespecs.html#built-in-types">keyword</a>()
) :: <a href="https://hexdocs.pm/elixir/main/Macro.html#t:t/0">Macro.t</a>()</pre>

      </div>

<p>Gets a string <code class="inline">source</code> and generates a quoted expression
that can be evaluated by Elixir or compiled to a function.</p><p>This is useful if you want to compile a EEx template into code and inject
that code somewhere or evaluate it at runtime.</p><p>The generated quoted code will use variables defined in the template that
will be taken from the context where the code is evaluated. If you
have a template such as <code class="inline">&lt;%= a + b %&gt;</code>, then the returned quoted code
will use the <code class="inline">a</code> and <code class="inline">b</code> variables in the context where it's evaluated. See
examples below.</p><p>The supported <code class="inline">options</code> are described <a href="#module-options">in the module docs</a>.</p><h2 id="compile_string/2-examples" class="section-heading">
  <a href="#compile_string/2-examples">
    <i class="ri-link-m" aria-hidden="true"></i>
    Examples
  </a>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">quoted</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">EEx</span><span class="o">.</span><span class="n">compile_string</span><span class="p" data-group-id="5364974110-1">(</span><span class="s">&quot;&lt;%= a + b %&gt;&quot;</span><span class="p" data-group-id="5364974110-1">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="5364974110-2">{</span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="c">_bindings</span><span class="p" data-group-id="5364974110-2">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Code</span><span class="o">.</span><span class="n">eval_quoted</span><span class="p" data-group-id="5364974110-3">(</span><span class="n">quoted</span><span class="p">,</span><span class="w"> </span><span class="ss">a</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">b</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="5364974110-3">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">result</span><span class="w">
</span><span class="s">&quot;3&quot;</span></code></pre>
  </section>
</section>
<section class="detail" id="eval_file/3">

    <span id="eval_file/1"></span>

    <span id="eval_file/2"></span>

  <div class="detail-header">
    <a href="#eval_file/3" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">eval_file(filename, bindings \\ [], options \\ [])</h1>

      <a href="https://github.com/elixir-lang/elixir/blob/6407215fb97ca6699776db771accc9523f4e4a1f/lib/eex/lib/eex.ex#L296" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> eval_file(<a href="https://hexdocs.pm/elixir/main/Path.html#t:t/0">Path.t</a>(), <a href="https://hexdocs.pm/elixir/main/typespecs.html#built-in-types">keyword</a>(), <a href="https://hexdocs.pm/elixir/main/typespecs.html#built-in-types">keyword</a>()) :: <a href="https://hexdocs.pm/elixir/main/String.html#t:t/0">String.t</a>()</pre>

      </div>

<p>Gets a <code class="inline">filename</code> and evaluate the values using the <code class="inline">bindings</code>.</p><p>The supported <code class="inline">options</code> are described <a href="#module-options">in the module docs</a>.</p><h2 id="eval_file/3-examples" class="section-heading">
  <a href="#eval_file/3-examples">
    <i class="ri-link-m" aria-hidden="true"></i>
    Examples
  </a>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="c1"># sample.eex</span><span class="w">
</span><span class="n">foo</span><span class="w"> </span><span class="o">&lt;</span><span class="p">%</span><span class="o">=</span><span class="w"> </span><span class="n">bar</span><span class="w"> </span><span class="p">%</span><span class="o">&gt;</span><span class="w">

</span><span class="c1"># IEx</span><span class="w">
</span><span class="nc">EEx</span><span class="o">.</span><span class="n">eval_file</span><span class="p" data-group-id="2882807295-1">(</span><span class="s">&quot;sample.eex&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">bar</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;baz&quot;</span><span class="p" data-group-id="2882807295-1">)</span><span class="w">
</span><span class="c1">#=&gt; &quot;foo baz&quot;</span></code></pre>
  </section>
</section>
<section class="detail" id="eval_string/3">

    <span id="eval_string/1"></span>

    <span id="eval_string/2"></span>

  <div class="detail-header">
    <a href="#eval_string/3" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">eval_string(source, bindings \\ [], options \\ [])</h1>

      <a href="https://github.com/elixir-lang/elixir/blob/6407215fb97ca6699776db771accc9523f4e4a1f/lib/eex/lib/eex.ex#L274" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> eval_string(<a href="https://hexdocs.pm/elixir/main/String.html#t:t/0">String.t</a>(), <a href="https://hexdocs.pm/elixir/main/typespecs.html#built-in-types">keyword</a>(), <a href="https://hexdocs.pm/elixir/main/typespecs.html#built-in-types">keyword</a>()) :: <a href="https://hexdocs.pm/elixir/main/String.html#t:t/0">String.t</a>()</pre>

      </div>

<p>Gets a string <code class="inline">source</code> and evaluate the values using the <code class="inline">bindings</code>.</p><p>The supported <code class="inline">options</code> are described <a href="#module-options">in the module docs</a>.</p><h2 id="eval_string/3-examples" class="section-heading">
  <a href="#eval_string/3-examples">
    <i class="ri-link-m" aria-hidden="true"></i>
    Examples
  </a>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">EEx</span><span class="o">.</span><span class="n">eval_string</span><span class="p" data-group-id="8140363188-1">(</span><span class="s">&quot;foo &lt;%= bar %&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">bar</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;baz&quot;</span><span class="p" data-group-id="8140363188-1">)</span><span class="w">
</span><span class="s">&quot;foo baz&quot;</span></code></pre>
  </section>
</section>
<section class="detail" id="function_from_file/5">

    <span id="function_from_file/3"></span>

    <span id="function_from_file/4"></span>

  <div class="detail-header">
    <a href="#function_from_file/5" class="detail-link" title="Link to this macro">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this macro</span>
    </a>
    <h1 class="signature" translate="no">function_from_file(kind, name, file, args \\ [], options \\ [])</h1>

      <a href="https://github.com/elixir-lang/elixir/blob/6407215fb97ca6699776db771accc9523f4e4a1f/lib/eex/lib/eex.ex#L178" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(macro)</span>

  </div>

  <section class="docstring">

<p>Generates a function definition from the file contents.</p><p>The first argument is the kind of the generated function (<code class="inline">:def</code> or <code class="inline">:defp</code>).
The <code class="inline">name</code> argument is the name that the generated function will have.
<code class="inline">file</code> is the path to the EEx template file. <code class="inline">args</code> is a list of arguments
that the generated function will accept. They will be available inside the EEx
template.</p><p>This function is useful in case you have templates but
you want to precompile inside a module for speed.</p><p>The supported <code class="inline">options</code> are described <a href="#module-options">in the module docs</a>.</p><h2 id="function_from_file/5-examples" class="section-heading">
  <a href="#function_from_file/5-examples">
    <i class="ri-link-m" aria-hidden="true"></i>
    Examples
  </a>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="c1"># sample.eex</span><span class="w">
</span><span class="o">&lt;</span><span class="p">%</span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="p">%</span><span class="o">&gt;</span><span class="w">

</span><span class="c1"># sample.ex</span><span class="w">
</span><span class="kd">defmodule</span><span class="w"> </span><span class="nc">Sample</span><span class="w"> </span><span class="k" data-group-id="8636145979-1">do</span><span class="w">
  </span><span class="kn">require</span><span class="w"> </span><span class="nc">EEx</span><span class="w">
  </span><span class="nc">EEx</span><span class="o">.</span><span class="n">function_from_file</span><span class="p" data-group-id="8636145979-2">(</span><span class="ss">:def</span><span class="p">,</span><span class="w"> </span><span class="ss">:sample</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;sample.eex&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8636145979-3">[</span><span class="ss">:a</span><span class="p">,</span><span class="w"> </span><span class="ss">:b</span><span class="p" data-group-id="8636145979-3">]</span><span class="p" data-group-id="8636145979-2">)</span><span class="w">
</span><span class="k" data-group-id="8636145979-1">end</span><span class="w">

</span><span class="c1"># iex</span><span class="w">
</span><span class="nc">Sample</span><span class="o">.</span><span class="n">sample</span><span class="p" data-group-id="8636145979-4">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="8636145979-4">)</span><span class="w">
</span><span class="c1">#=&gt; &quot;3&quot;</span></code></pre>
  </section>
</section>
<section class="detail" id="function_from_string/5">

    <span id="function_from_string/3"></span>

    <span id="function_from_string/4"></span>

  <div class="detail-header">
    <a href="#function_from_string/5" class="detail-link" title="Link to this macro">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this macro</span>
    </a>
    <h1 class="signature" translate="no">function_from_string(kind, name, template, args \\ [], options \\ [])</h1>

      <a href="https://github.com/elixir-lang/elixir/blob/6407215fb97ca6699776db771accc9523f4e4a1f/lib/eex/lib/eex.ex#L135" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(macro)</span>

  </div>

  <section class="docstring">

<p>Generates a function definition from the given string.</p><p>The first argument is the kind of the generated function (<code class="inline">:def</code> or <code class="inline">:defp</code>).
The <code class="inline">name</code> argument is the name that the generated function will have.
<code class="inline">template</code> is the string containing the EEx template. <code class="inline">args</code> is a list of arguments
that the generated function will accept. They will be available inside the EEx
template.</p><p>The supported <code class="inline">options</code> are described <a href="#module-options">in the module docs</a>.</p><h2 id="function_from_string/5-examples" class="section-heading">
  <a href="#function_from_string/5-examples">
    <i class="ri-link-m" aria-hidden="true"></i>
    Examples
  </a>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="kd">defmodule</span><span class="w"> </span><span class="nc">Sample</span><span class="w"> </span><span class="k" data-group-id="1790563944-1">do</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">  </span><span class="kn">require</span><span class="w"> </span><span class="nc">EEx</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">  </span><span class="nc">EEx</span><span class="o">.</span><span class="n">function_from_string</span><span class="p" data-group-id="1790563944-2">(</span><span class="ss">:def</span><span class="p">,</span><span class="w"> </span><span class="ss">:sample</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&lt;%= a + b %&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1790563944-3">[</span><span class="ss">:a</span><span class="p">,</span><span class="w"> </span><span class="ss">:b</span><span class="p" data-group-id="1790563944-3">]</span><span class="p" data-group-id="1790563944-2">)</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="k" data-group-id="1790563944-1">end</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Sample</span><span class="o">.</span><span class="n">sample</span><span class="p" data-group-id="1790563944-4">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="1790563944-4">)</span><span class="w">
</span><span class="s">&quot;3&quot;</span></code></pre>
  </section>
</section>
<section class="detail" id="tokenize/2">

    <span id="tokenize/1"></span>

  <div class="detail-header">
    <a href="#tokenize/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">tokenize(contents, opts \\ [])</h1>

      <a href="https://github.com/elixir-lang/elixir/blob/6407215fb97ca6699776db771accc9523f4e4a1f/lib/eex/lib/eex.ex#L337" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since 1.14.0)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> tokenize([<a href="https://hexdocs.pm/elixir/main/typespecs.html#built-in-types">char</a>()] | <a href="https://hexdocs.pm/elixir/main/String.html#t:t/0">String.t</a>(), opts :: <a href="https://hexdocs.pm/elixir/main/typespecs.html#built-in-types">keyword</a>()) ::
  {:ok, [<a href="#t:token/0">token</a>()]} | {:error, <a href="https://hexdocs.pm/elixir/main/String.html#t:t/0">String.t</a>(), <a href="#t:metadata/0">metadata</a>()}</pre>

      </div>

<p>Tokenize the given contents according to the given options.</p><h2 id="tokenize/2-options" class="section-heading">
  <a href="#tokenize/2-options">
    <i class="ri-link-m" aria-hidden="true"></i>
    Options
  </a>
</h2>
<ul><li><code class="inline">:line</code> - An integer to start as line. Default is 1.</li><li><code class="inline">:column</code> - An integer to start as column. Default is 1.</li><li><code class="inline">:indentation</code> - An integer that indicates the indentation. Default is 0.</li><li><code class="inline">:trim</code> - Tells the tokenizer to either trim the content or not. Default is false.</li><li><code class="inline">:file</code> - Can be either a file or a string &quot;nofile&quot;.</li></ul><h2 id="tokenize/2-examples" class="section-heading">
  <a href="#tokenize/2-examples">
    <i class="ri-link-m" aria-hidden="true"></i>
    Examples
  </a>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">EEx</span><span class="o">.</span><span class="n">tokenize</span><span class="p" data-group-id="4452959625-1">(</span><span class="sc">&#39;foo&#39;</span><span class="p">,</span><span class="w"> </span><span class="ss">line</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">column</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="4452959625-1">)</span><span class="w">
</span><span class="p" data-group-id="4452959625-2">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4452959625-3">[</span><span class="p" data-group-id="4452959625-4">{</span><span class="ss">:text</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;foo&#39;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4452959625-5">%{</span><span class="ss">column</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">line</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="4452959625-5">}</span><span class="p" data-group-id="4452959625-4">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4452959625-6">{</span><span class="ss">:eof</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4452959625-7">%{</span><span class="ss">column</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="ss">line</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="4452959625-7">}</span><span class="p" data-group-id="4452959625-6">}</span><span class="p" data-group-id="4452959625-3">]</span><span class="p" data-group-id="4452959625-2">}</span></code></pre><h2 id="tokenize/2-result" class="section-heading">
  <a href="#tokenize/2-result">
    <i class="ri-link-m" aria-hidden="true"></i>
    Result
  </a>
</h2>
<p>It returns <code class="inline">{:ok, [token]}</code> where a token is one of:</p><ul><li><code class="inline">{:text, content, %{column: column, line: line}}</code></li><li><code class="inline">{:expr, marker, content, %{column: column, line: line}}</code></li><li><code class="inline">{:start_expr, marker, content, %{column: column, line: line}}</code></li><li><code class="inline">{:middle_expr, marker, content, %{column: column, line: line}}</code></li><li><code class="inline">{:end_expr, marker, content, %{column: column, line: line}}</code></li><li><code class="inline">{:eof, %{column: column, line: line}}</code></li></ul><p>Or <code class="inline">{:error, message, %{column: column, line: line}}</code> in case of errors.
Note new tokens may be added in the future.</p>
  </section>
</section>

    </div>
  </section>

      <footer class="footer">
        <p>

          <span class="line">
            <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
              Search HexDocs
            </button>

          </span>
        </p>

        <p class="built-using">
          Built using
          <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.29.4) for the

            <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

        </p>
      </footer>
    </div>
  </div>
</section>
</div>


  </body>
</html>
