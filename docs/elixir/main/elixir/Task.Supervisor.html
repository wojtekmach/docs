<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.29.4">
    <meta name="project" content="Elixir v1.15.0-dev">

    <title>Task.Supervisor â€” Elixir v1.15.0-dev</title>
    <link rel="stylesheet" href="dist/html-elixir-R7PT35Y2.css" />


      <link rel="canonical" href="https://hexdocs.pm/elixir/main/Task.Supervisor.html" />

    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-OHVEJKU6.js"></script>
    <script src="dist/sidebar_items-E44CB883.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/html-ZKIIOKLS.js"></script>


  </head>
  <body data-type="modules" class="page-module">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="main">

<button class="sidebar-button sidebar-toggle" aria-label="toggle sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<section class="sidebar">
  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button" aria-label="Submit Search">
      <i class="ri-search-2-line" aria-hidden="true" title="Submit search"></i>
    </button>
    <button type="button" tabindex="-1" class="search-close-button" aria-label="Cancel Search">
      <i class="ri-close-line ri-lg" aria-hidden="true" title="Cancel search"></i>
    </button>
    <label class="search-label">
      <p class="sr-only">Search</p>
      <input name="q" type="text" class="search-input" placeholder="Search..." aria-label="Input your search terms" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">

    <div class="sidebar-projectDetails">
      <a href="https://elixir-lang.org/docs.html" class="sidebar-projectName" translate="no">
Elixir
      </a>
      <div class="sidebar-projectVersion" translate="no">
        v1.15.0-dev
      </div>
    </div>
    <ul class="sidebar-listNav">
      <li><a id="extras-list-link" href="#full-list">Pages</a></li>

        <li><a id="modules-list-link" href="#full-list">Modules</a></li>


    </ul>
  </div>

  <div class="gradient"></div>
  <ul id="full-list"></ul>
</section>

<section class="content">
  <output role="status" id="toast"></output>
  <div class="content-outer">
    <div id="content" class="content-inner">

<h1>
<button class="icon-action display-settings">
  <i class="ri-settings-3-line"></i>
  <span class="sr-only">Settings</span>
</button>


    <a href="https://github.com/elixir-lang/elixir/blob/6407215fb97ca6699776db771accc9523f4e4a1f/lib/elixir/lib/task/supervisor.ex#L1" title="View Source" class="icon-action" rel="help">
      <i class="ri-code-s-slash-line" aria-hidden="true"></i>
      <span class="sr-only">View Source</span>
    </a>

  <span translate="no">Task.Supervisor</span> 
  <small class="app-vsn" translate="no">(Elixir v1.15.0-dev)</small>

</h1>


  <section id="moduledoc">
<p>A task supervisor.</p><p>This module defines a supervisor which can be used to dynamically
supervise tasks.</p><p>A task supervisor is started with no children, often under a
supervisor and a name:</p><pre><code class="makeup elixir" translate="no"><span class="n">children</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="2305558026-1">[</span><span class="w">
  </span><span class="p" data-group-id="2305558026-2">{</span><span class="nc">Task.Supervisor</span><span class="p">,</span><span class="w"> </span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="nc">MyApp.TaskSupervisor</span><span class="p" data-group-id="2305558026-2">}</span><span class="w">
</span><span class="p" data-group-id="2305558026-1">]</span><span class="w">

</span><span class="nc">Supervisor</span><span class="o">.</span><span class="n">start_link</span><span class="p" data-group-id="2305558026-3">(</span><span class="n">children</span><span class="p">,</span><span class="w"> </span><span class="ss">strategy</span><span class="p">:</span><span class="w"> </span><span class="ss">:one_for_one</span><span class="p" data-group-id="2305558026-3">)</span></code></pre><p>The options given in the child specification are documented in <a href="#start_link/1"><code class="inline">start_link/1</code></a>.</p><p>Once started, you can start tasks directly under the supervisor, for example:</p><pre><code class="makeup elixir" translate="no"><span class="n">task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Task.Supervisor</span><span class="o">.</span><span class="n">async</span><span class="p" data-group-id="9748826211-1">(</span><span class="nc">MyApp.TaskSupervisor</span><span class="p">,</span><span class="w"> </span><span class="k" data-group-id="9748826211-2">fn</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="ss">:do_some_work</span><span class="w">
</span><span class="k" data-group-id="9748826211-2">end</span><span class="p" data-group-id="9748826211-1">)</span></code></pre><p>See the <a href="Task.html"><code class="inline">Task</code></a> module for more examples.</p><h2 id="module-scalability-and-partitioning" class="section-heading">
  <a href="#module-scalability-and-partitioning">
    <i class="ri-link-m" aria-hidden="true"></i>
    Scalability and partitioning
  </a>
</h2>
<p>The <a href="Task.Supervisor.html#content"><code class="inline">Task.Supervisor</code></a> is a single process responsible for starting
other processes. In some applications, the <a href="Task.Supervisor.html#content"><code class="inline">Task.Supervisor</code></a> may
become a bottleneck. To address this, you can start multiple instances
of the <a href="Task.Supervisor.html#content"><code class="inline">Task.Supervisor</code></a> and then pick a random instance to start
the task on.</p><p>Instead of:</p><pre><code class="makeup elixir" translate="no"><span class="n">children</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="6944688916-1">[</span><span class="w">
  </span><span class="p" data-group-id="6944688916-2">{</span><span class="nc">Task.Supervisor</span><span class="p">,</span><span class="w"> </span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="nc">MyApp.TaskSupervisor</span><span class="p" data-group-id="6944688916-2">}</span><span class="w">
</span><span class="p" data-group-id="6944688916-1">]</span></code></pre><p>and:</p><pre><code class="makeup elixir" translate="no"><span class="nc">Task.Supervisor</span><span class="o">.</span><span class="n">async</span><span class="p" data-group-id="1161537415-1">(</span><span class="nc">MyApp.TaskSupervisor</span><span class="p">,</span><span class="w"> </span><span class="k" data-group-id="1161537415-2">fn</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="ss">:do_some_work</span><span class="w"> </span><span class="k" data-group-id="1161537415-2">end</span><span class="p" data-group-id="1161537415-1">)</span></code></pre><p>You can do this:</p><pre><code class="makeup elixir" translate="no"><span class="n">children</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="3899324383-1">[</span><span class="w">
  </span><span class="p" data-group-id="3899324383-2">{</span><span class="nc">PartitionSupervisor</span><span class="p">,</span><span class="w">
   </span><span class="ss">child_spec</span><span class="p">:</span><span class="w"> </span><span class="nc">Task.Supervisor</span><span class="p">,</span><span class="w">
   </span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="nc">MyApp.TaskSupervisors</span><span class="p" data-group-id="3899324383-2">}</span><span class="w">
</span><span class="p" data-group-id="3899324383-1">]</span></code></pre><p>and then:</p><pre><code class="makeup elixir" translate="no"><span class="nc">Task.Supervisor</span><span class="o">.</span><span class="n">async</span><span class="p" data-group-id="2403375006-1">(</span><span class="w">
  </span><span class="p" data-group-id="2403375006-2">{</span><span class="ss">:via</span><span class="p">,</span><span class="w"> </span><span class="nc">PartitionSupervisor</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2403375006-3">{</span><span class="nc">MyApp.TaskSupervisors</span><span class="p">,</span><span class="w"> </span><span class="n">self</span><span class="p" data-group-id="2403375006-4">(</span><span class="p" data-group-id="2403375006-4">)</span><span class="p" data-group-id="2403375006-3">}</span><span class="p" data-group-id="2403375006-2">}</span><span class="p">,</span><span class="w">
  </span><span class="k" data-group-id="2403375006-5">fn</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="ss">:do_some_work</span><span class="w"> </span><span class="k" data-group-id="2403375006-5">end</span><span class="w">
</span><span class="p" data-group-id="2403375006-1">)</span></code></pre><p>In the code above, we start a partition supervisor that will by default
start a dynamic supervisor for each core in your machine. Then, instead
of calling the <a href="Task.Supervisor.html#content"><code class="inline">Task.Supervisor</code></a> by name, you call it through the
partition supervisor using the <code class="inline">{:via, PartitionSupervisor, {name, key}}</code>
format, where <code class="inline">name</code> is the name of the partition supervisor and <code class="inline">key</code>
is the routing key. We picked <code class="inline">self()</code> as the routing key, which means
each process will be assigned one of the existing task supervisors.
Read the <a href="PartitionSupervisor.html"><code class="inline">PartitionSupervisor</code></a> docs for more information.</p><h2 id="module-name-registration" class="section-heading">
  <a href="#module-name-registration">
    <i class="ri-link-m" aria-hidden="true"></i>
    Name registration
  </a>
</h2>
<p>A <a href="Task.Supervisor.html#content"><code class="inline">Task.Supervisor</code></a> is bound to the same name registration rules as a
<a href="GenServer.html"><code class="inline">GenServer</code></a>. Read more about them in the <a href="GenServer.html"><code class="inline">GenServer</code></a> docs.</p>
  </section>


  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
        <span class="sr-only">Link to this section</span>
      </a>
      Summary
    </h1>
<div class="summary-types summary">
  <h2>
    <a href="#types">Types</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:option/0" translate="no">option()</a>

      </div>

        <div class="summary-synopsis"><p>Option values used by <code class="inline">start_link</code></p></div>

    </div>

</div>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#async/3" translate="no">async(supervisor, fun, options \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Starts a task that can be awaited on.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#async/5" translate="no">async(supervisor, module, fun, args, options \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Starts a task that can be awaited on.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#async_nolink/3" translate="no">async_nolink(supervisor, fun, options \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Starts a task that can be awaited on.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#async_nolink/5" translate="no">async_nolink(supervisor, module, fun, args, options \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Starts a task that can be awaited on.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#async_stream/4" translate="no">async_stream(supervisor, enumerable, fun, options \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns a stream that runs the given function <code class="inline">fun</code> concurrently
on each element in <code class="inline">enumerable</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#async_stream/6" translate="no">async_stream(supervisor, enumerable, module, function, args, options \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns a stream where the given function (<code class="inline">module</code> and <code class="inline">function</code>)
is mapped concurrently on each element in <code class="inline">enumerable</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#async_stream_nolink/4" translate="no">async_stream_nolink(supervisor, enumerable, fun, options \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns a stream that runs the given <code class="inline">function</code> concurrently on each
element in <code class="inline">enumerable</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#async_stream_nolink/6" translate="no">async_stream_nolink(supervisor, enumerable, module, function, args, options \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns a stream where the given function (<code class="inline">module</code> and <code class="inline">function</code>)
is mapped concurrently on each element in <code class="inline">enumerable</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#children/1" translate="no">children(supervisor)</a>

      </div>

        <div class="summary-synopsis"><p>Returns all children PIDs except those that are restarting.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#start_child/3" translate="no">start_child(supervisor, fun, options \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Starts a task as a child of the given <code class="inline">supervisor</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#start_child/5" translate="no">start_child(supervisor, module, fun, args, options \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Starts a task as a child of the given <code class="inline">supervisor</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#start_link/1" translate="no">start_link(options \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Starts a new supervisor.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#terminate_child/2" translate="no">terminate_child(supervisor, pid)</a>

      </div>

        <div class="summary-synopsis"><p>Terminates the child with the given <code class="inline">pid</code>.</p></div>

    </div>

</div>

  </section>


  <section id="types" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types">
        <i class="ri-link-m" aria-hidden="true"></i>
        <span class="sr-only">Link to this section</span>
      </a>
Types
    </h1>
    <div class="types-list">
<section class="detail" id="t:option/0">

  <div class="detail-header">
    <a href="#t:option/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">option()</h1>

      <a href="https://github.com/elixir-lang/elixir/blob/6407215fb97ca6699776db771accc9523f4e4a1f/lib/elixir/lib/task/supervisor.ex#L76" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@type</span> option() :: <a href="DynamicSupervisor.html#t:option/0">DynamicSupervisor.option</a>() | <a href="DynamicSupervisor.html#t:init_option/0">DynamicSupervisor.init_option</a>()</pre>

      </div>

<p>Option values used by <code class="inline">start_link</code></p>
  </section>
</section>

    </div>
  </section>

  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
        <span class="sr-only">Link to this section</span>
      </a>
Functions
    </h1>
    <div class="functions-list">
<section class="detail" id="async/3">

    <span id="async/2"></span>

  <div class="detail-header">
    <a href="#async/3" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">async(supervisor, fun, options \\ [])</h1>

      <a href="https://github.com/elixir-lang/elixir/blob/6407215fb97ca6699776db771accc9523f4e4a1f/lib/elixir/lib/task/supervisor.ex#L168" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> async(<a href="Supervisor.html#t:supervisor/0">Supervisor.supervisor</a>(), (-&gt; <a href="typespecs.html#basic-types">any</a>()), <a href="Keyword.html#t:t/0">Keyword.t</a>()) :: <a href="Task.html#t:t/0">Task.t</a>()</pre>

      </div>

<p>Starts a task that can be awaited on.</p><p>The <code class="inline">supervisor</code> must be a reference as defined in <a href="Supervisor.html"><code class="inline">Supervisor</code></a>.
The task will still be linked to the caller, see <a href="Task.html#async/3"><code class="inline">Task.async/3</code></a> for
more information and <a href="#async_nolink/3"><code class="inline">async_nolink/3</code></a> for a non-linked variant.</p><p>Raises an error if <code class="inline">supervisor</code> has reached the maximum number of
children.</p><h2 id="async/3-options" class="section-heading">
  <a href="#async/3-options">
    <i class="ri-link-m" aria-hidden="true"></i>
    Options
  </a>
</h2>
<ul><li><code class="inline">:shutdown</code> - <code class="inline">:brutal_kill</code> if the tasks must be killed directly on shutdown
or an integer indicating the timeout value, defaults to 5000 milliseconds.</li></ul>
  </section>
</section>
<section class="detail" id="async/5">

    <span id="async/4"></span>

  <div class="detail-header">
    <a href="#async/5" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">async(supervisor, module, fun, args, options \\ [])</h1>

      <a href="https://github.com/elixir-lang/elixir/blob/6407215fb97ca6699776db771accc9523f4e4a1f/lib/elixir/lib/task/supervisor.ex#L189" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> async(<a href="Supervisor.html#t:supervisor/0">Supervisor.supervisor</a>(), <a href="typespecs.html#built-in-types">module</a>(), <a href="typespecs.html#basic-types">atom</a>(), [<a href="typespecs.html#built-in-types">term</a>()], <a href="Keyword.html#t:t/0">Keyword.t</a>()) ::
  <a href="Task.html#t:t/0">Task.t</a>()</pre>

      </div>

<p>Starts a task that can be awaited on.</p><p>The <code class="inline">supervisor</code> must be a reference as defined in <a href="Supervisor.html"><code class="inline">Supervisor</code></a>.
The task will still be linked to the caller, see <a href="Task.html#async/3"><code class="inline">Task.async/3</code></a> for
more information and <a href="#async_nolink/3"><code class="inline">async_nolink/3</code></a> for a non-linked variant.</p><p>Raises an error if <code class="inline">supervisor</code> has reached the maximum number of
children.</p><h2 id="async/5-options" class="section-heading">
  <a href="#async/5-options">
    <i class="ri-link-m" aria-hidden="true"></i>
    Options
  </a>
</h2>
<ul><li><code class="inline">:shutdown</code> - <code class="inline">:brutal_kill</code> if the tasks must be killed directly on shutdown
or an integer indicating the timeout value, defaults to 5000 milliseconds.</li></ul>
  </section>
</section>
<section class="detail" id="async_nolink/3">

    <span id="async_nolink/2"></span>

  <div class="detail-header">
    <a href="#async_nolink/3" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">async_nolink(supervisor, fun, options \\ [])</h1>

      <a href="https://github.com/elixir-lang/elixir/blob/6407215fb97ca6699776db771accc9523f4e4a1f/lib/elixir/lib/task/supervisor.ex#L275" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> async_nolink(<a href="Supervisor.html#t:supervisor/0">Supervisor.supervisor</a>(), (-&gt; <a href="typespecs.html#basic-types">any</a>()), <a href="Keyword.html#t:t/0">Keyword.t</a>()) :: <a href="Task.html#t:t/0">Task.t</a>()</pre>

      </div>

<p>Starts a task that can be awaited on.</p><p>The <code class="inline">supervisor</code> must be a reference as defined in <a href="Supervisor.html"><code class="inline">Supervisor</code></a>.
The task won't be linked to the caller, see <a href="Task.html#async/3"><code class="inline">Task.async/3</code></a> for
more information.</p><p>Raises an error if <code class="inline">supervisor</code> has reached the maximum number of
children.</p><p>Note this function requires the task supervisor to have <code class="inline">:temporary</code>
as the <code class="inline">:restart</code> option (the default), as <a href="#async_nolink/3"><code class="inline">async_nolink/3</code></a> keeps a
direct reference to the task which is lost if the task is restarted.</p><h2 id="async_nolink/3-options" class="section-heading">
  <a href="#async_nolink/3-options">
    <i class="ri-link-m" aria-hidden="true"></i>
    Options
  </a>
</h2>
<ul><li><code class="inline">:shutdown</code> - <code class="inline">:brutal_kill</code> if the tasks must be killed directly on shutdown
or an integer indicating the timeout value, defaults to 5000 milliseconds.</li></ul><h2 id="async_nolink/3-compatibility-with-otp-behaviours" class="section-heading">
  <a href="#async_nolink/3-compatibility-with-otp-behaviours">
    <i class="ri-link-m" aria-hidden="true"></i>
    Compatibility with OTP behaviours
  </a>
</h2>
<p>If you create a task using <code class="inline">async_nolink</code> inside an OTP behaviour
like <a href="GenServer.html"><code class="inline">GenServer</code></a>, you should match on the message coming from the
task inside your <a href="GenServer.html#c:handle_info/2"><code class="inline">GenServer.handle_info/2</code></a> callback.</p><p>The reply sent by the task will be in the format <code class="inline">{ref, result}</code>,
where <code class="inline">ref</code> is the monitor reference held by the task struct
and <code class="inline">result</code> is the return value of the task function.</p><p>Keep in mind that, regardless of how the task created with <code class="inline">async_nolink</code>
terminates, the caller's process will always receive a <code class="inline">:DOWN</code> message
with the same <code class="inline">ref</code> value that is held by the task struct. If the task
terminates normally, the reason in the <code class="inline">:DOWN</code> message will be <code class="inline">:normal</code>.</p><h2 id="async_nolink/3-examples" class="section-heading">
  <a href="#async_nolink/3-examples">
    <i class="ri-link-m" aria-hidden="true"></i>
    Examples
  </a>
</h2>
<p>Typically, you use <a href="#async_nolink/3"><code class="inline">async_nolink/3</code></a> when there is a reasonable expectation that
the task may fail, and you don't want it to take down the caller. Let's see an
example where a <a href="GenServer.html"><code class="inline">GenServer</code></a> is meant to run a single task and track its status:</p><pre><code class="makeup elixir" translate="no"><span class="kd">defmodule</span><span class="w"> </span><span class="nc">MyApp.Server</span><span class="w"> </span><span class="k" data-group-id="7268849225-1">do</span><span class="w">
  </span><span class="kn">use</span><span class="w"> </span><span class="nc">GenServer</span><span class="w">

  </span><span class="c1"># ...</span><span class="w">

  </span><span class="kd">def</span><span class="w"> </span><span class="nf">start_task</span><span class="w"> </span><span class="k" data-group-id="7268849225-2">do</span><span class="w">
    </span><span class="nc">GenServer</span><span class="o">.</span><span class="n">call</span><span class="p" data-group-id="7268849225-3">(</span><span class="bp">__MODULE__</span><span class="p">,</span><span class="w"> </span><span class="ss">:start_task</span><span class="p" data-group-id="7268849225-3">)</span><span class="w">
  </span><span class="k" data-group-id="7268849225-2">end</span><span class="w">

  </span><span class="c1"># In this case the task is already running, so we just return :ok.</span><span class="w">
  </span><span class="kd">def</span><span class="w"> </span><span class="nf">handle_call</span><span class="p" data-group-id="7268849225-4">(</span><span class="ss">:start_task</span><span class="p">,</span><span class="w"> </span><span class="c">_from</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7268849225-5">%{</span><span class="ss">ref</span><span class="p">:</span><span class="w"> </span><span class="n">ref</span><span class="p" data-group-id="7268849225-5">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">state</span><span class="p" data-group-id="7268849225-4">)</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">is_reference</span><span class="p" data-group-id="7268849225-6">(</span><span class="n">ref</span><span class="p" data-group-id="7268849225-6">)</span><span class="w"> </span><span class="k" data-group-id="7268849225-7">do</span><span class="w">
    </span><span class="p" data-group-id="7268849225-8">{</span><span class="ss">:reply</span><span class="p">,</span><span class="w"> </span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">state</span><span class="p" data-group-id="7268849225-8">}</span><span class="w">
  </span><span class="k" data-group-id="7268849225-7">end</span><span class="w">

  </span><span class="c1"># The task is not running yet, so let&#39;s start it.</span><span class="w">
  </span><span class="kd">def</span><span class="w"> </span><span class="nf">handle_call</span><span class="p" data-group-id="7268849225-9">(</span><span class="ss">:start_task</span><span class="p">,</span><span class="w"> </span><span class="c">_from</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7268849225-10">%{</span><span class="ss">ref</span><span class="p">:</span><span class="w"> </span><span class="no">nil</span><span class="p" data-group-id="7268849225-10">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">state</span><span class="p" data-group-id="7268849225-9">)</span><span class="w"> </span><span class="k" data-group-id="7268849225-11">do</span><span class="w">
    </span><span class="n">task</span><span class="w"> </span><span class="o">=</span><span class="w">
      </span><span class="nc">Task.Supervisor</span><span class="o">.</span><span class="n">async_nolink</span><span class="p" data-group-id="7268849225-12">(</span><span class="nc">MyApp.TaskSupervisor</span><span class="p">,</span><span class="w"> </span><span class="k" data-group-id="7268849225-13">fn</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
        </span><span class="n">...</span><span class="w">
      </span><span class="k" data-group-id="7268849225-13">end</span><span class="p" data-group-id="7268849225-12">)</span><span class="w">

    </span><span class="c1"># We return :ok and the server will continue running</span><span class="w">
    </span><span class="p" data-group-id="7268849225-14">{</span><span class="ss">:reply</span><span class="p">,</span><span class="w"> </span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7268849225-15">%{</span><span class="n">state</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">ref</span><span class="p">:</span><span class="w"> </span><span class="n">task</span><span class="o">.</span><span class="n">ref</span><span class="p" data-group-id="7268849225-15">}</span><span class="p" data-group-id="7268849225-14">}</span><span class="w">
  </span><span class="k" data-group-id="7268849225-11">end</span><span class="w">

  </span><span class="c1"># The task completed successfully</span><span class="w">
  </span><span class="kd">def</span><span class="w"> </span><span class="nf">handle_info</span><span class="p" data-group-id="7268849225-16">(</span><span class="p" data-group-id="7268849225-17">{</span><span class="n">ref</span><span class="p">,</span><span class="w"> </span><span class="n">answer</span><span class="p" data-group-id="7268849225-17">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7268849225-18">%{</span><span class="ss">ref</span><span class="p">:</span><span class="w"> </span><span class="n">ref</span><span class="p" data-group-id="7268849225-18">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">state</span><span class="p" data-group-id="7268849225-16">)</span><span class="w"> </span><span class="k" data-group-id="7268849225-19">do</span><span class="w">
    </span><span class="c1"># We don&#39;t care about the DOWN message now, so let&#39;s demonitor and flush it</span><span class="w">
    </span><span class="nc">Process</span><span class="o">.</span><span class="n">demonitor</span><span class="p" data-group-id="7268849225-20">(</span><span class="n">ref</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7268849225-21">[</span><span class="ss">:flush</span><span class="p" data-group-id="7268849225-21">]</span><span class="p" data-group-id="7268849225-20">)</span><span class="w">
    </span><span class="c1"># Do something with the result and then return</span><span class="w">
    </span><span class="p" data-group-id="7268849225-22">{</span><span class="ss">:noreply</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7268849225-23">%{</span><span class="n">state</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">ref</span><span class="p">:</span><span class="w"> </span><span class="no">nil</span><span class="p" data-group-id="7268849225-23">}</span><span class="p" data-group-id="7268849225-22">}</span><span class="w">
  </span><span class="k" data-group-id="7268849225-19">end</span><span class="w">

  </span><span class="c1"># The task failed</span><span class="w">
  </span><span class="kd">def</span><span class="w"> </span><span class="nf">handle_info</span><span class="p" data-group-id="7268849225-24">(</span><span class="p" data-group-id="7268849225-25">{</span><span class="ss">:DOWN</span><span class="p">,</span><span class="w"> </span><span class="n">ref</span><span class="p">,</span><span class="w"> </span><span class="ss">:process</span><span class="p">,</span><span class="w"> </span><span class="c">_pid</span><span class="p">,</span><span class="w"> </span><span class="c">_reason</span><span class="p" data-group-id="7268849225-25">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7268849225-26">%{</span><span class="ss">ref</span><span class="p">:</span><span class="w"> </span><span class="n">ref</span><span class="p" data-group-id="7268849225-26">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">state</span><span class="p" data-group-id="7268849225-24">)</span><span class="w"> </span><span class="k" data-group-id="7268849225-27">do</span><span class="w">
    </span><span class="c1"># Log and possibly restart the task...</span><span class="w">
    </span><span class="p" data-group-id="7268849225-28">{</span><span class="ss">:noreply</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7268849225-29">%{</span><span class="n">state</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="ss">ref</span><span class="p">:</span><span class="w"> </span><span class="no">nil</span><span class="p" data-group-id="7268849225-29">}</span><span class="p" data-group-id="7268849225-28">}</span><span class="w">
  </span><span class="k" data-group-id="7268849225-27">end</span><span class="w">
</span><span class="k" data-group-id="7268849225-1">end</span></code></pre>
  </section>
</section>
<section class="detail" id="async_nolink/5">

    <span id="async_nolink/4"></span>

  <div class="detail-header">
    <a href="#async_nolink/5" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">async_nolink(supervisor, module, fun, args, options \\ [])</h1>

      <a href="https://github.com/elixir-lang/elixir/blob/6407215fb97ca6699776db771accc9523f4e4a1f/lib/elixir/lib/task/supervisor.ex#L294" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> async_nolink(<a href="Supervisor.html#t:supervisor/0">Supervisor.supervisor</a>(), <a href="typespecs.html#built-in-types">module</a>(), <a href="typespecs.html#basic-types">atom</a>(), [<a href="typespecs.html#built-in-types">term</a>()], <a href="Keyword.html#t:t/0">Keyword.t</a>()) ::
  <a href="Task.html#t:t/0">Task.t</a>()</pre>

      </div>

<p>Starts a task that can be awaited on.</p><p>The <code class="inline">supervisor</code> must be a reference as defined in <a href="Supervisor.html"><code class="inline">Supervisor</code></a>.
The task won't be linked to the caller, see <a href="Task.html#async/3"><code class="inline">Task.async/3</code></a> for
more information.</p><p>Raises an error if <code class="inline">supervisor</code> has reached the maximum number of
children.</p><p>Note this function requires the task supervisor to have <code class="inline">:temporary</code>
as the <code class="inline">:restart</code> option (the default), as <a href="#async_nolink/5"><code class="inline">async_nolink/5</code></a> keeps a
direct reference to the task which is lost if the task is restarted.</p>
  </section>
</section>
<section class="detail" id="async_stream/4">

    <span id="async_stream/3"></span>

  <div class="detail-header">
    <a href="#async_stream/4" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">async_stream(supervisor, enumerable, fun, options \\ [])</h1>

      <a href="https://github.com/elixir-lang/elixir/blob/6407215fb97ca6699776db771accc9523f4e4a1f/lib/elixir/lib/task/supervisor.ex#L370" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since 1.4.0)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> async_stream(
  <a href="Supervisor.html#t:supervisor/0">Supervisor.supervisor</a>(),
  <a href="Enumerable.html#t:t/0">Enumerable.t</a>(),
  (<a href="typespecs.html#built-in-types">term</a>() -&gt; <a href="typespecs.html#built-in-types">term</a>()),
  <a href="typespecs.html#built-in-types">keyword</a>()
) ::
  <a href="Enumerable.html#t:t/0">Enumerable.t</a>()</pre>

      </div>

<p>Returns a stream that runs the given function <code class="inline">fun</code> concurrently
on each element in <code class="inline">enumerable</code>.</p><p>Each element in <code class="inline">enumerable</code> is passed as argument to the given function <code class="inline">fun</code>
and processed by its own task. The tasks will be spawned under the given
<code class="inline">supervisor</code> and linked to the caller process, similarly to <a href="#async/3"><code class="inline">async/3</code></a>.</p><p>See <a href="#async_stream/6"><code class="inline">async_stream/6</code></a> for discussion, options, and examples.</p>
  </section>
</section>
<section class="detail" id="async_stream/6">

    <span id="async_stream/5"></span>

  <div class="detail-header">
    <a href="#async_stream/6" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">async_stream(supervisor, enumerable, module, function, args, options \\ [])</h1>

      <a href="https://github.com/elixir-lang/elixir/blob/6407215fb97ca6699776db771accc9523f4e4a1f/lib/elixir/lib/task/supervisor.ex#L352" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since 1.4.0)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> async_stream(
  <a href="Supervisor.html#t:supervisor/0">Supervisor.supervisor</a>(),
  <a href="Enumerable.html#t:t/0">Enumerable.t</a>(),
  <a href="typespecs.html#built-in-types">module</a>(),
  <a href="typespecs.html#basic-types">atom</a>(),
  [<a href="typespecs.html#built-in-types">term</a>()],
  <a href="typespecs.html#built-in-types">keyword</a>()
) ::
  <a href="Enumerable.html#t:t/0">Enumerable.t</a>()</pre>

      </div>

<p>Returns a stream where the given function (<code class="inline">module</code> and <code class="inline">function</code>)
is mapped concurrently on each element in <code class="inline">enumerable</code>.</p><p>Each element will be prepended to the given <code class="inline">args</code> and processed by its
own task. The tasks will be spawned under the given <code class="inline">supervisor</code> and
linked to the caller process, similarly to <a href="#async/5"><code class="inline">async/5</code></a>.</p><p>When streamed, each task will emit <code class="inline">{:ok, value}</code> upon successful
completion or <code class="inline">{:exit, reason}</code> if the caller is trapping exits.
The order of results depends on the value of the <code class="inline">:ordered</code> option.</p><p>The level of concurrency and the time tasks are allowed to run can
be controlled via options (see the &quot;Options&quot; section below).</p><p>If you find yourself trapping exits to handle exits inside
the async stream, consider using <a href="#async_stream_nolink/6"><code class="inline">async_stream_nolink/6</code></a> to start tasks
that are not linked to the calling process.</p><h2 id="async_stream/6-options" class="section-heading">
  <a href="#async_stream/6-options">
    <i class="ri-link-m" aria-hidden="true"></i>
    Options
  </a>
</h2>
<ul><li><p><code class="inline">:max_concurrency</code> - sets the maximum number of tasks to run
at the same time. Defaults to <a href="System.html#schedulers_online/0"><code class="inline">System.schedulers_online/0</code></a>.</p></li><li><p><code class="inline">:ordered</code> - whether the results should be returned in the same order
as the input stream. This option is useful when you have large
streams and don't want to buffer results before they are delivered.
This is also useful when you're using the tasks for side effects.
Defaults to <code class="inline">true</code>.</p></li><li><p><code class="inline">:timeout</code> - the maximum amount of time to wait (in milliseconds)
without receiving a task reply (across all running tasks).
Defaults to <code class="inline">5000</code>.</p></li><li><p><code class="inline">:on_timeout</code> - what do to when a task times out. The possible
values are:</p><ul><li><code class="inline">:exit</code> (default) - the process that spawned the tasks exits.</li><li><code class="inline">:kill_task</code> - the task that timed out is killed. The value
emitted for that task is <code class="inline">{:exit, :timeout}</code>.</li></ul></li><li><p><code class="inline">:shutdown</code> - <code class="inline">:brutal_kill</code> if the tasks must be killed directly on shutdown
or an integer indicating the timeout value. Defaults to <code class="inline">5000</code> milliseconds.</p></li></ul><h2 id="async_stream/6-examples" class="section-heading">
  <a href="#async_stream/6-examples">
    <i class="ri-link-m" aria-hidden="true"></i>
    Examples
  </a>
</h2>
<p>Let's build a stream and then enumerate it:</p><pre><code class="makeup elixir" translate="no"><span class="n">stream</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Task.Supervisor</span><span class="o">.</span><span class="n">async_stream</span><span class="p" data-group-id="9562139711-1">(</span><span class="nc">MySupervisor</span><span class="p">,</span><span class="w"> </span><span class="n">collection</span><span class="p">,</span><span class="w"> </span><span class="nc">Mod</span><span class="p">,</span><span class="w"> </span><span class="ss">:expensive_fun</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9562139711-2">[</span><span class="p" data-group-id="9562139711-2">]</span><span class="p" data-group-id="9562139711-1">)</span><span class="w">
</span><span class="nc">Enum</span><span class="o">.</span><span class="n">to_list</span><span class="p" data-group-id="9562139711-3">(</span><span class="n">stream</span><span class="p" data-group-id="9562139711-3">)</span></code></pre>
  </section>
</section>
<section class="detail" id="async_stream_nolink/4">

    <span id="async_stream_nolink/3"></span>

  <div class="detail-header">
    <a href="#async_stream_nolink/4" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">async_stream_nolink(supervisor, enumerable, fun, options \\ [])</h1>

      <a href="https://github.com/elixir-lang/elixir/blob/6407215fb97ca6699776db771accc9523f4e4a1f/lib/elixir/lib/task/supervisor.ex#L412" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since 1.4.0)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> async_stream_nolink(
  <a href="Supervisor.html#t:supervisor/0">Supervisor.supervisor</a>(),
  <a href="Enumerable.html#t:t/0">Enumerable.t</a>(),
  (<a href="typespecs.html#built-in-types">term</a>() -&gt; <a href="typespecs.html#built-in-types">term</a>()),
  <a href="typespecs.html#built-in-types">keyword</a>()
) ::
  <a href="Enumerable.html#t:t/0">Enumerable.t</a>()</pre>

      </div>

<p>Returns a stream that runs the given <code class="inline">function</code> concurrently on each
element in <code class="inline">enumerable</code>.</p><p>Each element in <code class="inline">enumerable</code> is passed as argument to the given function <code class="inline">fun</code>
and processed by its own task. The tasks will be spawned under the given
<code class="inline">supervisor</code> and will not be linked to the caller process, similarly
to <a href="#async_nolink/3"><code class="inline">async_nolink/3</code></a>.</p><p>See <a href="#async_stream/6"><code class="inline">async_stream/6</code></a> for discussion and examples.</p>
  </section>
</section>
<section class="detail" id="async_stream_nolink/6">

    <span id="async_stream_nolink/5"></span>

  <div class="detail-header">
    <a href="#async_stream_nolink/6" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">async_stream_nolink(supervisor, enumerable, module, function, args, options \\ [])</h1>

      <a href="https://github.com/elixir-lang/elixir/blob/6407215fb97ca6699776db771accc9523f4e4a1f/lib/elixir/lib/task/supervisor.ex#L393" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since 1.4.0)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> async_stream_nolink(
  <a href="Supervisor.html#t:supervisor/0">Supervisor.supervisor</a>(),
  <a href="Enumerable.html#t:t/0">Enumerable.t</a>(),
  <a href="typespecs.html#built-in-types">module</a>(),
  <a href="typespecs.html#basic-types">atom</a>(),
  [<a href="typespecs.html#built-in-types">term</a>()],
  <a href="typespecs.html#built-in-types">keyword</a>()
) :: <a href="Enumerable.html#t:t/0">Enumerable.t</a>()</pre>

      </div>

<p>Returns a stream where the given function (<code class="inline">module</code> and <code class="inline">function</code>)
is mapped concurrently on each element in <code class="inline">enumerable</code>.</p><p>Each element in <code class="inline">enumerable</code> will be prepended to the given <code class="inline">args</code> and processed
by its own task. The tasks will be spawned under the given <code class="inline">supervisor</code> and
will not be linked to the caller process, similarly to <a href="#async_nolink/5"><code class="inline">async_nolink/5</code></a>.</p><p>See <a href="#async_stream/6"><code class="inline">async_stream/6</code></a> for discussion, options, and examples.</p>
  </section>
</section>
<section class="detail" id="children/1">

  <div class="detail-header">
    <a href="#children/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">children(supervisor)</h1>

      <a href="https://github.com/elixir-lang/elixir/blob/6407215fb97ca6699776db771accc9523f4e4a1f/lib/elixir/lib/task/supervisor.ex#L432" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> children(<a href="Supervisor.html#t:supervisor/0">Supervisor.supervisor</a>()) :: [<a href="typespecs.html#basic-types">pid</a>()]</pre>

      </div>

<p>Returns all children PIDs except those that are restarting.</p><p>Note that calling this function when supervising a large number
of children under low memory conditions can cause an out of memory
exception.</p>
  </section>
</section>
<section class="detail" id="start_child/3">

    <span id="start_child/2"></span>

  <div class="detail-header">
    <a href="#start_child/3" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">start_child(supervisor, fun, options \\ [])</h1>

      <a href="https://github.com/elixir-lang/elixir/blob/6407215fb97ca6699776db771accc9523f4e4a1f/lib/elixir/lib/task/supervisor.ex#L462" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> start_child(<a href="Supervisor.html#t:supervisor/0">Supervisor.supervisor</a>(), (-&gt; <a href="typespecs.html#basic-types">any</a>()), <a href="typespecs.html#built-in-types">keyword</a>()) ::
  <a href="DynamicSupervisor.html#t:on_start_child/0">DynamicSupervisor.on_start_child</a>()</pre>

      </div>

<p>Starts a task as a child of the given <code class="inline">supervisor</code>.</p><pre><code class="makeup elixir" translate="no"><span class="nc">Task.Supervisor</span><span class="o">.</span><span class="n">start_child</span><span class="p" data-group-id="5075143564-1">(</span><span class="nc">MyTaskSupervisor</span><span class="p">,</span><span class="w"> </span><span class="k" data-group-id="5075143564-2">fn</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="nc">IO</span><span class="o">.</span><span class="n">puts</span><span class="w"> </span><span class="s">&quot;I am running in a task&quot;</span><span class="w">
</span><span class="k" data-group-id="5075143564-2">end</span><span class="p" data-group-id="5075143564-1">)</span></code></pre><p>Note that the spawned process is not linked to the caller, but
only to the supervisor. This command is useful in case the
task needs to perform side-effects (like I/O) and you have no
interest in its results nor if it completes successfully.</p><h2 id="start_child/3-options" class="section-heading">
  <a href="#start_child/3-options">
    <i class="ri-link-m" aria-hidden="true"></i>
    Options
  </a>
</h2>
<ul><li><p><code class="inline">:restart</code> - the restart strategy, may be <code class="inline">:temporary</code> (the default),
<code class="inline">:transient</code> or <code class="inline">:permanent</code>. <code class="inline">:temporary</code> means the task is never
restarted, <code class="inline">:transient</code> means it is restarted if the exit is not
<code class="inline">:normal</code>, <code class="inline">:shutdown</code> or <code class="inline">{:shutdown, reason}</code>. A <code class="inline">:permanent</code> restart
strategy means it is always restarted.</p></li><li><p><code class="inline">:shutdown</code> - <code class="inline">:brutal_kill</code> if the task must be killed directly on shutdown
or an integer indicating the timeout value, defaults to 5000 milliseconds.</p></li></ul>
  </section>
</section>
<section class="detail" id="start_child/5">

    <span id="start_child/4"></span>

  <div class="detail-header">
    <a href="#start_child/5" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">start_child(supervisor, module, fun, args, options \\ [])</h1>

      <a href="https://github.com/elixir-lang/elixir/blob/6407215fb97ca6699776db771accc9523f4e4a1f/lib/elixir/lib/task/supervisor.ex#L477" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> start_child(<a href="Supervisor.html#t:supervisor/0">Supervisor.supervisor</a>(), <a href="typespecs.html#built-in-types">module</a>(), <a href="typespecs.html#basic-types">atom</a>(), [<a href="typespecs.html#built-in-types">term</a>()], <a href="typespecs.html#built-in-types">keyword</a>()) ::
  <a href="DynamicSupervisor.html#t:on_start_child/0">DynamicSupervisor.on_start_child</a>()</pre>

      </div>

<p>Starts a task as a child of the given <code class="inline">supervisor</code>.</p><p>Similar to <a href="#start_child/3"><code class="inline">start_child/3</code></a> except the task is specified
by the given <code class="inline">module</code>, <code class="inline">fun</code> and <code class="inline">args</code>.</p>
  </section>
</section>
<section class="detail" id="start_link/1">

    <span id="start_link/0"></span>

  <div class="detail-header">
    <a href="#start_link/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">start_link(options \\ [])</h1>

      <a href="https://github.com/elixir-lang/elixir/blob/6407215fb97ca6699776db771accc9523f4e4a1f/lib/elixir/lib/task/supervisor.ex#L128" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> start_link([<a href="#t:option/0">option</a>()]) :: <a href="Supervisor.html#t:on_start/0">Supervisor.on_start</a>()</pre>

      </div>

<p>Starts a new supervisor.</p><h2 id="start_link/1-examples" class="section-heading">
  <a href="#start_link/1-examples">
    <i class="ri-link-m" aria-hidden="true"></i>
    Examples
  </a>
</h2>
<p>A task supervisor is typically started under a supervision tree using
the tuple format:</p><pre><code class="makeup elixir" translate="no"><span class="p" data-group-id="6054564715-1">{</span><span class="nc">Task.Supervisor</span><span class="p">,</span><span class="w"> </span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="nc">MyApp.TaskSupervisor</span><span class="p" data-group-id="6054564715-1">}</span></code></pre><p>You can also start it by calling <a href="#start_link/1"><code class="inline">start_link/1</code></a> directly:</p><pre><code class="makeup elixir" translate="no"><span class="nc">Task.Supervisor</span><span class="o">.</span><span class="n">start_link</span><span class="p" data-group-id="7257751648-1">(</span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="nc">MyApp.TaskSupervisor</span><span class="p" data-group-id="7257751648-1">)</span></code></pre><p>But this is recommended only for scripting and should be avoided in
production code. Generally speaking, processes should always be started
inside supervision trees.</p><h2 id="start_link/1-options" class="section-heading">
  <a href="#start_link/1-options">
    <i class="ri-link-m" aria-hidden="true"></i>
    Options
  </a>
</h2>
<ul><li><p><code class="inline">:name</code> - used to register a supervisor name, the supported values are
described under the <code class="inline">Name Registration</code> section in the <a href="GenServer.html"><code class="inline">GenServer</code></a> module
docs;</p></li><li><p><code class="inline">:max_restarts</code>, <code class="inline">:max_seconds</code>, and <code class="inline">:max_children</code> - as specified in
<a href="DynamicSupervisor.html"><code class="inline">DynamicSupervisor</code></a>;</p></li></ul><p>This function could also receive <code class="inline">:restart</code> and <code class="inline">:shutdown</code> as options
but those two options have been deprecated and it is now preferred to
give them directly to <code class="inline">start_child</code>.</p>
  </section>
</section>
<section class="detail" id="terminate_child/2">

  <div class="detail-header">
    <a href="#terminate_child/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">terminate_child(supervisor, pid)</h1>

      <a href="https://github.com/elixir-lang/elixir/blob/6407215fb97ca6699776db771accc9523f4e4a1f/lib/elixir/lib/task/supervisor.ex#L420" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> terminate_child(<a href="Supervisor.html#t:supervisor/0">Supervisor.supervisor</a>(), <a href="typespecs.html#basic-types">pid</a>()) :: :ok | {:error, :not_found}</pre>

      </div>

<p>Terminates the child with the given <code class="inline">pid</code>.</p>
  </section>
</section>

    </div>
  </section>

      <footer class="footer">
        <p>

          <span class="line">
            <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
              Search HexDocs
            </button>

          </span>
        </p>

        <p class="built-using">
          Built using
          <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.29.4) for the

            <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

        </p>
      </footer>
    </div>
  </div>
</section>
</div>


  </body>
</html>
