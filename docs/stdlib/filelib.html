<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.23.0">
    <meta name="project" content="stdlib vHEAD">

    <title>filelib â€” stdlib vHEAD</title>
    <link rel="stylesheet" href="dist/elixir-ec941ecbc4f85ab01625.css" />

    <script src="dist/sidebar_items-e3ebb08225.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/app-f97730d45ef67f3e6188.js"></script>


  </head>
  <body data-type="modules">
    <script>

      try {
        if (localStorage.getItem('night-mode') === 'true') {
          document.body.classList.add('night-mode');
        }
      } catch (error) { }
    </script>

<div class="main">

<button class="sidebar-button sidebar-toggle">
  <span class="icon-menu" title="Collapse/expand sidebar"></span>
</button>

<section class="sidebar">
  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button" aria-label="Submit Search">
      <span class="icon-search" aria-hidden="true" title="Submit search"></span>
    </button>
    <button type="button" tabindex="-1" class="search-close-button" aria-label="Cancel Search">
      <span class="icon-cross" aria-hidden="true" title="Cancel search"></span>
    </button>
    <label class="search-label">
      <input name="q" type="text" class="search-input" placeholder="Search..." aria-label="Input your search terms" autocomplete="off" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">
    <div class="sidebar-projectDetails">
      <a href="api-reference.html" class="sidebar-projectName">
stdlib
      </a>
      <strong class="sidebar-projectVersion">
        vHEAD
      </strong>
    </div>

  </div>

  <ul class="sidebar-listNav">
    <li><a id="extras-list-link" href="#full-list">Pages</a></li>

      <li><a id="modules-list-link" href="#full-list">Modules</a></li>


  </ul>
  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <div class="content-outer">
    <div id="content" class="content-inner">

      <h1>
filelib <small class="app-vsn">(stdlib vHEAD)</small>

      </h1>


        <section id="moduledoc">
<p>This module contains utilities on a higher level than the <a href="stdlib:filelib#kernel:file" rel="https://erlang.org/doc/link/seeerl"><code>file</code></a> module.</p><p>This module does not support &quot;raw&quot; filenames (that is, files whose names do not comply with the expected encoding). Such files are ignored by the functions in this module.</p><p>For more information about raw filenames, see the <a href="stdlib:filelib#kernel:file" rel="https://erlang.org/doc/link/seeerl"><code>file</code></a> module.</p><div class="note"><p>Functionality in this module generally assumes valid input and does not necessarily fail on input that does not use a valid encoding, but may instead very likely produce invalid output.</p><p>File operations used to accept filenames containing null characters (integer value zero). This caused the name to be truncated and in some cases arguments to primitive operations to be mixed up. Filenames containing null characters inside the filename are now <em>rejected</em> and will cause primitive file operations to fail.</p></div><div class="warning"><p>Currently null characters at the end of the filename will be accepted by primitive file operations. Such filenames are however still documented as invalid. The implementation will also change in the future and reject such filenames.</p></div>
        </section>


        <section id="summary" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#summary">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
            Summary
          </h1>

  <div class="summary-types summary">
    <h2>
      <a href="#types">Types</a>
    </h2>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:dirname/0">dirname()</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:dirname_all/0">dirname_all()</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:filename/0">filename()</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:filename_all/0">filename_all()</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:find_file_rule/0">find_file_rule()</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:find_source_rule/0">find_source_rule()</a>

  </div>

</div>

  </div>

  <div class="summary-functions summary">
    <h2>
      <a href="#functions">Functions</a>
    </h2>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#ensure_dir/1">ensure_dir/1</a>

  </div>

    <div class="summary-synopsis"><p>Ensures that all parent directories for the specified file or directory name <code>Name</code> exist, trying to create them if necessary.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#file_size/1">file_size/1</a>

  </div>

    <div class="summary-synopsis"><p>Returns the size of the specified file.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#find_file/2">find_file/2</a>

  </div>

    <div class="summary-synopsis"><p>Looks for a file of the given name by applying suffix rules to the given directory path. For example, a rule <code>{&quot;ebin&quot;, &quot;src&quot;}</code> means that if the directory path ends with <code>&quot;ebin&quot;</code>, the corresponding path ending in <code>&quot;src&quot;</code> should be searched.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#find_file/3">find_file/3</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#find_source/1">find_source/1</a>

  </div>

    <div class="summary-synopsis"><p>Equivalent to <code>find_source(Base, Dir)</code>, where <code>Dir</code> is <code>filename:dirname(FilePath)</code> and <a href="https://hexdocs.pm/elixir/Base.html"><code>Base</code></a> is <code>filename:basename(FilePath)</code>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#find_source/2">find_source/2</a>

  </div>

    <div class="summary-synopsis"><p>Applies file extension specific rules to find the source file for a given object file relative to the object directory. For example, for a file with the extension <code>.beam</code>, the default rule is to look for a file with a corresponding extension <code>.erl</code> by replacing the suffix <code>&quot;ebin&quot;</code> of the object directory path with <code>&quot;src&quot;</code> or <code>&quot;src/*&quot;</code>. The file search is done through <a href="stdlib:filelib#find_file/3" rel="https://erlang.org/doc/link/seemfa"><code>find_file/3</code></a>. The directory of the object file is always tried before any other directory specified by the rules.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#find_source/3">find_source/3</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#fold_files/5">fold_files/5</a>

  </div>

    <div class="summary-synopsis"><p>Folds function <code>Fun</code> over all (regular) files <code>F</code> in directory <code>Dir</code> that match the regular expression <code>RegExp</code> (for a description of the allowed regular expressions, see the <a href="stdlib:filelib#re" rel="https://erlang.org/doc/link/seeerl"><code>re</code></a> module). If <code>Recursive</code> is <code>true</code>, all subdirectories to <code>Dir</code> are processed. The regular expression matching is only done on the filename without the directory part.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#is_dir/1">is_dir/1</a>

  </div>

    <div class="summary-synopsis"><p>Returns <code>true</code> if <code>Name</code> refers to a directory, otherwise <code>false</code>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#is_file/1">is_file/1</a>

  </div>

    <div class="summary-synopsis"><p>Returns <code>true</code> if <code>Name</code> refers to a file or a directory, otherwise <code>false</code>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#is_regular/1">is_regular/1</a>

  </div>

    <div class="summary-synopsis"><p>Returns <code>true</code> if <code>Name</code> refers to a (regular) file, otherwise <code>false</code>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#last_modified/1">last_modified/1</a>

  </div>

    <div class="summary-synopsis"><p>Returns the date and time the specified file or directory was last modified, or <code>0</code> if the file does not exist.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#safe_relative_path/2">safe_relative_path/2</a>

  </div>

    <div class="summary-synopsis"><p>Sanitizes the relative path by eliminating &quot;..&quot; and &quot;.&quot; components to protect against directory traversal attacks. Either returns the sanitized path name, or the atom <code>unsafe</code> if the path is unsafe. The path is considered unsafe in the following circumstances</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#wildcard/1">wildcard/1</a>

  </div>

    <div class="summary-synopsis"><p>Returns a list of all files that match Unix-style wildcard string <code>Wildcard</code>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#wildcard/2">wildcard/2</a>

  </div>

    <div class="summary-synopsis"><p>Same as <a href="stdlib:filelib#wildcard/1" rel="https://erlang.org/doc/link/seemfa"><code>wildcard/1</code></a>, except that <code>Cwd</code> is used instead of the working directory.</p></div>

</div>

  </div>

        </section>


        <section id="types" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#types">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
Types
          </h1>
          <div class="types-list">
<section class="detail" id="t:dirname/0">

  <div class="detail-header">
    <a href="#t:dirname/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">dirname()</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>dirname() :: filename()</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:dirname_all/0">

  <div class="detail-header">
    <a href="#t:dirname_all/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">dirname_all()</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>dirname_all() :: filename_all()</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:filename/0">

  <div class="detail-header">
    <a href="#t:filename/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">filename()</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>filename() :: <a href="http://www.erlang.org/doc/man/file.html#type-name">:file.name</a>()</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:filename_all/0">

  <div class="detail-header">
    <a href="#t:filename_all/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">filename_all()</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>filename_all() :: <a href="http://www.erlang.org/doc/man/file.html#type-name_all">:file.name_all</a>()</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:find_file_rule/0">

  <div class="detail-header">
    <a href="#t:find_file_rule/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">find_file_rule()</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>find_file_rule() :: {objDirSuffix :: string(), srcDirSuffix :: string()}</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:find_source_rule/0">

  <div class="detail-header">
    <a href="#t:find_source_rule/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">find_source_rule()</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>find_source_rule() ::
  {objExtension :: string(), srcExtension :: string(), [find_file_rule()]}</pre>

      </div>


  </section>
</section>

          </div>
        </section>

        <section id="functions" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#functions">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
Functions
          </h1>
          <div class="functions-list">
<section class="detail" id="ensure_dir/1">

  <div class="detail-header">
    <a href="#ensure_dir/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">ensure_dir/1</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>ensure_dir(name) :: :ok | {:error, reason}
when name: filename_all() | dirname_all(), reason: <a href="http://www.erlang.org/doc/man/file.html#type-posix">:file.posix</a>()</pre>

      </div>

<p>Ensures that all parent directories for the specified file or directory name <code>Name</code> exist, trying to create them if necessary.</p><p>Returns <code>ok</code> if all parent directories already exist or can be created. Returns <code>{error, Reason}</code> if some parent directory does not exist and cannot be created.</p>
  </section>
</section>
<section class="detail" id="file_size/1">

  <div class="detail-header">
    <a href="#file_size/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">file_size/1</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>file_size(filename) :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">non_neg_integer</a>() when filename: filename_all()</pre>

      </div>

<p>Returns the size of the specified file.</p>
  </section>
</section>
<section class="detail" id="find_file/2">

  <div class="detail-header">
    <a href="#find_file/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">find_file/2</h1>


      <span class="note">(since OTP 20.0)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>find_file(filename(), filename()) :: {:ok, filename()} | {:error, :not_found}</pre>

      </div>

<p>Looks for a file of the given name by applying suffix rules to the given directory path. For example, a rule <code>{&quot;ebin&quot;, &quot;src&quot;}</code> means that if the directory path ends with <code>&quot;ebin&quot;</code>, the corresponding path ending in <code>&quot;src&quot;</code> should be searched.</p><p>If <code>Rules</code> is left out or is an empty list, the default system rules are used. See also the Kernel application parameter <a href="kernel:kernel_app#source_search_rules" rel="https://erlang.org/doc/link/seeapp"><code>source_search_rules</code></a>.</p>
  </section>
</section>
<section class="detail" id="find_file/3">

  <div class="detail-header">
    <a href="#find_file/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">find_file/3</h1>


      <span class="note">(since OTP 20.0)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>find_file(filename(), filename(), [find_file_rule()]) ::
  {:ok, filename()} | {:error, :not_found}</pre>

      </div>


  </section>
</section>
<section class="detail" id="find_source/1">

  <div class="detail-header">
    <a href="#find_source/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">find_source/1</h1>


      <span class="note">(since OTP 20.0)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>find_source(filename()) :: {:ok, filename()} | {:error, :not_found}</pre>

      </div>

<p>Equivalent to <code>find_source(Base, Dir)</code>, where <code>Dir</code> is <code>filename:dirname(FilePath)</code> and <a href="https://hexdocs.pm/elixir/Base.html"><code>Base</code></a> is <code>filename:basename(FilePath)</code>.</p>
  </section>
</section>
<section class="detail" id="find_source/2">

  <div class="detail-header">
    <a href="#find_source/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">find_source/2</h1>


      <span class="note">(since OTP 20.0)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>find_source(filename(), filename()) :: {:ok, filename()} | {:error, :not_found}</pre>

      </div>

<p>Applies file extension specific rules to find the source file for a given object file relative to the object directory. For example, for a file with the extension <code>.beam</code>, the default rule is to look for a file with a corresponding extension <code>.erl</code> by replacing the suffix <code>&quot;ebin&quot;</code> of the object directory path with <code>&quot;src&quot;</code> or <code>&quot;src/*&quot;</code>. The file search is done through <a href="stdlib:filelib#find_file/3" rel="https://erlang.org/doc/link/seemfa"><code>find_file/3</code></a>. The directory of the object file is always tried before any other directory specified by the rules.</p><p>If <code>Rules</code> is left out or is an empty list, the default system rules are used. See also the Kernel application parameter <a href="kernel:kernel_app#source_search_rules" rel="https://erlang.org/doc/link/seeapp"><code>source_search_rules</code></a>.</p>
  </section>
</section>
<section class="detail" id="find_source/3">

  <div class="detail-header">
    <a href="#find_source/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">find_source/3</h1>


      <span class="note">(since OTP 20.0)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>find_source(filename(), filename(), [find_source_rule()]) ::
  {:ok, filename()} | {:error, :not_found}</pre>

      </div>


  </section>
</section>
<section class="detail" id="fold_files/5">

  <div class="detail-header">
    <a href="#fold_files/5" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">fold_files/5</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>fold_files(dir, regExp, recursive, fun, accIn) :: accOut
when dir: dirname(),
     regExp: string(),
     recursive: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">boolean</a>(),
     fun: (f :: <a href="http://www.erlang.org/doc/man/file.html#type-filename">:file.filename</a>(), accIn -&gt; accOut),
     accIn: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>(),
     accOut: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()</pre>

      </div>

<p>Folds function <code>Fun</code> over all (regular) files <code>F</code> in directory <code>Dir</code> that match the regular expression <code>RegExp</code> (for a description of the allowed regular expressions, see the <a href="stdlib:filelib#re" rel="https://erlang.org/doc/link/seeerl"><code>re</code></a> module). If <code>Recursive</code> is <code>true</code>, all subdirectories to <code>Dir</code> are processed. The regular expression matching is only done on the filename without the directory part.</p><p>If Unicode filename translation is in effect and the file system is transparent, filenames that cannot be interpreted as Unicode can be encountered, in which case the <code>fun()</code> must be prepared to handle raw filenames (that is, binaries). If the regular expression contains codepoints &gt; 255, it does not match filenames that do not conform to the expected character encoding (that is, are not encoded in valid UTF-8).</p><p>For more information about raw filenames, see the <a href="stdlib:filelib#kernel:file" rel="https://erlang.org/doc/link/seeerl"><code>file</code></a> module.</p>
  </section>
</section>
<section class="detail" id="is_dir/1">

  <div class="detail-header">
    <a href="#is_dir/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">is_dir/1</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>is_dir(name) :: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">boolean</a>() when name: filename_all() | dirname_all()</pre>

      </div>

<p>Returns <code>true</code> if <code>Name</code> refers to a directory, otherwise <code>false</code>.</p>
  </section>
</section>
<section class="detail" id="is_file/1">

  <div class="detail-header">
    <a href="#is_file/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">is_file/1</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>is_file(name) :: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">boolean</a>() when name: filename_all() | dirname_all()</pre>

      </div>

<p>Returns <code>true</code> if <code>Name</code> refers to a file or a directory, otherwise <code>false</code>.</p>
  </section>
</section>
<section class="detail" id="is_regular/1">

  <div class="detail-header">
    <a href="#is_regular/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">is_regular/1</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>is_regular(name) :: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">boolean</a>() when name: filename_all()</pre>

      </div>

<p>Returns <code>true</code> if <code>Name</code> refers to a (regular) file, otherwise <code>false</code>.</p>
  </section>
</section>
<section class="detail" id="last_modified/1">

  <div class="detail-header">
    <a href="#last_modified/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">last_modified/1</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>last_modified(name) :: <a href="http://www.erlang.org/doc/man/file.html#type-date_time">:file.date_time</a>() | 0
when name: filename_all() | dirname_all()</pre>

      </div>

<p>Returns the date and time the specified file or directory was last modified, or <code>0</code> if the file does not exist.</p>
  </section>
</section>
<section class="detail" id="safe_relative_path/2">

  <div class="detail-header">
    <a href="#safe_relative_path/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">safe_relative_path/2</h1>


      <span class="note">(since OTP 23.0)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>safe_relative_path(filename, cwd) :: :unsafe | safeFilename
when filename: filename_all(), cwd: filename_all(), safeFilename: filename_all()</pre>

      </div>

<p>Sanitizes the relative path by eliminating &quot;..&quot; and &quot;.&quot; components to protect against directory traversal attacks. Either returns the sanitized path name, or the atom <code>unsafe</code> if the path is unsafe. The path is considered unsafe in the following circumstances:</p><ul><li><p>The path is not relative.</p></li><li><p>A &quot;..&quot; component would climb up above the root of the relative path.</p></li><li><p>A symbolic link in the path points above the root of the relative path.</p></li></ul><p><em>Examples:</em></p><pre><code class="makeup elixir"><span class="mi">1</span><span class="o">&gt;</span><span class="w"> </span><span class="p" data-group-id="0735038748-1">{</span><span class="n">ok</span><span class="p">,</span><span class="w"> </span><span class="nc">Cwd</span><span class="p" data-group-id="0735038748-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">file</span><span class="ss">:get_cwd</span><span class="p" data-group-id="0735038748-2">(</span><span class="p" data-group-id="0735038748-2">)</span><span class="o">.</span><span class="w">
</span><span class="n">...</span><span class="w">
</span><span class="mi">2</span><span class="o">&gt;</span><span class="w"> </span><span class="n">filelib</span><span class="ss">:safe_relative_path</span><span class="p" data-group-id="0735038748-3">(</span><span class="s">&quot;dir/sub_dir/..&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">Cwd</span><span class="p" data-group-id="0735038748-3">)</span><span class="o">.</span><span class="w">
</span><span class="s">&quot;dir&quot;</span><span class="w">
</span><span class="mi">3</span><span class="o">&gt;</span><span class="w"> </span><span class="n">filelib</span><span class="ss">:safe_relative_path</span><span class="p" data-group-id="0735038748-4">(</span><span class="s">&quot;dir/..&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">Cwd</span><span class="p" data-group-id="0735038748-4">)</span><span class="o">.</span><span class="w">
</span><span class="p" data-group-id="0735038748-5">[</span><span class="p" data-group-id="0735038748-5">]</span><span class="w">
</span><span class="mi">4</span><span class="o">&gt;</span><span class="w"> </span><span class="n">filelib</span><span class="ss">:safe_relative_path</span><span class="p" data-group-id="0735038748-6">(</span><span class="s">&quot;dir/../..&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">Cwd</span><span class="p" data-group-id="0735038748-6">)</span><span class="o">.</span><span class="w">
</span><span class="n">unsafe</span><span class="w">
</span><span class="mi">5</span><span class="o">&gt;</span><span class="w"> </span><span class="n">filelib</span><span class="ss">:safe_relative_path</span><span class="p" data-group-id="0735038748-7">(</span><span class="s">&quot;/abs/path&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">Cwd</span><span class="p" data-group-id="0735038748-7">)</span><span class="o">.</span><span class="w">
</span><span class="n">unsafe</span></code></pre>
  </section>
</section>
<section class="detail" id="wildcard/1">

  <div class="detail-header">
    <a href="#wildcard/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">wildcard/1</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>wildcard(wildcard) :: [<a href="http://www.erlang.org/doc/man/file.html#type-filename">:file.filename</a>()] when wildcard: filename() | dirname()</pre>

      </div>

<p>Returns a list of all files that match Unix-style wildcard string <code>Wildcard</code>.</p><p>The wildcard string looks like an ordinary filename, except that the following &quot;wildcard characters&quot; are interpreted in a special way:</p><dl><dt>?</dt><dd><p>Matches one character.</p></dd><dt>*</dt><dd><p>Matches any number of characters up to the end of the filename, the next dot, or the next slash.</p></dd><dt>**</dt><dd><p>Two adjacent <code>*</code> used as a single pattern match all files and zero or more directories and subdirectories.</p></dd><dt>[Character1,Character2,...]</dt><dd><p>Matches any of the characters listed. Two characters separated by a hyphen match a range of characters. Example: <code>[A-Z]</code> matches any uppercase letter.</p></dd><dt>{Item,...}</dt><dd><p>Alternation. Matches one of the alternatives.</p></dd></dl><p>Other characters represent themselves. Only filenames that have exactly the same character in the same position match. Matching is case-sensitive, for example, &quot;a&quot; does not match &quot;A&quot;.</p><p>Directory separators must always be written as <code>/</code>, even on Windows.</p><p>A character preceded by <code>\</code> loses its special meaning. Note that <code>\</code> must be written as <code>\\</code> in a string literal. For example, &quot;\\?*&quot; will match any filename starting with <code>?</code>.</p><p>Notice that multiple &quot;*&quot; characters are allowed (as in Unix wildcards, but opposed to Windows/DOS wildcards).</p><p><em>Examples:</em></p><p>The following examples assume that the current directory is the top of an Erlang/OTP installation.</p><p>To find all <code>.beam</code> files in all applications, use the following line:</p><pre><code type="none">filelib:wildcard(&quot;lib/*/ebin/*.beam&quot;).</code></pre><p>To find <code>.erl</code> or <code>.hrl</code> in all applications <code>src</code> directories, use either of the following lines:</p><pre><code type="none">filelib:wildcard(&quot;lib/*/src/*.?rl&quot;)</code></pre><pre><code type="none">filelib:wildcard(&quot;lib/*/src/*.{erl,hrl}&quot;)</code></pre><p>To find all <code>.hrl</code> files in <code>src</code> or <code>include</code> directories:</p><pre><code type="none">filelib:wildcard(&quot;lib/*/{src,include}/*.hrl&quot;).</code></pre><p>To find all <code>.erl</code> or <code>.hrl</code> files in either <code>src</code> or <code>include</code> directories:</p><pre><code type="none">filelib:wildcard(&quot;lib/*/{src,include}/*.{erl,hrl}&quot;)</code></pre><p>To find all <code>.erl</code> or <code>.hrl</code> files in any subdirectory:</p><pre><code type="none">filelib:wildcard(&quot;lib/**/*.{erl,hrl}&quot;)</code></pre>
  </section>
</section>
<section class="detail" id="wildcard/2">

  <div class="detail-header">
    <a href="#wildcard/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">wildcard/2</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>wildcard(wildcard, cwd) :: [<a href="http://www.erlang.org/doc/man/file.html#type-filename">:file.filename</a>()]
when wildcard: filename() | dirname(), cwd: dirname()</pre>

      </div>

<p>Same as <a href="stdlib:filelib#wildcard/1" rel="https://erlang.org/doc/link/seemfa"><code>wildcard/1</code></a>, except that <code>Cwd</code> is used instead of the working directory.</p>
  </section>
</section>

          </div>
        </section>

      <footer class="footer">
        <p>
          <span class="line">
            Built using
            <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener">ExDoc</a> (v0.23.0) for the
            <a href="https://elixir-lang.org" title="Elixir" target="_blank">Elixir programming language</a>.
          </span>
          <span class="line">
            Designed by
            <a href="https://twitter.com/dignifiedquire" target="_blank" rel="noopener" title="@dignifiedquire">Friedel Ziegelmayer</a>.
          </span>
        </p>
        <p>

            <a href="api-reference.html" title="API reference" class="line footer-button">API Reference</a>

          <button class="line footer-button display-shortcuts-help">
            Display keyboard shortcuts
          </button>
          <button class="line footer-button night-mode-toggle">
            Toggle night mode
          </button>
          <button class="line footer-button display-quick-switch">
            Go to a HexDocs package
          </button>
          <button class="line footer-button tooltips-toggle">
            <span class="tooltips-option-disable">Disable tooltips</span>
            <span class="tooltips-option-enable">Enable tooltips</span>
          </button>
        </p>
      </footer>
    </div>
  </div>
</section>
</div>


  </body>
</html>
