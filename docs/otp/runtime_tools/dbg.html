<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.30.9">
    <meta name="project" content="runtime_tools v2.0">


    <title>dbg â€” runtime_tools v2.0</title>
    <link rel="stylesheet" href="dist/html-erlang-QW5RMTQD.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-43PMFBC7.js"></script>
    <script src="dist/sidebar_items-21751F93.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/html-LRUIU55G.js"></script>

<style>.dark img { background-color: white; }</style>
  </head>
  <body data-type="modules" class="page-module">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="main">

<button class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="api-reference.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="runtime_tools" />
        </a>

      <div>
        <a href="api-reference.html" class="sidebar-projectName" translate="no">
runtime_tools
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v2.0
        </div>
      </div>
    </div>
    <ul id="sidebar-listNav" class="sidebar-listNav" role="tablist">
      <li>
        <button id="extras-list-tab-button" role="tab" data-type="extras" aria-controls="extras-tab-panel" aria-selected="true" tabindex="0">
Pages
        </button>
      </li>

        <li>
          <button id="modules-list-tab-button" role="tab" data-type="modules" aria-controls="modules-tab-panel" aria-selected="false" tabindex="-1">
            Modules
          </button>
        </li>


    </ul>
  </div>

  <div id="extras-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="extras-list-tab-button">
    <ul id="extras-full-list" class="full-list"></ul>
  </div>

    <div id="modules-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="modules-list-tab-button" hidden>
      <ul id="modules-full-list" class="full-list"></ul>
    </div>


</nav>

<main class="content">
  <output role="status" id="toast"></output>
  <div class="content-outer">
    <div id="content" class="content-inner">
      <div class="top-search">
        <div class="search-settings">
          <form class="search-bar" action="search.html">
            <label class="search-label">
              <span class="sr-only">Search documentation of runtime_tools</span>
              <input name="q" type="text" class="search-input" placeholder="Search Documentation (press /)" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
            </label>
            <button type="submit" class="search-button" aria-label="Submit Search">
              <i class="ri-search-2-line ri-lg" aria-hidden="true" title="Submit search"></i>
            </button>
            <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
              <i class="ri-close-line ri-lg" title="Cancel search"></i>
            </button>
          </form>
          <button class="icon-settings display-settings">
            <i class="ri-settings-3-line"></i>
            <span class="sr-only">Settings</span>
          </button>
        </div>
      </div>
      <div class="autocomplete">
        <div class="autocomplete-results">
        </div>
      </div>

<h1>

    <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L20" title="View Source" class="icon-action" rel="help">
      <i class="ri-code-s-slash-line" aria-hidden="true"></i>
      <span class="sr-only">View Source</span>
    </a>

  <span translate="no">dbg</span> 
  <small class="app-vsn" translate="no">(runtime_tools v2.0)</small>

</h1>


  <section id="moduledoc">
<p>The Text Based Trace Facility</p><p>This module implements a text based interface to the
<a href="../../../../lib/../erts/doc/html/erlang.html#trace/3"><code class="inline">trace/3</code></a> and the
<a href="../../../../lib/../erts/doc/html/erlang.html#trace_pattern/2"><code class="inline">trace_pattern/2</code></a> BIFs. It makes it possible to
trace functions, processes, ports and messages.</p><p>To quickly get started on tracing function calls you can use the following code
in the Erlang shell:</p><pre><code class="text">1&gt; dbg:tracer(). %% Start the default trace message receiver
{ok,&lt;0.36.0&gt;}
2&gt; dbg:p(all, c). %% Setup call (c) tracing on all processes
{ok,[{matched,nonode@nohost,26}]}
3&gt; dbg:tp(lists, seq, x). %% Setup an exception return trace (x) on lists:seq
{ok,[{matched,nonode@nohost,2},{saved,x}]}
4&gt; lists:seq(1,10).
(&lt;0.34.0&gt;) call lists:seq(1,10)
(&lt;0.34.0&gt;) returned from lists:seq/2 -&gt; [1,2,3,4,5,6,7,8,9,10]
[1,2,3,4,5,6,7,8,9,10]</code></pre><p>For more examples of how to use <code class="inline">dbg</code> from the Erlang shell, see the
<a href="dbg.html#simple_example">simple example</a> section.</p><p>The utilities are also suitable to use in system testing on large systems, where
other tools have too much impact on the system performance. Some primitive
support for sequential tracing is also included, see the
<a href="dbg.html#advanced">advanced topics</a> section.</p><p><a href="" id="simple_example"></a></p><h2 id="module-simple-examples-tracing-from-the-shell" class="section-heading">
  <a href="#module-simple-examples-tracing-from-the-shell" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Simple examples - tracing from the shell</span>
</h2>
<p>The simplest way of tracing from the Erlang shell is to use <a href="#c/3"><code class="inline">dbg:c/3</code></a> or
<a href="#c/4"><code class="inline">dbg:c/4</code></a>, e.g. tracing the function <a href="#get_tracer/0"><code class="inline">dbg:get_tracer/0</code></a>:</p><pre><code class="text">(tiger@durin)84&gt; dbg:c(dbg,get_tracer,[]).
(&lt;0.154.0&gt;) &lt;0.152.0&gt; ! {&lt;0.154.0&gt;,{get_tracer,tiger@durin}}
(&lt;0.154.0&gt;) out {dbg,req,1}
(&lt;0.154.0&gt;) &lt;&lt; {dbg,{ok,&lt;0.153.0&gt;}}
(&lt;0.154.0&gt;) in {dbg,req,1}
(&lt;0.154.0&gt;) &lt;&lt; timeout
{ok,&lt;0.153.0&gt;}
(tiger@durin)85&gt;</code></pre><p>Another way of tracing from the shell is to explicitly start a <em>tracer</em> and then
set the <em>trace flags</em> of your choice on the processes you want to trace, e.g.
trace messages and process events:</p><pre><code class="text">(tiger@durin)66&gt; Pid = spawn(fun() -&gt; receive {From,Msg} -&gt; From ! Msg end end).
&lt;0.126.0&gt;
(tiger@durin)67&gt; dbg:tracer().
{ok,&lt;0.128.0&gt;}
(tiger@durin)68&gt; dbg:p(Pid,[m,procs]).
{ok,[{matched,tiger@durin,1}]}
(tiger@durin)69&gt; Pid ! {self(),hello}.
(&lt;0.126.0&gt;) &lt;&lt; {&lt;0.116.0&gt;,hello}
{&lt;0.116.0&gt;,hello}
(&lt;0.126.0&gt;) &lt;&lt; timeout
(&lt;0.126.0&gt;) &lt;0.116.0&gt; ! hello
(&lt;0.126.0&gt;) exit normal
(tiger@durin)70&gt; flush().
Shell got hello
ok
(tiger@durin)71&gt;</code></pre><p>If you set the <code class="inline">call</code> trace flag, you also have to set a <em>trace pattern</em> for the
functions you want to trace:</p><pre><code class="text">(tiger@durin)77&gt; dbg:tracer().
{ok,&lt;0.142.0&gt;}
(tiger@durin)78&gt; dbg:p(all,call).
{ok,[{matched,tiger@durin,3}]}
(tiger@durin)79&gt; dbg:tp(dbg,get_tracer,0,[]).
{ok,[{matched,tiger@durin,1}]}
(tiger@durin)80&gt; dbg:get_tracer().
(&lt;0.116.0&gt;) call dbg:get_tracer()
{ok,&lt;0.143.0&gt;}
(tiger@durin)81&gt; dbg:tp(dbg,get_tracer,0,[{'_',[],[{return_trace}]}]).
{ok,[{matched,tiger@durin,1},{saved,1}]}
(tiger@durin)82&gt; dbg:get_tracer().
(&lt;0.116.0&gt;) call dbg:get_tracer()
(&lt;0.116.0&gt;) returned from dbg:get_tracer/0 -&gt; {ok,&lt;0.143.0&gt;}
{ok,&lt;0.143.0&gt;}
(tiger@durin)83&gt;</code></pre><p><a href="" id="advanced"></a></p><h2 id="module-advanced-topics-combining-with-seq_trace" class="section-heading">
  <a href="#module-advanced-topics-combining-with-seq_trace" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Advanced topics - combining with seq_trace</span>
</h2>
<p>The <code class="inline">dbg</code> module is primarily targeted towards tracing through the
<a href="../../../../lib/../erts/doc/html/erlang.html#trace/3"><code class="inline">erlang:trace/3</code></a> function. It is sometimes desired to trace messages in a more
delicate way, which can be done with the help of the <code class="inline">seq_trace</code> module.</p><p><code class="inline">seq_trace</code> implements sequential tracing (known in the AXE10 world, and
sometimes called &quot;forlopp tracing&quot;). <code class="inline">dbg</code> can interpret messages generated from
<code class="inline">seq_trace</code> and the same tracer function for both types of tracing can be used.
The <code class="inline">seq_trace</code> messages can even be sent to a trace port for further analysis.</p><p>As a match specification can turn on sequential tracing, the combination of
<code class="inline">dbg</code> and <code class="inline">seq_trace</code> can be quite powerful. This brief example shows a session
where sequential tracing is used:</p><pre><code class="text">1&gt; dbg:tracer().
{ok,&lt;0.30.0&gt;}
2&gt; {ok, Tracer} = dbg:get_tracer().
{ok,&lt;0.31.0&gt;}
3&gt; seq_trace:set_system_tracer(Tracer).
false
4&gt; dbg:tp(dbg, get_tracer, 0, [{[],[],[{set_seq_token, send, true}]}]).
{ok,[{matched,nonode@nohost,1},{saved,1}]}
5&gt; dbg:p(all,call).
{ok,[{matched,nonode@nohost,22}]}
6&gt; dbg:get_tracer(), seq_trace:set_token([]).
(&lt;0.25.0&gt;) call dbg:get_tracer()
SeqTrace [0]: (&lt;0.25.0&gt;) &lt;0.30.0&gt; ! {&lt;0.25.0&gt;,get_tracer} [Serial: {2,4}]
SeqTrace [0]: (&lt;0.30.0&gt;) &lt;0.25.0&gt; ! {dbg,{ok,&lt;0.31.0&gt;}} [Serial: {4,5}]
{1,0,5,&lt;0.30.0&gt;,4}</code></pre><p>This session sets the system_tracer to the same process as the ordinary tracer
process (i. e. &lt;0.31.0&gt;) and sets the trace pattern for the function
<code class="inline">dbg:get_tracer</code> to one that has the action of setting a sequential token. When
the function is called by a traced process (all processes are traced in this
case), the process gets &quot;contaminated&quot; by the token and <code class="inline">seq_trace</code> messages are
sent both for the server request and the response. The <code class="inline">seq_trace:set_token([])</code>
after the call clears the <code class="inline">seq_trace</code> token, why no messages are sent when the
answer propagates via the shell to the console port. The output would otherwise
have been more noisy.</p><h2 id="module-note-of-caution" class="section-heading">
  <a href="#module-note-of-caution" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Note of caution</span>
</h2>
<p>When tracing function calls on a group leader process (an IO process), there is
risk of causing a deadlock. This will happen if a group leader process generates
a trace message and the tracer process, by calling the trace handler function,
sends an IO request to the same group leader. The problem can only occur if the
trace handler prints to tty using an <code class="inline">io</code> function such as
<a href="../../../../lib/stdlib/doc/html/io.html#format/2"><code class="inline">format/2</code></a>. Note that when <code class="inline">dbg:p(all,call)</code> is called, IO
processes are also traced. Here's an example:</p><pre><code class="text">%% Using a default line editing shell
1&gt; dbg:tracer(process, {fun(Msg,_) -&gt; io:format(&quot;~p~n&quot;, [Msg]), 0 end, 0}).
{ok,&lt;0.37.0&gt;}
2&gt; dbg:p(all, [call]).
{ok,[{matched,nonode@nohost,25}]}
3&gt; dbg:tp(mymod,[{'_',[],[]}]).
{ok,[{matched,nonode@nohost,0},{saved,1}]}
4&gt; mymod: % TAB pressed here
%% -- Deadlock --</code></pre><p>Here's another example:</p><pre><code class="text">%% Using a shell without line editing (oldshell)
1&gt; dbg:tracer(process).
{ok,&lt;0.31.0&gt;}
2&gt; dbg:p(all, [call]).
{ok,[{matched,nonode@nohost,25}]}
3&gt; dbg:tp(lists,[{'_',[],[]}]).
{ok,[{matched,nonode@nohost,0},{saved,1}]}
% -- Deadlock --</code></pre><p>The reason we get a deadlock in the first example is because when TAB is pressed
to expand the function name, the group leader (which handles character input)
calls <code class="inline">mymod:module_info()</code>. This generates a trace message which, in turn,
causes the tracer process to send an IO request to the group leader (by calling
<a href="../../../../lib/stdlib/doc/html/io.html#format/2"><code class="inline">io:format/2</code></a>). We end up in a deadlock.</p><p>In the second example we use the default trace handler function. This handler
prints to tty by sending IO requests to the <code class="inline">user</code> process. When Erlang is
started in oldshell mode, the shell process will have <code class="inline">user</code> as its group leader
and so will the tracer process in this example. Since <code class="inline">user</code> calls functions in
<code class="inline">lists</code> we end up in a deadlock as soon as the first IO request is sent.</p><p>Here are a few suggestions for how to avoid deadlock:</p><ul><li>Don't trace the group leader of the tracer process. If tracing has been
switched on for all processes, call <code class="inline">dbg:p(TracerGLPid,clear)</code> to stop tracing
the group leader (<code class="inline">TracerGLPid</code>). <code class="inline">process_info(TracerPid,group_leader)</code> tells
you which process this is (<code class="inline">TracerPid</code> is returned from <a href="#get_tracer/0"><code class="inline">dbg:get_tracer/0</code></a>).</li><li>Don't trace the <code class="inline">user</code> process if using the default trace handler function.</li><li>In your own trace handler function, call <a href="../../../../lib/../erts/doc/html/erlang.html#display/1"><code class="inline">erlang:display/1</code></a> instead of an <code class="inline">io</code>
function or, if <code class="inline">user</code> is not used as group leader, print to <code class="inline">user</code> instead of
the default group leader. Example: <code class="inline">io:format(user,Str,Args)</code>.</li></ul>
  </section>


  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c/3" translate="no">c(Mod, Fun, Args)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <code class="inline">c(Mod, Fun, Args, all)</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c/4" translate="no">c(Mod, Fun, Args, Flags)</a>

      </div>

        <div class="summary-synopsis"><p><code class="inline">c</code> stands for <em>c</em>all. Evaluates the expression <code class="inline">apply(Mod, Fun, Args)</code> with the
trace flags in <code class="inline">Flags</code> set. This is a convenient way to trace processes from the
Erlang shell.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#cn/1" translate="no">cn(Node)</a>

      </div>

        <div class="summary-synopsis"><p>cn(Nodename) -&gt; ok</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#ctp/0" translate="no">ctp()</a>

      </div>

        <div class="summary-synopsis"><p>Same as ctp({'<em>', '</em>', '_'})</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#ctp/1" translate="no">ctp(Module)</a>

      </div>

        <div class="summary-synopsis"><p>ctp({Module, Function, Arity}) -&gt; {ok, MatchDesc} | {error, term()}</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#ctp/2" translate="no">ctp(Module, Function)</a>

      </div>

        <div class="summary-synopsis"><p>Same as ctp({Module, Function, '_'})</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#ctp/3" translate="no">ctp(Module, Function, Arity)</a>

      </div>

        <div class="summary-synopsis"><p>Same as ctp({Module, Function, Arity})</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#ctpe/1" translate="no">ctpe(Event)</a>

      </div>

        <div class="summary-synopsis"><p>ctpe(Event) -&gt; {ok, MatchDesc} | {error, term()}</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#ctpg/0" translate="no">ctpg()</a>

      </div>

        <div class="summary-synopsis"><p>Same as ctpg({'<em>', '</em>', '_'})</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#ctpg/1" translate="no">ctpg(Module)</a>

      </div>

        <div class="summary-synopsis"><p>ctpg({Module, Function, Arity}) -&gt; {ok, MatchDesc} | {error, term()}</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#ctpg/2" translate="no">ctpg(Module, Function)</a>

      </div>

        <div class="summary-synopsis"><p>Same as ctpg({Module, Function, '_'})</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#ctpg/3" translate="no">ctpg(Module, Function, Arity)</a>

      </div>

        <div class="summary-synopsis"><p>Same as ctpg({Module, Function, Arity})</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#ctpl/0" translate="no">ctpl()</a>

      </div>

        <div class="summary-synopsis"><p>Same as ctpl({'<em>', '</em>', '_'})</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#ctpl/1" translate="no">ctpl(Module)</a>

      </div>

        <div class="summary-synopsis"><p>ctpl({Module, Function, Arity}) -&gt; {ok, MatchDesc} | {error, term()}</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#ctpl/2" translate="no">ctpl(Module, Function)</a>

      </div>

        <div class="summary-synopsis"><p>Same as ctpl({Module, Function, '_'})</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#ctpl/3" translate="no">ctpl(Module, Function, Arity)</a>

      </div>

        <div class="summary-synopsis"><p>Same as ctpl({Module, Function, Arity})</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#dtp/0" translate="no">dtp()</a>

      </div>

        <div class="summary-synopsis"><p>dtp() -&gt; ok</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#dtp/1" translate="no">dtp(N)</a>

      </div>

        <div class="summary-synopsis"><p>dtp(N) -&gt; ok</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#flush_trace_port/0" translate="no">flush_trace_port()</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <code class="inline">flush_trace_port(node())</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#flush_trace_port/1" translate="no">flush_trace_port(Node)</a>

      </div>

        <div class="summary-synopsis"><p>flush_trace_port(Nodename) -&gt; ok | {error, Reason}</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#fun2ms/1" translate="no">fun2ms(ShellFun)</a>

      </div>

        <div class="summary-synopsis"><p>fun2ms(LiteralFun) -&gt; MatchSpec</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_tracer/0" translate="no">get_tracer()</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <code class="inline">get_tracer(node())</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_tracer/1" translate="no">get_tracer(Node)</a>

      </div>

        <div class="summary-synopsis"><p>get_tracer(Nodename) -&gt; {ok, Tracer}</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#h/0" translate="no">h()</a>

      </div>

        <div class="summary-synopsis"><p>h() -&gt; ok</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#h/1" translate="no">h/1</a>

      </div>

        <div class="summary-synopsis"><p>h(Item) -&gt; ok</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#i/0" translate="no">i()</a>

      </div>

        <div class="summary-synopsis"><p>i() -&gt; ok</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#ln/0" translate="no">ln()</a>

      </div>

        <div class="summary-synopsis"><p>ln() -&gt; ok</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#ltp/0" translate="no">ltp()</a>

      </div>

        <div class="summary-synopsis"><p>ltp() -&gt; ok</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#n/1" translate="no">n(Node)</a>

      </div>

        <div class="summary-synopsis"><p>n(Nodename) -&gt; {ok, Nodename} | {error, Reason}</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#p/1" translate="no">p(Pid)</a>

      </div>

        <div class="summary-synopsis"><p>p(Item) -&gt; {ok, MatchDesc} | {error, term()}</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#p/2" translate="no">p(Pid, Flags)</a>

      </div>

        <div class="summary-synopsis"><p>p(Item, Flags) -&gt; {ok, MatchDesc} | {error, term()}</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#rtp/1" translate="no">rtp(FileName)</a>

      </div>

        <div class="summary-synopsis"><p>rtp(Name) -&gt; ok | {error, Error}</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#stop/0" translate="no">stop()</a>

      </div>

        <div class="summary-synopsis"><p>stop() -&gt; ok</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#stop_trace_client/1" translate="no">stop_trace_client(Pid)</a>

      </div>

        <div class="summary-synopsis"><p>stop_trace_client(Pid) -&gt; ok</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#tp/2" translate="no">tp(Module, Pattern)</a>

      </div>

        <div class="summary-synopsis"><p>tp({Module, Function, Arity}, MatchSpec) -&gt; {ok, MatchDesc} | {error, term()}</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#tp/3" translate="no">tp(Module,Function,MatchSpec)</a>

      </div>

        <div class="summary-synopsis"><p>Same as tp({Module, Function, '_'}, MatchSpec)</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#tp/4" translate="no">tp(Module, Function, Arity, MatchSpec)</a>

      </div>

        <div class="summary-synopsis"><p>Same as tp({Module, Function, Arity}, MatchSpec)</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#tpe/2" translate="no">tpe(Event, Pattern)</a>

      </div>

        <div class="summary-synopsis"><p>tpe(Event, MatchSpec) -&gt; {ok, MatchDesc} | {error, term()}</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#tpl/2" translate="no">tpl(Module, Pattern)</a>

      </div>

        <div class="summary-synopsis"><p>tpl({Module, Function, Arity}, MatchSpec) -&gt; {ok, MatchDesc} | {error, term()}</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#tpl/3" translate="no">tpl(Module,Function,MatchSpec)</a>

      </div>

        <div class="summary-synopsis"><p>Same as tpl({Module, Function, '_'}, MatchSpec)</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#tpl/4" translate="no">tpl(Module, Function, Arity, MatchSpec)</a>

      </div>

        <div class="summary-synopsis"><p>Same as tpl({Module, Function, Arity}, MatchSpec)</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#trace_client/2" translate="no">trace_client/2</a>

      </div>

        <div class="summary-synopsis"><p>trace_client(Type, Parameters) -&gt; pid()</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#trace_client/3" translate="no">trace_client/3</a>

      </div>

        <div class="summary-synopsis"><p>trace_client(Type, Parameters, HandlerSpec) -&gt; pid()</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#trace_port/2" translate="no">trace_port/2</a>

      </div>

        <div class="summary-synopsis"><p>trace_port(Type, Parameters) -&gt; fun()</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#trace_port_control/1" translate="no">trace_port_control(Operation)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <code class="inline">trace_port_control(node(),Operation)</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#trace_port_control/2" translate="no">trace_port_control/2</a>

      </div>

        <div class="summary-synopsis"><p>trace_port_control(Nodename,Operation) -&gt; ok | {ok, Result} | {error, Reason}</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#tracer/0" translate="no">tracer()</a>

      </div>

        <div class="summary-synopsis"><p>tracer() -&gt; {ok, pid()} | {error, already_started}</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#tracer/2" translate="no">tracer/2</a>

      </div>

        <div class="summary-synopsis"><p>tracer(Type, Data) -&gt; {ok, pid()} | {error, Error}</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#tracer/3" translate="no">tracer(Node, Type, Data)</a>

      </div>

        <div class="summary-synopsis"><p>tracer(Nodename, Type, Data) -&gt; {ok, Nodename} | {error, Reason}</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#wtp/1" translate="no">wtp(FileName)</a>

      </div>

        <div class="summary-synopsis"><p>wtp(Name) -&gt; ok | {error, IOError}</p></div>

    </div>

</div>

  </section>


  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>
    <div class="functions-list">
<section class="detail" id="c/3">

  <div class="detail-header">
    <a href="#c/3" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">c(Mod, Fun, Args)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L1490" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Equivalent to <code class="inline">c(Mod, Fun, Args, all)</code>.</p>
  </section>
</section>
<section class="detail" id="c/4">

  <div class="detail-header">
    <a href="#c/4" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">c(Mod, Fun, Args, Flags)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L1499" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p><code class="inline">c</code> stands for <em>c</em>all. Evaluates the expression <code class="inline">apply(Mod, Fun, Args)</code> with the
trace flags in <code class="inline">Flags</code> set. This is a convenient way to trace processes from the
Erlang shell.</p>
  </section>
</section>
<section class="detail" id="cn/1">

  <div class="detail-header">
    <a href="#cn/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">cn(Node)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L398" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>cn(Nodename) -&gt; ok</p><p><code class="inline">cn</code> stands for <em>c</em>lear <em>n</em>ode. Clears a node from the list of traced nodes.
Subsequent calls to <a href="#tp/2"><code class="inline">tp/2</code></a> and <a href="#p/2"><code class="inline">p/2</code></a> will not consider that node, but tracing
already activated on the node will continue to be in effect.</p><p>Returns <code class="inline">ok</code>, cannot fail.</p>
  </section>
</section>
<section class="detail" id="ctp/0">

  <div class="detail-header">
    <a href="#ctp/0" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">ctp()</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L609" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Same as ctp({'<em>', '</em>', '_'})</p>
  </section>
</section>
<section class="detail" id="ctp/1">

  <div class="detail-header">
    <a href="#ctp/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">ctp(Module)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L639" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>ctp({Module, Function, Arity}) -&gt; {ok, MatchDesc} | {error, term()}</p><p>Same as ctp({Module, '<em>', '</em>'})</p><p><code class="inline">ctp</code> stands for <em>c</em>lear <em>t</em>race <em>p</em>attern. This function disables call tracing
on the specified functions. The semantics of the parameter is the same as for
the corresponding function specification in <a href="#tp/2"><code class="inline">tp/2</code></a> or <a href="#tpl/2"><code class="inline">tpl/2</code></a>. Both local and
global call trace is disabled.</p><p>The return value reflects how many functions that matched, and is constructed as
described in <a href="#tp/2"><code class="inline">tp/2</code></a>. No tuple <code class="inline">{saved, N}</code> is however ever returned (for obvious
reasons).</p>
  </section>
</section>
<section class="detail" id="ctp/2">

  <div class="detail-header">
    <a href="#ctp/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">ctp(Module, Function)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L616" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Same as ctp({Module, Function, '_'})</p>
  </section>
</section>
<section class="detail" id="ctp/3">

  <div class="detail-header">
    <a href="#ctp/3" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">ctp(Module, Function, Arity)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L623" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Same as ctp({Module, Function, Arity})</p>
  </section>
</section>
<section class="detail" id="ctpe/1">

  <div class="detail-header">
    <a href="#ctpe/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">ctpe(Event)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L727" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP 19.0)</span>

  </div>

  <section class="docstring">

<p>ctpe(Event) -&gt; {ok, MatchDesc} | {error, term()}</p><p><code class="inline">ctpe</code> stands for <em>c</em>lear <em>t</em>race <em>p</em>attern <em>e</em>vent. This function clears match
specifications for the specified trace event (<code class="inline">send</code> or <code class="inline">'receive'</code>). It will
revert back to the default behavior of tracing all triggered events.</p><p>The return value follow the same style as for <a href="#ctp/1"><code class="inline">ctp/1</code></a>.</p>
  </section>
</section>
<section class="detail" id="ctpg/0">

  <div class="detail-header">
    <a href="#ctpg/0" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">ctpg()</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L681" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Same as ctpg({'<em>', '</em>', '_'})</p>
  </section>
</section>
<section class="detail" id="ctpg/1">

  <div class="detail-header">
    <a href="#ctpg/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">ctpg(Module)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L705" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>ctpg({Module, Function, Arity}) -&gt; {ok, MatchDesc} | {error, term()}</p><p>Same as ctpg({Module, '<em>', '</em>'})</p><p><code class="inline">ctpg</code> stands for <em>c</em>lear <em>t</em>race <em>p</em>attern <em>g</em>lobal. This function works as
<a href="#ctp/1"><code class="inline">ctp/1</code></a>, but only disables tracing set up with <a href="#tp/2"><code class="inline">tp/2</code></a> (not with <a href="#tpl/2"><code class="inline">tpl/2</code></a>).</p>
  </section>
</section>
<section class="detail" id="ctpg/2">

  <div class="detail-header">
    <a href="#ctpg/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">ctpg(Module, Function)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L688" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Same as ctpg({Module, Function, '_'})</p>
  </section>
</section>
<section class="detail" id="ctpg/3">

  <div class="detail-header">
    <a href="#ctpg/3" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">ctpg(Module, Function, Arity)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L695" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Same as ctpg({Module, Function, Arity})</p>
  </section>
</section>
<section class="detail" id="ctpl/0">

  <div class="detail-header">
    <a href="#ctpl/0" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">ctpl()</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L648" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Same as ctpl({'<em>', '</em>', '_'})</p>
  </section>
</section>
<section class="detail" id="ctpl/1">

  <div class="detail-header">
    <a href="#ctpl/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">ctpl(Module)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L672" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>ctpl({Module, Function, Arity}) -&gt; {ok, MatchDesc} | {error, term()}</p><p>Same as ctpl({Module, '<em>', '</em>'})</p><p><code class="inline">ctpl</code> stands for <em>c</em>lear <em>t</em>race <em>p</em>attern <em>l</em>ocal. This function works as
<a href="#ctp/1"><code class="inline">ctp/1</code></a>, but only disables tracing set up with <a href="#tpl/2"><code class="inline">tpl/2</code></a> (not with <a href="#tp/2"><code class="inline">tp/2</code></a>).</p>
  </section>
</section>
<section class="detail" id="ctpl/2">

  <div class="detail-header">
    <a href="#ctpl/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">ctpl(Module, Function)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L655" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Same as ctpl({Module, Function, '_'})</p>
  </section>
</section>
<section class="detail" id="ctpl/3">

  <div class="detail-header">
    <a href="#ctpl/3" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">ctpl(Module, Function, Arity)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L662" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Same as ctpl({Module, Function, Arity})</p>
  </section>
</section>
<section class="detail" id="dtp/0">

  <div class="detail-header">
    <a href="#dtp/0" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">dtp()</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L784" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>dtp() -&gt; ok</p><p><code class="inline">dtp</code> stands for <em>d</em>elete <em>t</em>race <em>p</em>atterns. Use this function to &quot;forget&quot; all
match specifications saved during calls to <a href="#tp/2"><code class="inline">tp/2</code></a>. This is useful when one wants
to restore other match specifications from a file with <a href="#rtp/1"><code class="inline">rtp/1</code></a>. Use <a href="#dtp/1"><code class="inline">dtp/1</code></a> to
delete specific saved match specifications.</p>
  </section>
</section>
<section class="detail" id="dtp/1">

  <div class="detail-header">
    <a href="#dtp/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">dtp(N)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L797" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>dtp(N) -&gt; ok</p><p><code class="inline">dtp</code> stands for <em>d</em>elete <em>t</em>race <em>p</em>attern. Use this function to &quot;forget&quot; a
specific match specification saved during calls to <a href="#tp/2"><code class="inline">tp/2</code></a>.</p>
  </section>
</section>
<section class="detail" id="flush_trace_port/0">

  <div class="detail-header">
    <a href="#flush_trace_port/0" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">flush_trace_port()</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L1021" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Equivalent to <code class="inline">flush_trace_port(node())</code>.</p>
  </section>
</section>
<section class="detail" id="flush_trace_port/1">

  <div class="detail-header">
    <a href="#flush_trace_port/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">flush_trace_port(Node)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L1028" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>flush_trace_port(Nodename) -&gt; ok | {error, Reason}</p><p>Equivalent to <code class="inline">trace_port_control(Nodename,flush)</code>.</p>
  </section>
</section>
<section class="detail" id="fun2ms/1">

  <div class="detail-header">
    <a href="#fun2ms/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">fun2ms(ShellFun)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L314" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>fun2ms(LiteralFun) -&gt; MatchSpec</p><p>Pseudo function that by means of a <code class="inline">parse_transform</code> translates the <em>literal</em>
<code class="inline">fun()</code> typed as parameter in the function call to a match specification as
described in the <code class="inline">match_spec</code> manual of ERTS users guide. (With literal I mean
that the <code class="inline">fun()</code> needs to textually be written as the parameter of the function,
it cannot be held in a variable which in turn is passed to the function).</p><p>The parse transform is implemented in the module <code class="inline">ms_transform</code> and the source
<em>must</em> include the file <code class="inline">ms_transform.hrl</code> in STDLIB for this pseudo function to
work. Failing to include the hrl file in the source will result in a runtime
error, not a compile time ditto. The include file is easiest included by adding
the line <code class="inline">-include_lib(&quot;stdlib/include/ms_transform.hrl&quot;).</code> to the source file.</p><p>The <code class="inline">fun()</code> is very restricted, it can take only a single parameter (the
parameter list to match), a sole variable or a list. It needs to use the
<code class="inline">is_</code>XXX guard tests and one cannot use language constructs that have no
representation in a match_spec (like <code class="inline">if</code>, <code class="inline">case</code>, <code class="inline">receive</code> etc). The return
value from the fun will be the return value of the resulting match_spec.</p><p>Example:</p><pre><code class="text">1&gt; dbg:fun2ms(fun([M,N]) when N &gt; 3 -&gt; return_trace() end).
[{['$1','$2'],[{'&gt;','$2',3}],[{return_trace}]}]</code></pre><p>Variables from the environment can be imported, so that this works:</p><pre><code class="text">2&gt; X=3.
3
3&gt; dbg:fun2ms(fun([M,N]) when N &gt; X  -&gt; return_trace() end).
[{['$1','$2'],[{'&gt;','$2',{const,3}}],[{return_trace}]}]</code></pre><p>The imported variables will be replaced by match_spec <code class="inline">const</code> expressions, which
is consistent with the static scoping for Erlang <code class="inline">fun()</code>s. Local or global
function calls cannot be in the guard or body of the fun however. Calls to
builtin match_spec functions of course is allowed:</p><pre><code class="text">4&gt; dbg:fun2ms(fun([M,N]) when N &gt; X, is_atomm(M)  -&gt; return_trace() end).
Error: fun containing local erlang function calls ('is_atomm' called in guard)\
 cannot be translated into match_spec
{error,transform_error}
5&gt; dbg:fun2ms(fun([M,N]) when N &gt; X, is_atom(M)  -&gt; return_trace() end).
[{['$1','$2'],[{'&gt;','$2',{const,3}},{is_atom,'$1'}],[{return_trace}]}]</code></pre><p>As you can see by the example, the function can be called from the shell too.
The <code class="inline">fun()</code> needs to be literally in the call when used from the shell as well.
Other means than the parse_transform are used in the shell case, but more or
less the same restrictions apply (the exception being records, as they are not
handled by the shell).</p><blockquote><h4 class="warning">Warning</h4><p>If the parse_transform is not applied to a module which calls this pseudo
function, the call will fail in runtime (with a <code class="inline">badarg</code>). The module <code class="inline">dbg</code>
actually exports a function with this name, but it should never really be
called except for when using the function in the shell. If the
<code class="inline">parse_transform</code> is properly applied by including the <code class="inline">ms_transform.hrl</code>
header file, compiled code will never call the function, but the function call
is replaced by a literal match_spec.</p></blockquote><p>More information is provided by the <code class="inline">ms_transform</code> manual page in STDLIB.</p>
  </section>
</section>
<section class="detail" id="get_tracer/0">

  <div class="detail-header">
    <a href="#get_tracer/0" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">get_tracer()</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L2504" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Equivalent to <code class="inline">get_tracer(node())</code>.</p>
  </section>
</section>
<section class="detail" id="get_tracer/1">

  <div class="detail-header">
    <a href="#get_tracer/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">get_tracer(Node)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L2511" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>get_tracer(Nodename) -&gt; {ok, Tracer}</p><p>Returns the process, port or tracer module to which all trace messages are sent.</p>
  </section>
</section>
<section class="detail" id="h/0">

  <div class="detail-header">
    <a href="#h/0" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">h()</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L2773" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>h() -&gt; ok</p><p><code class="inline">h</code> stands for <em>h</em>elp. Gives a list of items for brief online help.</p>
  </section>
</section>
<section class="detail" id="h/1">

  <div class="detail-header">
    <a href="#h/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">h/1</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L2796" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>h(Item) -&gt; ok</p><p><code class="inline">h</code> stands for <em>h</em>elp. Gives a brief help text for functions in the dbg module.
The available items can be listed with <a href="#h/0"><code class="inline">dbg:h/0</code></a>.</p>
  </section>
</section>
<section class="detail" id="i/0">

  <div class="detail-header">
    <a href="#i/0" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">i()</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L1483" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>i() -&gt; ok</p><p><code class="inline">i</code> stands for <em>i</em>nformation. Displays information about all traced processes
and ports.</p>
  </section>
</section>
<section class="detail" id="ln/0">

  <div class="detail-header">
    <a href="#ln/0" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">ln()</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L410" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>ln() -&gt; ok</p><p><code class="inline">ln</code> stands for <em>l</em>ist <em>n</em>odes. Shows the list of traced nodes on the console.</p>
  </section>
</section>
<section class="detail" id="ltp/0">

  <div class="detail-header">
    <a href="#ltp/0" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">ltp()</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L764" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>ltp() -&gt; ok</p><p><code class="inline">ltp</code> stands for <em>l</em>ist <em>t</em>race <em>p</em>atterns. Use this function to recall all
match specifications previously used in the session (i. e. previously saved
during calls to <a href="#tp/2"><code class="inline">tp/2</code></a>, and built-in match specifications. This is very useful,
as a complicated match_spec can be quite awkward to write. Note that the match
specifications are lost if <a href="#stop/0"><code class="inline">stop/0</code></a> is called.</p><p>Match specifications used can be saved in a file (if a read-write file system is
present) for use in later debugging sessions, see <a href="#wtp/1"><code class="inline">wtp/1</code></a> and <a href="#rtp/1"><code class="inline">rtp/1</code></a></p><p>There are three built-in trace patterns: <code class="inline">exception_trace</code>, <code class="inline">caller_trace</code> and
<code class="inline">caller_exception_trace</code> (or <code class="inline">x</code>, <code class="inline">c</code> and <code class="inline">cx</code> respectively). Exception trace
sets a trace which will show function names, parameters, return values and
exceptions thrown from functions. Caller traces display function names,
parameters and information about which function called it. An example using a
built-in alias:</p><pre><code class="text">(x@y)4&gt; dbg:tp(lists,sort,cx).
{ok,[{matched,nonode@nohost,2},{saved,cx}]}
(x@y)4&gt; lists:sort([2,1]).
(&lt;0.32.0&gt;) call lists:sort([2,1]) ({erl_eval,do_apply,5})
(&lt;0.32.0&gt;) returned from lists:sort/1 -&gt; [1,2]
[1,2]</code></pre>
  </section>
</section>
<section class="detail" id="n/1">

  <div class="detail-header">
    <a href="#n/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">n(Node)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L371" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>n(Nodename) -&gt; {ok, Nodename} | {error, Reason}</p><p><code class="inline">n</code> stands for <em>n</em>ode. The <code class="inline">dbg</code> server keeps a list of nodes where tracing
should be performed. Whenever a <a href="#tp/2"><code class="inline">tp/2</code></a> call or a <a href="#p/2"><code class="inline">p/2</code></a> call is made, it is
executed for all nodes in this list including the local node (except for <a href="#p/2"><code class="inline">p/2</code></a>
with a specific <code class="inline">t:pid()</code> or <code class="inline">t:port()</code> as first argument, in which case the
command is executed only on the node where the designated process or port
resides).</p><p>This function adds a remote node (<code class="inline">Nodename</code>) to the list of nodes where tracing
is performed. It starts a tracer process on the remote node, which will send all
trace messages to the tracer process on the local node (via the Erlang
distribution). If no tracer process is running on the local node, the error
reason <code class="inline">no_local_tracer</code> is returned. The tracer process on the local node must
be started with the <a href="#tracer/2"><code class="inline">tracer/0/2</code></a> function.</p><p>If <code class="inline">Nodename</code> is the local node, the error reason <code class="inline">cant_add_local_node</code> is
returned.</p><p>If a trace port (see <a href="#trace_port/2"><code class="inline">trace_port/2</code></a>) is running on the local node, remote nodes
cannot be traced with a tracer process. The error reason
<code class="inline">cant_trace_remote_pid_to_local_port</code> is returned. A trace port can however be
started on the remote node with the <a href="#tracer/3"><code class="inline">tracer/3</code></a> function.</p><p>The function will also return an error if the node <code class="inline">Nodename</code> is not reachable.</p>
  </section>
</section>
<section class="detail" id="p/1">

  <div class="detail-header">
    <a href="#p/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">p(Pid)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L1380" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>p(Item) -&gt; {ok, MatchDesc} | {error, term()}</p><p>Equivalent to <code class="inline">p(Item, [m])</code>.</p>
  </section>
</section>
<section class="detail" id="p/2">

  <div class="detail-header">
    <a href="#p/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">p(Pid, Flags)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L1472" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>p(Item, Flags) -&gt; {ok, MatchDesc} | {error, term()}</p><p><code class="inline">p</code> stands for <em>p</em>rocess. Traces <code class="inline">Item</code> in accordance to the value specified by
<code class="inline">Flags</code>. The variation of <code class="inline">Item</code> is listed below:</p><ul><li><p><strong><code class="inline">t:pid()</code> or <code class="inline">t:port()</code></strong> - The corresponding process or port is traced. The
process or port may be a remote process or port (on another Erlang node). The
node must be in the list of traced nodes (see <a href="#n/1"><code class="inline">n/1</code></a> and <a href="#tracer/3"><code class="inline">tracer/3</code></a>).</p></li><li><p><strong><code class="inline">all</code></strong> - All processes and ports in the system as well as all processes and
ports created hereafter are to be traced.</p></li><li><p><strong><code class="inline">processes</code></strong> - All processes in the system as well as all processes created
hereafter are to be traced.</p></li><li><p><strong><code class="inline">ports</code></strong> - All ports in the system as well as all ports created hereafter
are to be traced.</p></li><li><p><strong><code class="inline">new</code></strong> - All processes and ports created after the call is are to be
traced.</p></li><li><p><strong><code class="inline">new_processes</code></strong> - All processes created after the call is are to be
traced.</p></li><li><p><strong><code class="inline">new_ports</code></strong> - All ports created after the call is are to be traced.</p></li><li><p><strong><code class="inline">existing</code></strong> - All existing processes and ports are traced.</p></li><li><p><strong><code class="inline">existing_processes</code></strong> - All existing processes are traced.</p></li><li><p><strong><code class="inline">existing_ports</code></strong> - All existing ports are traced.</p></li><li><p><strong><code class="inline">t:atom()</code></strong> - The process or port with the corresponding registered name is
traced. The process or port may be a remote process (on another Erlang node).
The node must be added with the <a href="#n/1"><code class="inline">n/1</code></a> or <a href="#tracer/3"><code class="inline">tracer/3</code></a> function.</p></li><li><p><strong><code class="inline">t:integer()</code></strong> - The process <code class="inline">&lt;0.Item.0&gt;</code> is traced.</p></li><li><p><strong><code class="inline">{X, Y, Z}</code></strong> - The process <code class="inline">&lt;X.Y.Z&gt;</code> is traced.</p></li><li><p><strong><code class="inline">t:string()</code></strong> - If the <code class="inline">Item</code> is a string &quot;&lt;X.Y.Z&gt;&quot; as returned from
<a href="../../../../lib/../erts/doc/html/erlang.html#pid_to_list/1"><code class="inline">pid_to_list/1</code></a>, the process <code class="inline">&lt;X.Y.Z&gt;</code> is traced.</p></li></ul><p>When enabling an <code class="inline">Item</code> that represents a group of processes, the <code class="inline">Item</code> is
enabled on all nodes added with the <a href="#n/1"><code class="inline">n/1</code></a> or <a href="#tracer/3"><code class="inline">tracer/3</code></a> function.</p><p><code class="inline">Flags</code> can be a single atom, or a list of flags. The available flags are:</p><ul><li><p><strong><code class="inline">s (send)</code></strong> - Traces the messages the process or port sends.</p></li><li><p><strong><code class="inline">r (receive)</code></strong> - Traces the messages the process or port receives.</p></li><li><p><strong><code class="inline">m (messages)</code></strong> - Traces the messages the process or port receives and
sends.</p></li><li><p><strong><code class="inline">c (call)</code></strong> - Traces global function calls for the process according to the
trace patterns set in the system (see tp/2).</p></li><li><p><strong><code class="inline">p (procs)</code></strong> - Traces process related events to the process.</p></li><li><p><strong><code class="inline">ports</code></strong> - Traces port related events to the port.</p></li><li><p><strong><code class="inline">sos (set on spawn)</code></strong> - Lets all processes created by the traced process
inherit the trace flags of the traced process.</p></li><li><p><strong><code class="inline">sol (set on link)</code></strong> - Lets another process, <code class="inline">P2</code>, inherit the trace flags
of the traced process whenever the traced process links to <code class="inline">P2</code>.</p></li><li><p><strong><code class="inline">sofs (set on first spawn)</code></strong> - This is the same as <code class="inline">sos</code>, but only for the
first process spawned by the traced process.</p></li><li><p><strong><code class="inline">sofl (set on first link)</code></strong> - This is the same as <code class="inline">sol</code>, but only for the
first call to <a href="../../../../lib/../erts/doc/html/erlang.html#link/1"><code class="inline">link/1</code></a> by the traced process.</p></li><li><p><strong><code class="inline">all</code></strong> - Sets all flags except <code class="inline">silent</code>.</p></li><li><p><strong><code class="inline">clear</code></strong> - Clears all flags.</p></li></ul><p>The list can also include any of the flags allowed in <a href="../../../../lib/../erts/doc/html/erlang.html#trace/3"><code class="inline">erlang:trace/3</code></a></p><p>The function returns either an error tuple or a tuple <code class="inline">{ok, List}</code>. The <code class="inline">List</code>
consists of specifications of how many processes and ports that matched (in the
case of a pure pid() exactly 1). The specification of matched processes is
<code class="inline">{matched, Node, N}</code>. If the remote processor call, <code class="inline">rpc</code>, to a remote node
fails, the <code class="inline">rpc</code> error message is delivered as a fourth argument and the number
of matched processes are 0. Note that the result {ok, List} may contain a list
where <code class="inline">rpc</code> calls to one, several or even all nodes failed.</p>
  </section>
</section>
<section class="detail" id="rtp/1">

  <div class="detail-header">
    <a href="#rtp/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">rtp(FileName)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L864" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>rtp(Name) -&gt; ok | {error, Error}</p><p><code class="inline">rtp</code> stands for <em>r</em>ead <em>t</em>race <em>p</em>atterns. This function reads match
specifications from a file (possibly) generated by the <a href="#wtp/1"><code class="inline">wtp/1</code></a> function. It
checks the syntax of all match specifications and verifies that they are
correct. The error handling principle is &quot;all or nothing&quot;, i. e. if some of the
match specifications are wrong, none of the specifications are added to the list
of saved match specifications for the running system.</p><p>The match specifications in the file are <em>merged</em> with the current match
specifications, so that no duplicates are generated. Use <a href="#ltp/0"><code class="inline">ltp/0</code></a> to see what
numbers were assigned to the specifications from the file.</p><p>The function will return an error, either due to I/O problems (like a non
existing or non readable file) or due to file format problems. The errors from a
bad format file are in a more or less textual format, which will give a hint to
what's causing the problem.</p>
  </section>
</section>
<section class="detail" id="stop/0">

  <div class="detail-header">
    <a href="#stop/0" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">stop()</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L1539" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>stop() -&gt; ok</p><p>Stops the <code class="inline">dbg</code> server, clears all trace flags for all processes, clears all
trace patterns for all functions, clears trace patterns for send/receive, shuts
down all trace clients, and closes all trace ports.</p>
  </section>
</section>
<section class="detail" id="stop_trace_client/1">

  <div class="detail-header">
    <a href="#stop_trace_client/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">stop_trace_client(Pid)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L1362" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>stop_trace_client(Pid) -&gt; ok</p><p>This function shuts down a previously started trace client. The <code class="inline">Pid</code> argument
is the process id returned from the <a href="#trace_client/2"><code class="inline">trace_client/2</code></a> or <a href="#trace_client/3"><code class="inline">trace_client/3</code></a> call.</p>
  </section>
</section>
<section class="detail" id="tp/2">

  <div class="detail-header">
    <a href="#tp/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">tp(Module, Pattern)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L486" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>tp({Module, Function, Arity}, MatchSpec) -&gt; {ok, MatchDesc} | {error, term()}</p><p>Same as tp({Module, '<em>', '</em>'}, MatchSpec)</p><p><code class="inline">tp</code> stands for <em>t</em>race <em>p</em>attern. This function enables call trace for one or
more functions. All exported functions matching the <code class="inline">{Module, Function, Arity}</code>
argument will be concerned, but the <code class="inline">match_spec()</code> may further narrow down the
set of function calls generating trace messages.</p><p>For a description of the <code class="inline">match_spec()</code> syntax, please turn to the <em>User's
guide</em> part of the online documentation for the runtime system (<em>erts</em>). The
chapter <a href="../../../../lib/../erts/doc/html/match_spec.html"><em>Match Specifications in Erlang</em></a> explains the
general match specification &quot;language&quot;. The most common generic match
specifications used can be found as <code class="inline">Built-inAlias</code>', see <a href="#ltp/0"><code class="inline">ltp/0</code></a> below for
details.</p><p>The Module, Function and/or Arity parts of the tuple may be specified as the
atom <code class="inline">'_'</code> which is a &quot;wild-card&quot; matching all modules/functions/arities. Note,
if the Module is specified as <code class="inline">'_'</code>, the Function and Arity parts have to be
specified as '_' too. The same holds for the Functions relation to the Arity.</p><p>All nodes added with <a href="#n/1"><code class="inline">n/1</code></a> or <a href="#tracer/3"><code class="inline">tracer/3</code></a> will be affected by this call, and if
Module is not <code class="inline">'_'</code> the module will be loaded on all nodes.</p><p>The function returns either an error tuple or a tuple <code class="inline">{ok, List}</code>. The <code class="inline">List</code>
consists of specifications of how many functions that matched, in the same way
as the processes and ports are presented in the return value of <a href="#p/2"><code class="inline">p/2</code></a>.</p><p>There may be a tuple <code class="inline">{saved, N}</code> in the return value, if the MatchSpec is other
than []. The integer <code class="inline">N</code> may then be used in subsequent calls to this function
and will stand as an &quot;alias&quot; for the given expression. There are also a couple
of built-in aliases for common expressions, see <a href="#ltp/0"><code class="inline">ltp/0</code></a> below for details.</p><p>If an error is returned, it can be due to errors in compilation of the match
specification. Such errors are presented as a list of tuples <code class="inline">{error, string()}</code>
where the string is a textual explanation of the compilation error. An example:</p><pre><code class="text">(x@y)4&gt; dbg:tp({dbg,ltp,0},[{[],[],[{message, two, arguments}, {noexist}]}]).
{error,
 [{error,&quot;Special form 'message' called with wrong number of
          arguments in {message,two,arguments}.&quot;},
  {error,&quot;Function noexist/1 does_not_exist.&quot;}]}</code></pre>
  </section>
</section>
<section class="detail" id="tp/3">

  <div class="detail-header">
    <a href="#tp/3" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">tp(Module,Function,MatchSpec)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L431" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Same as tp({Module, Function, '_'}, MatchSpec)</p>
  </section>
</section>
<section class="detail" id="tp/4">

  <div class="detail-header">
    <a href="#tp/4" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">tp(Module, Function, Arity, MatchSpec)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L438" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Same as tp({Module, Function, Arity}, MatchSpec)</p>
  </section>
</section>
<section class="detail" id="tpe/2">

  <div class="detail-header">
    <a href="#tpe/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">tpe(Event, Pattern)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L549" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP 19.0)</span>

  </div>

  <section class="docstring">

<p>tpe(Event, MatchSpec) -&gt; {ok, MatchDesc} | {error, term()}</p><p><code class="inline">tpe</code> stands for <em>t</em>race <em>p</em>attern <em>e</em>vent. This function associates a match
specification with trace event <code class="inline">send</code> or <code class="inline">'receive'</code>. By default all executed
<code class="inline">send</code> and <code class="inline">'receive'</code> events are traced if enabled for a process. A match
specification can be used to filter traced events based on sender, receiver
and/or message content.</p><p>For a description of the <code class="inline">match_spec()</code> syntax, please turn to the <em>User's
guide</em> part of the online documentation for the runtime system (<em>erts</em>). The
chapter <a href="../../../../lib/../erts/doc/html/match_spec.html"><em>Match Specifications in Erlang</em></a> explains the
general match specification &quot;language&quot;.</p><p>For <code class="inline">send</code>, the matching is done on the list <code class="inline">[Receiver, Msg]</code>. <code class="inline">Receiver</code> is
the process or port identity of the receiver and <code class="inline">Msg</code> is the message term. The
pid of the sending process can be accessed with the guard function <a href="../../../../lib/../erts/doc/html/erlang.html#self/0"><code class="inline">self/0</code></a>.</p><p>For <code class="inline">'receive'</code>, the matching is done on the list <code class="inline">[Node, Sender, Msg]</code>. <code class="inline">Node</code>
is the node name of the sender. <code class="inline">Sender</code> is the process or port identity of the
sender, or the atom <code class="inline">undefined</code> if the sender is not known (which may be the
case for remote senders). <code class="inline">Msg</code> is the message term. The pid of the receiving
process can be accessed with the guard function <a href="../../../../lib/../erts/doc/html/erlang.html#self/0"><code class="inline">self/0</code></a>.</p><p>All nodes added with <a href="#n/1"><code class="inline">n/1</code></a> or <a href="#tracer/3"><code class="inline">tracer/3</code></a> will be affected by this call.</p><p>The return value is the same as for <a href="#tp/2"><code class="inline">tp/2</code></a>. The number of matched events are
never larger than 1 as <a href="#tpe/2"><code class="inline">tpe/2</code></a> does not accept any form of wildcards for
argument <code class="inline">Event</code>.</p>
  </section>
</section>
<section class="detail" id="tpl/2">

  <div class="detail-header">
    <a href="#tpl/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">tpl(Module, Pattern)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L513" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>tpl({Module, Function, Arity}, MatchSpec) -&gt; {ok, MatchDesc} | {error, term()}</p><p>Same as tpl({Module, '<em>', '</em>'}, MatchSpec)</p><p><code class="inline">tpl</code> stands for <em>t</em>race <em>p</em>attern <em>l</em>ocal. This function works as <a href="#tp/2"><code class="inline">tp/2</code></a>, but
enables tracing for local calls (and local functions) as well as for global
calls (and functions).</p>
  </section>
</section>
<section class="detail" id="tpl/3">

  <div class="detail-header">
    <a href="#tpl/3" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">tpl(Module,Function,MatchSpec)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L495" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Same as tpl({Module, Function, '_'}, MatchSpec)</p>
  </section>
</section>
<section class="detail" id="tpl/4">

  <div class="detail-header">
    <a href="#tpl/4" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">tpl(Module, Function, Arity, MatchSpec)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L502" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Same as tpl({Module, Function, Arity}, MatchSpec)</p>
  </section>
</section>
<section class="detail" id="trace_client/2">

  <div class="detail-header">
    <a href="#trace_client/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">trace_client/2</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L1303" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>trace_client(Type, Parameters) -&gt; pid()</p><p>This function starts a trace client that reads the output created by a trace
port driver and handles it in mostly the same way as a tracer process created by
the <a href="#tracer/0"><code class="inline">tracer/0</code></a> function.</p><p>If <code class="inline">Type</code> is <code class="inline">file</code>, the client reads all trace messages stored in the file
named <code class="inline">Filename</code> or specified by <code class="inline">WrapFilesSpec</code> (must be the same as used when
creating the trace, see trace_port/2) and let's the default handler function
format the messages on the console. This is one way to interpret the data stored
in a file by the file trace port driver.</p><p>If <code class="inline">Type</code> is <code class="inline">follow_file</code>, the client behaves as in the <code class="inline">file</code> case, but keeps
trying to read (and process) more data from the file until stopped by
<a href="#stop_trace_client/1"><code class="inline">stop_trace_client/1</code></a>. <code class="inline">WrapFilesSpec</code> is not allowed as second argument for
this <code class="inline">Type</code>.</p><p>If <code class="inline">Type</code> is <code class="inline">ip</code>, the client connects to the TCP/IP port <code class="inline">PortNumber</code> on the
host <code class="inline">Hostname</code>, from where it reads trace messages until the TCP/IP connection
is closed. If no <code class="inline">Hostname</code> is specified, the local host is assumed.</p><p>As an example, one can let trace messages be sent over the network to another
Erlang node (preferably <em>not</em> distributed), where the formatting occurs:</p><p>On the node <code class="inline">stack</code> there's an Erlang node <code class="inline">ant@stack</code>, in the shell, type the
following:</p><pre><code class="text">ant@stack&gt; dbg:tracer(port, dbg:trace_port(ip,4711)).
&lt;0.17.0&gt;
ant@stack&gt; dbg:p(self(), send).
{ok,1}</code></pre><p>All trace messages are now sent to the trace port driver, which in turn listens
for connections on the TCP/IP port 4711. If we want to see the messages on
another node, preferably on another host, we do like this:</p><pre><code class="text">-&gt; dbg:trace_client(ip, {&quot;stack&quot;, 4711}).
&lt;0.42.0&gt;</code></pre><p>If we now send a message from the shell on the node <code class="inline">ant@stack</code>, where all sends
from the shell are traced:</p><pre><code class="text">ant@stack&gt; self() ! hello.
hello</code></pre><p>The following will appear at the console on the node that started the trace
client:</p><pre><code class="text">(&lt;0.23.0&gt;) &lt;0.23.0&gt; ! hello
(&lt;0.23.0&gt;) &lt;0.22.0&gt; ! {shell_rep,&lt;0.23.0&gt;,{value,hello,[],[]}}</code></pre><p>The last line is generated due to internal message passing in the Erlang shell.
The process id's will vary.</p>
  </section>
</section>
<section class="detail" id="trace_client/3">

  <div class="detail-header">
    <a href="#trace_client/3" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">trace_client/3</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L1325" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>trace_client(Type, Parameters, HandlerSpec) -&gt; pid()</p><p>This function works exactly as <a href="#trace_client/2"><code class="inline">trace_client/2</code></a>, but allows you to write your
own handler function. The handler function works mostly as the one described in
<a href="#tracer/2"><code class="inline">tracer/2</code></a>, but will also have to be prepared to handle trace messages of the
form <code class="inline">{drop, N}</code>, where <code class="inline">N</code> is the number of dropped messages. This pseudo trace
message will only occur if the ip trace driver is used.</p><p>For trace type <code class="inline">file</code>, the pseudo trace message <code class="inline">end_of_trace</code> will appear at
the end of the trace. The return value from the handler function is in this case
ignored.</p>
  </section>
</section>
<section class="detail" id="trace_port/2">

  <div class="detail-header">
    <a href="#trace_port/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">trace_port/2</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L1157" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>trace_port(Type, Parameters) -&gt; fun()</p><p>This function creates a trace port generating <em>fun</em>. The <em>fun</em> takes no
arguments and returns a newly opened trace port. The return value from this
function is suitable as a second parameter to tracer/2, i.e.
<code class="inline">dbg:tracer(port, dbg:trace_port(ip, 4711))</code>.</p><p>A trace port is an Erlang port to a dynamically linked in driver that handles
trace messages directly, without the overhead of sending them as messages in the
Erlang virtual machine.</p><p>Two trace drivers are currently implemented, the <code class="inline">file</code> and the <code class="inline">ip</code> trace
drivers. The file driver sends all trace messages into one or several binary
files, from where they later can be fetched and processed with the
<a href="#trace_client/2"><code class="inline">trace_client/2</code></a> function. The ip driver opens a TCP/IP port where it listens
for connections. When a client (preferably started by calling <a href="#trace_client/2"><code class="inline">trace_client/2</code></a>
on another Erlang node) connects, all trace messages are sent over the IP
network for further processing by the remote client.</p><p>Using a trace port significantly lowers the overhead imposed by using tracing.</p><p>The file trace driver expects a filename or a wrap files specification as
parameter. A file is written with a high degree of buffering, why all trace
messages are <em>not</em> guaranteed to be saved in the file in case of a system crash.
That is the price to pay for low tracing overhead.</p><p>A wrap files specification is used to limit the disk space consumed by the
trace. The trace is written to a limited number of files each with a limited
size. The actual filenames are <code class="inline">Filename ++ SeqCnt ++ Suffix</code>, where <code class="inline">SeqCnt</code>
counts as a decimal string from <code class="inline">0</code> to <code class="inline">WrapCnt</code> and then around again from <code class="inline">0</code>.
When a trace term written to the current file makes it longer than <code class="inline">WrapSize</code>,
that file is closed, if the number of files in this wrap trace is as many as
<code class="inline">WrapCnt</code> the oldest file is deleted then a new file is opened to become the
current. Thus, when a wrap trace has been stopped, there are at most <code class="inline">WrapCnt</code>
trace files saved with a size of at least <code class="inline">WrapSize</code> (but not much bigger),
except for the last file that might even be empty. The default values are
<code class="inline">WrapSize = 128*1024</code> and <code class="inline">WrapCnt = 8</code>.</p><p>The <code class="inline">SeqCnt</code> values in the filenames are all in the range <code class="inline">0</code> through <code class="inline">WrapCnt</code>
with a gap in the circular sequence. The gap is needed to find the end of the
trace.</p><p>If the <code class="inline">WrapSize</code> is specified as <code class="inline">{time, WrapTime}</code>, the current file is closed
when it has been open more than <code class="inline">WrapTime</code> milliseconds, regardless of it being
empty or not.</p><p>The ip trace driver has a queue of <code class="inline">QueSize</code> messages waiting to be delivered.
If the driver cannot deliver messages as fast as they are produced by the
runtime system, a special message is sent, which indicates how many messages
that are dropped. That message will arrive at the handler function specified in
<a href="#trace_client/3"><code class="inline">trace_client/3</code></a> as the tuple <code class="inline">{drop, N}</code> where <code class="inline">N</code> is the number of consecutive
messages dropped. In case of heavy tracing, drop's are likely to occur, and they
surely occur if no client is reading the trace messages. The default value of
<code class="inline">QueSize</code> is 200.</p>
  </section>
</section>
<section class="detail" id="trace_port_control/1">

  <div class="detail-header">
    <a href="#trace_port_control/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">trace_port_control(Operation)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L1036" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Equivalent to <code class="inline">trace_port_control(node(),Operation)</code>.</p>
  </section>
</section>
<section class="detail" id="trace_port_control/2">

  <div class="detail-header">
    <a href="#trace_port_control/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">trace_port_control/2</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L1060" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>trace_port_control(Nodename,Operation) -&gt; ok | {ok, Result} | {error, Reason}</p><p>This function is used to do a control operation on the active trace port driver
on the given node (<code class="inline">Nodename</code>). Which operations are allowed as well as their
return values depend on which trace driver is used.</p><p>Returns either <code class="inline">ok</code> or <code class="inline">{ok, Result}</code> if the operation was successful, or
<code class="inline">{error, Reason}</code> if the current tracer is a process or if it is a port not
supporting the operation.</p><p>The allowed values for <code class="inline">Operation</code> are:</p><ul><li><p><strong><code class="inline">flush</code></strong> - This function is used to flush the internal buffers held by a
trace port driver. Currently only the file trace driver supports this
operation. Returns <code class="inline">ok</code>.</p></li><li><p><strong><code class="inline">get_listen_port</code></strong> - Returns <code class="inline">{ok, IpPort}</code> where <code class="inline">IpPort</code> is the IP port
number used by the driver listen socket. Only the ip trace driver supports
this operation.</p></li></ul>
  </section>
</section>
<section class="detail" id="tracer/0">

  <div class="detail-header">
    <a href="#tracer/0" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">tracer()</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L894" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>tracer() -&gt; {ok, pid()} | {error, already_started}</p><p>This function starts a server on the local node that will be the recipient of
all trace messages. All subsequent calls to <a href="#p/2"><code class="inline">p/2</code></a> will result in messages sent
to the newly started trace server.</p><p>A trace server started in this way will simply display the trace messages in a
formatted way in the Erlang shell (i. e. use io:format). See <a href="#tracer/2"><code class="inline">tracer/2</code></a> for a
description of how the trace message handler can be customized.</p><p>To start a similar tracer on a remote node, use <a href="#n/1"><code class="inline">n/1</code></a>.</p>
  </section>
</section>
<section class="detail" id="tracer/2">

  <div class="detail-header">
    <a href="#tracer/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">tracer/2</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L931" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>tracer(Type, Data) -&gt; {ok, pid()} | {error, Error}</p><p>This function starts a tracer server with additional parameters on the local
node. The first parameter, the <code class="inline">Type</code>, indicates if trace messages should be
handled by a receiving process (<code class="inline">process</code>), by a tracer port (<code class="inline">port</code>) or by a
tracer module (<code class="inline">module</code>). For a description about tracer ports see
<a href="#trace_port/2"><code class="inline">trace_port/2</code></a> and for a tracer modules see <a href="../../../../lib/../erts/doc/html/erl_tracer.html"><code class="inline">erl_tracer</code></a>.</p><p>If <code class="inline">Type</code> is <code class="inline">process</code>, a message handler function can be specified
(<code class="inline">HandlerSpec</code>). The handler function, which should be a <code class="inline">fun</code> taking two
arguments, will be called for each trace message, with the first argument
containing the message as it is and the second argument containing the return
value from the last invocation of the fun. The initial value of the second
parameter is specified in the <code class="inline">InitialData</code> part of the <code class="inline">HandlerSpec</code>. The
<code class="inline">HandlerFun</code> may choose any appropriate action to take when invoked, and can
save a state for the next invocation by returning it.</p><p>If <code class="inline">Type</code> is <code class="inline">port</code>, then the second parameter should be a <em>fun</em> which takes no
arguments and returns a newly opened trace port when called. Such a <em>fun</em> is
preferably generated by calling <a href="#trace_port/2"><code class="inline">trace_port/2</code></a>.</p><p>if <code class="inline">Type</code> is <code class="inline">module</code>, then the second parameter should be either a tuple
describing the <a href="../../../../lib/../erts/doc/html/erl_tracer.html"><code class="inline">erl_tracer</code></a> module to be used for tracing and the state to be
used for that tracer module or a fun returning the same tuple.</p><p>if <code class="inline">Type</code> is <code class="inline">file</code>, then the second parameter should be a filename specifying a
file where all the traces are printed.</p><p>If an error is returned, it can either be due to a tracer server already running
(<code class="inline">{error,already_started}</code>) or due to the <code class="inline">HandlerFun</code> throwing an exception.</p><p>To start a similar tracer on a remote node, use <a href="#tracer/3"><code class="inline">tracer/3</code></a>.</p>
  </section>
</section>
<section class="detail" id="tracer/3">

  <div class="detail-header">
    <a href="#tracer/3" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">tracer(Node, Type, Data)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L999" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>tracer(Nodename, Type, Data) -&gt; {ok, Nodename} | {error, Reason}</p><p>This function is equivalent to <a href="#tracer/2"><code class="inline">tracer/2</code></a>, but acts on the given node. A tracer
is started on the node (<code class="inline">Nodename</code>) and the node is added to the list of traced
nodes.</p><blockquote><h4 class="info">Note</h4><p>This function is not equivalent to <a href="#n/1"><code class="inline">n/1</code></a>. While <a href="#n/1"><code class="inline">n/1</code></a> starts a process tracer
which redirects all trace information to a process tracer on the local node
(i.e. the trace control node), <a href="#tracer/3"><code class="inline">tracer/3</code></a> starts a tracer of any type which is
independent of the tracer on the trace control node.</p></blockquote><p>For details, see <a href="#tracer/2"><code class="inline">tracer/2</code></a>.</p>
  </section>
</section>
<section class="detail" id="wtp/1">

  <div class="detail-header">
    <a href="#wtp/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">wtp(FileName)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/runtime_tools/doc//Users/wojtek/src/otp/lib/runtime_tools/src/dbg.erl#L823" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>wtp(Name) -&gt; ok | {error, IOError}</p><p><code class="inline">wtp</code> stands for <em>w</em>rite <em>t</em>race <em>p</em>atterns. This function will save all match
specifications saved during the session (during calls to <a href="#tp/2"><code class="inline">tp/2</code></a>) and built-in
match specifications in a text file with the name designated by <code class="inline">Name</code>. The
format of the file is textual, why it can be edited with an ordinary text
editor, and then restored with <a href="#rtp/1"><code class="inline">rtp/1</code></a>.</p><p>Each match spec in the file ends with a full stop (<code class="inline">.</code>) and new (syntactically
correct) match specifications can be added to the file manually.</p><p>The function returns <code class="inline">ok</code> or an error tuple where the second element contains
the I/O error that made the writing impossible.</p>
  </section>
</section>

    </div>
  </section>

      <footer class="footer">
        <p>

          <span class="line">
            <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
              Search HexDocs
            </button>

          </span>
        </p>

        <p class="built-using">
          Built using
          <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.30.9) for the

            <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

        </p>
      </footer>
    </div>
  </div>
</main>
</div>


  </body>
</html>
