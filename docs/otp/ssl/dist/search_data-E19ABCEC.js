searchData={"items":[{"type":"module","title":"ssl","doc":"Interface Functions for Secure Socket Layer\n\nThis module contains interface functions for the TLS/DTLS protocol. For detailed\ninformation about the supported standards see [ssl(6)](ssl_app.md).","ref":"ssl.html"},{"type":"module","title":"SEE ALSO - ssl","doc":"`m:inet` and `m:gen_tcp` `m:gen_udp`","ref":"ssl.html#module-see-also"},{"type":"function","title":"ssl.append_cipher_suites/2","doc":"Make `Deferred` suites become the least preferred suites, that is put them at\nthe end of the cipher suite list `Suites` after removing them from `Suites` if\npresent. `Deferred` may be a list of cipher suites or a list of filters in which\ncase the filters are use on `Suites` to extract the Deferred cipher list.","ref":"ssl.html#append_cipher_suites/2"},{"type":"function","title":"ssl.cipher_suites/2","doc":"Lists all possible cipher suites corresponding to `Description` that are\navailable. The `exclusive` and `exclusive_anonymous` option will exclusively\nlist cipher suites first supported in `Version` whereas the other options are\ninclusive from the lowest possible version to `Version`. The `all` options\nincludes all suites except the anonymous and no anonymous suites are supported\nby default.\n\n> ##","ref":"ssl.html#cipher_suites/2"},{"type":"function","title":"Note {: class=info } - ssl.cipher_suites/2","doc":">\n> TLS-1.3 has no overlapping cipher suites with previous TLS versions, that is\n> the result of `cipher_suites(all, 'tlsv1.3').` contains a separate set of\n> suites that can be used with TLS-1.3 an other set that can be used if a lower\n> version is negotiated. PRE TLS-1.3 so called `PSK` and `SRP` suites need extra\n> configuration to work see [user lookup function](`t:custom_user_lookup/0`). No\n> anonymous suites are supported by TLS-1.3.\n>\n> Also note that the cipher suites returned by this function are the cipher\n> suites that the OTP ssl application can support provided that they are\n> supported by the cryptolib linked with the OTP crypto application. Use\n> [ssl:filter_cipher_suites(Suites, []).](`filter_cipher_suites/2`) to filter\n> the list for the current cryptolib. Note that cipher suites may be filtered\n> out because they are too old or too new depending on the cryptolib","ref":"ssl.html#cipher_suites/2-note-class-info"},{"type":"function","title":"ssl.cipher_suites/3","doc":"Same as `cipher_suites/2` but lists RFC or OpenSSL string names instead of\n[erl_cipher_suite()](`t:erl_cipher_suite/0`)","ref":"ssl.html#cipher_suites/3"},{"type":"function","title":"ssl.clear_pem_cache/0","doc":"PEM files, used by ssl API-functions, are cached for performance reasons. The\ncache is automatically checked at regular intervals to see if any cache entries\nshould be invalidated.\n\nThis function provides a way to unconditionally clear the entire cache, thereby\nforcing a reload of previously cached PEM files.","ref":"ssl.html#clear_pem_cache/0"},{"type":"function","title":"ssl.close/1","doc":"Closes a TLS/DTLS connection.","ref":"ssl.html#close/1"},{"type":"function","title":"ssl.close/2","doc":"Closes or downgrades a TLS connection. In the latter case the transport\nconnection will be handed over to the `NewController` process after receiving\nthe TLS close alert from the peer. The returned transport socket will have the\nfollowing options set: `[{active, false}, {packet, 0}, {mode, binary}]`.\n\nIn case of downgrade, the close function might return some binary data that\nshould be treated by the user as the first bytes received on the downgraded\nconnection.","ref":"ssl.html#close/2"},{"type":"function","title":"ssl.connect/2","doc":"","ref":"ssl.html#connect/2"},{"type":"function","title":"ssl.connect/3","doc":"Upgrades a `gen_tcp`, or equivalent, connected socket to a TLS socket, that is,\nperforms the client-side TLS handshake.\n\n> ##","ref":"ssl.html#connect/3"},{"type":"function","title":"Note {: class=info } - ssl.connect/3","doc":">\n> If the option `verify` is set to `verify_peer` the option\n> `server_name_indication` shall also be specified, if it is not no Server Name\n> Indication extension will be sent, and `public_key:pkix_verify_hostname/2`\n> will be called with the IP-address of the connection as `ReferenceID`, which\n> is probably not what you want.\n\nIf the option `{handshake, hello}` is used the handshake is paused after\nreceiving the server hello message and the success response is\n`{ok, SslSocket, Ext}` instead of `{ok, SslSocket}`. Thereafter the handshake is\ncontinued or canceled by calling `handshake_continue/3` or `handshake_cancel/1`.\n\nIf the option `active` is set to `once`, `true` or an integer value, the process\nowning the sslsocket will receive messages of type\n[active_msgs()](`t:active_msgs/0`)","ref":"ssl.html#connect/3-note-class-info"},{"type":"function","title":"ssl.connect/4","doc":"Opens a TLS/DTLS connection to `Host`, `Port`.\n\nWhen the option `verify` is set to `verify_peer` the check\n`public_key:pkix_verify_hostname/2` will be performed in addition to the usual\nx509-path validation checks. If the check fails the error \\{bad_cert,\nhostname_check_failed\\} will be propagated to the path validation fun\n[verify_fun](`t:custom_verify/0`), where it is possible to do customized checks\nby using the full possibilities of the `public_key:pkix_verify_hostname/3` API.\nWhen the option `server_name_indication` is provided, its value (the DNS name)\nwill be used as `ReferenceID` to `public_key:pkix_verify_hostname/2`. When no\n`server_name_indication` option is given, the `Host` argument will be used as\nServer Name Indication extension. The `Host` argument will also be used for the\n`public_key:pkix_verify_hostname/2` check and if the `Host` argument is an\n`t:inet:ip_address()` the `ReferenceID` used for the check will be `{ip, Host}`\notherwise `dns_id` will be assumed with a fallback to `ip` if that fails.\n\n> ##","ref":"ssl.html#connect/4"},{"type":"function","title":"Note {: class=info } - ssl.connect/4","doc":">\n> According to good practices certificates should not use IP-addresses as\n> \"server names\". It would be very surprising if this happened outside a closed\n> network.\n\nIf the option `{handshake, hello}` is used the handshake is paused after\nreceiving the server hello message and the success response is\n`{ok, SslSocket, Ext}` instead of `{ok, SslSocket}`. Thereafter the handshake is\ncontinued or canceled by calling `handshake_continue/3` or `handshake_cancel/1`.\n\nIf the option `active` is set to `once`, `true` or an integer value, the process\nowning the sslsocket will receive messages of type\n[active_msgs()](`t:active_msgs/0`)","ref":"ssl.html#connect/4-note-class-info"},{"type":"function","title":"ssl.connection_information/1","doc":"Returns the most relevant information about the connection, ssl options that are\nundefined will be filtered out. Note that values that affect the security of the\nconnection will only be returned if explicitly requested by\nconnection_information/2.\n\n> ##","ref":"ssl.html#connection_information/1"},{"type":"function","title":"Note {: class=info } - ssl.connection_information/1","doc":">\n> The legacy `Item = cipher_suite` was removed in OTP-23. Previously it returned\n> the cipher suite on its (undocumented) legacy format. It is replaced by\n> `selected_cipher_suite`.","ref":"ssl.html#connection_information/1-note-class-info"},{"type":"function","title":"ssl.connection_information/2","doc":"Returns the requested information items about the connection, if they are\ndefined.\n\nNote that client_random, server_random, master_secret and keylog are values that\naffect the security of connection. Meaningful atoms, not specified above, are\nthe ssl option names.\n\nIn order to retrieve keylog and other secret information from a TLS 1.3\nconnection, [keep_secrets](`t:keep_secrets/0`) must be configured in advance and\nset to `true`.\n\n> ##","ref":"ssl.html#connection_information/2"},{"type":"function","title":"Note {: class=info } - ssl.connection_information/2","doc":">\n> If only undefined options are requested the resulting list can be empty.","ref":"ssl.html#connection_information/2-note-class-info"},{"type":"function","title":"ssl.controlling_process/2","doc":"Assigns a new controlling process to the SSL socket. A controlling process is\nthe owner of an SSL socket, and receives all messages from the socket.","ref":"ssl.html#controlling_process/2"},{"type":"function","title":"ssl.eccs/0","doc":"","ref":"ssl.html#eccs/0"},{"type":"function","title":"ssl.eccs/1","doc":"Returns a list of supported ECCs. `eccs()` is equivalent to calling\n`eccs(Protocol)` with all supported protocols and then deduplicating the output.","ref":"ssl.html#eccs/1"},{"type":"function","title":"ssl.filter_cipher_suites/2","doc":"Removes cipher suites if any of the filter functions returns false for any part\nof the cipher suite. If no filter function is supplied for some part the default\nbehaviour regards it as if there was a filter function that returned true. For\nexamples see\n[Customizing cipher suites ](using_ssl.md#customizing-cipher-suites)Additionally,\nthis function also filters the cipher suites to exclude cipher suites not\nsupported by the cryptolib used by the OTP crypto application. That is calling\nssl:filter_cipher_suites(Suites, []) will be equivalent to only applying the\nfilters for cryptolib support.","ref":"ssl.html#filter_cipher_suites/2"},{"type":"function","title":"ssl.format_error/1","doc":"Presents the error returned by an SSL function as a printable string.","ref":"ssl.html#format_error/1"},{"type":"function","title":"ssl.getopts/2","doc":"Gets the values of the specified socket options.","ref":"ssl.html#getopts/2"},{"type":"function","title":"ssl.getstat/1","doc":"","ref":"ssl.html#getstat/1"},{"type":"function","title":"ssl.getstat/2","doc":"Gets one or more statistic options for the underlying TCP socket.\n\nSee inet:getstat/2 for statistic options description.","ref":"ssl.html#getstat/2"},{"type":"function","title":"ssl.handshake/1","doc":"","ref":"ssl.html#handshake/1"},{"type":"function","title":"ssl.handshake/2","doc":"Performs the TLS/DTLS server-side handshake.\n\nReturns a new TLS/DTLS socket if the handshake is successful.\n\nIf the option `active` is set to `once`, `true` or an integer value, the process\nowning the sslsocket will receive messages of type\n[active_msgs()](`t:active_msgs/0`)\n\n> ##","ref":"ssl.html#handshake/2"},{"type":"function","title":"Warning {: class=warning } - ssl.handshake/2","doc":">\n> Not setting the timeout makes the server more vulnerable to DoS attacks.","ref":"ssl.html#handshake/2-warning-class-warning"},{"type":"function","title":"ssl.handshake/3","doc":"If `Socket` is a ordinary `t:socket()`: upgrades a `gen_tcp`, or equivalent,\nsocket to an SSL socket, that is, performs the TLS server-side handshake and\nreturns a TLS socket.\n\n> ##","ref":"ssl.html#handshake/3"},{"type":"function","title":"Warning {: class=warning } - ssl.handshake/3","doc":">\n> The ordinary `Socket` shall be in passive mode (\\{active, false\\}) before\n> calling this function, and before the client tries to connect with TLS, or\n> else the behavior of this function is undefined. The best way to ensure this\n> is to create the ordinary listen socket in passive mode.\n\nIf `Socket` is an [sslsocket() ](`t:sslsocket/0`): provides extra TLS/DTLS\noptions to those specified in `listen/2` and then performs the TLS/DTLS\nhandshake. Returns a new TLS/DTLS socket if the handshake is successful.\n\n> ##","ref":"ssl.html#handshake/3-warning-class-warning"},{"type":"function","title":"Warning {: class=warning } - ssl.handshake/3","doc":">\n> Not setting the timeout makes the server more vulnerable to DoS attacks.\n\nIf option `{handshake, hello}` is specified the handshake is paused after\nreceiving the client hello message and the success response is\n`{ok, SslSocket, Ext}` instead of `{ok, SslSocket}`. Thereafter the handshake is\ncontinued or canceled by calling `handshake_continue/3` or `handshake_cancel/1`.\n\nIf the option `active` is set to `once`, `true` or an integer value, the process\nowning the sslsocket will receive messages of type\n[active_msgs()](`t:active_msgs/0`)","ref":"ssl.html#handshake/3-warning-class-warning"},{"type":"function","title":"ssl.handshake_cancel/1","doc":"Cancel the handshake with a fatal `USER_CANCELED` alert.","ref":"ssl.html#handshake_cancel/1"},{"type":"function","title":"ssl.handshake_continue/2","doc":"","ref":"ssl.html#handshake_continue/2"},{"type":"function","title":"ssl.handshake_continue/3","doc":"Continue the TLS handshake, possibly with new, additional or changed options.","ref":"ssl.html#handshake_continue/3"},{"type":"function","title":"ssl.listen/2","doc":"Creates an SSL listen socket.","ref":"ssl.html#listen/2"},{"type":"function","title":"ssl.negotiated_protocol/1","doc":"Returns the protocol negotiated through ALPN or NPN extensions.","ref":"ssl.html#negotiated_protocol/1"},{"type":"function","title":"ssl.peercert/1","doc":"The peer certificate is returned as a DER-encoded binary. The certificate can be\ndecoded with `public_key:pkix_decode_cert/2` Suggested further reading about\ncertificates is [public_key User's Guide](`e:public_key:public_key_records.md`)\nand [ssl User's Guide](standards_compliance.md)","ref":"ssl.html#peercert/1"},{"type":"function","title":"ssl.peername/1","doc":"Returns the address and port number of the peer.","ref":"ssl.html#peername/1"},{"type":"function","title":"ssl.prepend_cipher_suites/2","doc":"Make `Preferred` suites become the most preferred suites that is put them at the\nhead of the cipher suite list `Suites` after removing them from `Suites` if\npresent. `Preferred` may be a list of cipher suites or a list of filters in\nwhich case the filters are use on `Suites` to extract the preferred cipher list.","ref":"ssl.html#prepend_cipher_suites/2"},{"type":"function","title":"ssl.prf/5","doc":"Uses the Pseudo-Random Function (PRF) of a TLS session to generate extra key\nmaterial. It either takes user-generated values for `Secret` and `Seed` or atoms\ndirecting it to use a specific value from the session security parameters.","ref":"ssl.html#prf/5"},{"type":"function","title":"ssl.recv/2","doc":"","ref":"ssl.html#recv/2"},{"type":"function","title":"ssl.recv/3","doc":"Receives a packet from a socket in passive mode. A closed socket is indicated by\nreturn value `{error, closed}`.\n\nArgument `Length` is meaningful only when the socket is in mode `raw` and\ndenotes the number of bytes to read. If `Length` = 0, all available bytes are\nreturned. If `Length` > 0, exactly `Length` bytes are returned, or an error;\npossibly discarding less than `Length` bytes of data when the socket gets closed\nfrom the other side.\n\nOptional argument `Timeout` specifies a time-out in milliseconds. The default\nvalue is `infinity`.","ref":"ssl.html#recv/3"},{"type":"function","title":"ssl.renegotiate/1","doc":"Initiates a new handshake. A notable return value is\n`{error, renegotiation_rejected}` indicating that the peer refused to go through\nwith the renegotiation, but the connection is still active using the previously\nnegotiated session.\n\nTLS-1.3 has removed the renegotiate feature of earlier TLS versions and instead\nadds a new feature called key update that replaces the most important part of\nrenegotiate, that is the refreshing of session keys. This is triggered\nautomatically after reaching a plaintext limit and can be configured by option\n[key_update_at](`t:key_update_at/0`).","ref":"ssl.html#renegotiate/1"},{"type":"function","title":"ssl.send/2","doc":"Writes `Data` to `SslSocket`.\n\nA notable return value is `{error, closed}` indicating that the socket is\nclosed.","ref":"ssl.html#send/2"},{"type":"function","title":"ssl.setopts/2","doc":"Sets options according to `Options` for socket `SslSocket`.","ref":"ssl.html#setopts/2"},{"type":"function","title":"ssl.shutdown/2","doc":"Immediately closes a socket in one or two directions.\n\n`How == write` means closing the socket for writing, reading from it is still\npossible.\n\nTo be able to handle that the peer has done a shutdown on the write side, option\n`{exit_on_close, false}` is useful.","ref":"ssl.html#shutdown/2"},{"type":"function","title":"ssl.signature_algs/2","doc":"Lists all possible signature algorithms corresponding to `Description` that are\navailable. The `exclusive` option will exclusively list algorithms/schemes for\nthat protocol version, whereas the `default` and `all` options lists the\ncombined list to support the range of protocols from (D)TLS-1.2, the first\nversion to support configuration of the signature algorithms, to `Version`.\n\nExample:\n\n```text\n      1> ssl:signature_algs(default, 'tlsv1.3').\n      [eddsa_ed25519,eddsa_ed448,ecdsa_secp521r1_sha512,\n      ecdsa_secp384r1_sha384,ecdsa_secp256r1_sha256,\n      rsa_pss_pss_sha512,rsa_pss_pss_sha384,rsa_pss_pss_sha256,\n      rsa_pss_rsae_sha512,rsa_pss_rsae_sha384,rsa_pss_rsae_sha256,\n      rsa_pkcs1_sha512,rsa_pkcs1_sha384,rsa_pkcs1_sha256,\n      {sha512,ecdsa},\n      {sha384,ecdsa},\n      {sha256,ecdsa}]\n\n      2>ssl:signature_algs(all, 'tlsv1.3').\n      [eddsa_ed25519,eddsa_ed448,ecdsa_secp521r1_sha512,\n      ecdsa_secp384r1_sha384,ecdsa_secp256r1_sha256,\n      rsa_pss_pss_sha512,rsa_pss_pss_sha384,rsa_pss_pss_sha256,\n      rsa_pss_rsae_sha512,rsa_pss_rsae_sha384,rsa_pss_rsae_sha256,\n      rsa_pkcs1_sha512,rsa_pkcs1_sha384,rsa_pkcs1_sha256,\n      {sha512,ecdsa},\n      {sha384,ecdsa},\n      {sha256,ecdsa},\n      {sha224,ecdsa},\n      {sha224,rsa},\n      {sha,rsa},\n      {sha,dsa}]\n\n      3> ssl:signature_algs(exclusive, 'tlsv1.3').\n      [eddsa_ed25519,eddsa_ed448,ecdsa_secp521r1_sha512,\n      ecdsa_secp384r1_sha384,ecdsa_secp256r1_sha256,\n      rsa_pss_pss_sha512,rsa_pss_pss_sha384,rsa_pss_pss_sha256,\n      rsa_pss_rsae_sha512,rsa_pss_rsae_sha384,rsa_pss_rsae_sha256]\n```\n\n> ##","ref":"ssl.html#signature_algs/2"},{"type":"function","title":"Note {: class=info } - ssl.signature_algs/2","doc":">\n> Some TLS-1-3 scheme names overlap with TLS-1.2 algorithm-tuple-pair-names and\n> then TLS-1.3 names will be used, for example `rsa_pkcs1_sha256` instead of\n> `{sha256, rsa}` these are legacy algorithms in TLS-1.3 that apply only to\n> certificate signatures in this version of the protocol.","ref":"ssl.html#signature_algs/2-note-class-info"},{"type":"function","title":"ssl.sockname/1","doc":"Returns the local address and port number of socket `SslSocket`.","ref":"ssl.html#sockname/1"},{"type":"function","title":"ssl.start/0","doc":"","ref":"ssl.html#start/0"},{"type":"function","title":"ssl.start/1","doc":"Starts the SSL application. Default type is `temporary`.","ref":"ssl.html#start/1"},{"type":"function","title":"ssl.stop/0","doc":"Stops the SSL application.","ref":"ssl.html#stop/0"},{"type":"function","title":"ssl.str_to_suite/1","doc":"Converts an RFC or OpenSSL name string to an\n[erl_cipher_suite()](`t:erl_cipher_suite/0`) Returns an error if the cipher\nsuite is not supported or the name is not a valid cipher suite name.","ref":"ssl.html#str_to_suite/1"},{"type":"function","title":"ssl.suite_to_openssl_str/1","doc":"Converts [erl_cipher_suite()](`t:erl_cipher_suite/0`) to OpenSSL name string.\n\nPRE TLS-1.3 these names differ for RFC names","ref":"ssl.html#suite_to_openssl_str/1"},{"type":"function","title":"ssl.suite_to_str/1","doc":"Converts [erl_cipher_suite()](`t:erl_cipher_suite/0`) to RFC name string.","ref":"ssl.html#suite_to_str/1"},{"type":"function","title":"ssl.transport_accept/1","doc":"","ref":"ssl.html#transport_accept/1"},{"type":"function","title":"ssl.transport_accept/2","doc":"Accepts an incoming connection request on a listen socket. `ListenSocket` must\nbe a socket returned from `listen/2`. The socket returned is to be passed to\n[handshake/\\[2,3]](`handshake/2`) to complete handshaking, that is, establishing\nthe TLS/DTLS connection.\n\n> ##","ref":"ssl.html#transport_accept/2"},{"type":"function","title":"Warning {: class=warning } - ssl.transport_accept/2","doc":">\n> Most API functions require that the TLS/DTLS connection is established to work\n> as expected.\n\nThe accepted socket inherits the options set for `ListenSocket` in `listen/2`.\n\nThe default value for `Timeout` is `infinity`. If `Timeout` is specified and no\nconnection is accepted within the given time, `{error, timeout}` is returned.","ref":"ssl.html#transport_accept/2-warning-class-warning"},{"type":"function","title":"ssl.update_keys/2","doc":"There are cryptographic limits on the amount of plaintext which can be safely\nencrypted under a given set of keys. If the amount of data surpasses those\nlimits, a key update is triggered and a new set of keys are installed. See also\nthe option [key_update_at](`t:key_update_at/0`).\n\nThis function can be used to explicitly start a key update on a TLS 1.3\nconnection. There are two types of the key update: if _Type_ is set to _write_,\nonly the writing key is updated; if _Type_ is set to _read_write_, both the\nreading and writing keys are updated.","ref":"ssl.html#update_keys/2"},{"type":"function","title":"ssl.versions/0","doc":"Lists information, mainly concerning TLS/DTLS versions, in runtime for debugging\nand testing purposes.\n\n- **`app_vsn`** - The application version of the SSL application.\n\n- **`supported`** - TLS versions supported with current application environment\n  and crypto library configuration. Overridden by a version option on\n  [connect/\\[2,3,4]](`connect/2`), `listen/2`, and\n  [handshake/\\[2,3]](`handshake/2`). For the negotiated TLS version, see\n  [connection_information/1 ](`connection_information/1`).\n\n- **`supported_dtls`** - DTLS versions supported with current application\n  environment and crypto library configuration. Overridden by a version option\n  on [connect/\\[2,3,4]](`connect/2`), `listen/2`, and\n  [handshake/\\[2,3]](`handshake/2`). For the negotiated DTLS version, see\n  [connection_information/1 ](`connection_information/1`).\n\n- **`available`** - All TLS versions supported with the linked crypto library.\n\n- **`available_dtls`** - All DTLS versions supported with the linked crypto\n  library.\n\n- **`implemented`** - All TLS versions supported by the SSL application if\n  linked with a crypto library with the necessary support.\n\n- **`implemented_dtls`** - All DTLS versions supported by the SSL application if\n  linked with a crypto library with the necessary support.","ref":"ssl.html#versions/0"},{"type":"type","title":"ssl.active_msgs/0","doc":"When a TLS/DTLS socket is in active mode (the default), data from the socket is\ndelivered to the owner of the socket in the form of messages as described above.\n\nThe `ssl_passive` message is sent only when the socket is in `{active, N}` mode\nand the counter dropped to 0. It indicates that the socket has transitioned to\npassive (`{active, false}`) mode.","ref":"ssl.html#t:active_msgs/0"},{"type":"type","title":"ssl.algo_filter/0","doc":"","ref":"ssl.html#t:algo_filter/0"},{"type":"type","title":"ssl.allowed_cert_chain_length/0","doc":"Maximum number of non-self-issued intermediate certificates that can follow the\npeer certificate in a valid certification path. So, if depth is 0 the PEER must\nbe signed by the trusted ROOT-CA directly; if 1 the path can be PEER, CA,\nROOT-CA; if 2 the path can be PEER, CA, CA, ROOT-CA, and so on. The default\nvalue is 10.","ref":"ssl.html#t:allowed_cert_chain_length/0"},{"type":"type","title":"ssl.anti_replay/0","doc":"Configures the server's built-in anti replay feature based on Bloom filters.\n\nAllowed values are the pre-defined `'10k'`, `'100k'` or a custom 3-tuple that\ndefines the properties of the bloom filters:\n`{WindowSize, HashFunctions, Bits}`. `WindowSize` is the number of seconds after\nthe current Bloom filter is rotated and also the window size used for freshness\nchecks of ClientHello. `HashFunctions` is the number hash functions and `Bits`\nis the number of bits in the bit vector. `'10k'` and `'100k'` are simple\ndefaults with the following properties:\n\n- `'10k'`: Bloom filters can hold 10000 elements with 3% probability of false\n  positives. `WindowSize`: 10, `HashFunctions`: 5, `Bits:` 72985 (8.91 KiB).\n- `'100k'`: Bloom filters can hold 100000 elements with 3% probability of false\n  positives. `WindowSize`: 10, `HashFunctions`: 5, `Bits`: 729845 (89.09 KiB).\n\n> ##","ref":"ssl.html#t:anti_replay/0"},{"type":"type","title":"Note {: class=info } - ssl.anti_replay/0","doc":">\n> This option is supported by TLS 1.3 and above and only with stateless session\n> tickets. Ticket lifetime, the number of tickets sent by the server and the\n> maximum number of tickets stored by the server in stateful mode are configured\n> by [application variables](ssl_app.md#configuration). See also\n> [SSL's Users Guide, Anti-Replay Protection in TLS 1.3](using_ssl.md#anti-replay-protection-in-tls-1-3)","ref":"ssl.html#t:anti_replay/0-note-class-info"},{"type":"type","title":"ssl.app_level_protocol/0","doc":"","ref":"ssl.html#t:app_level_protocol/0"},{"type":"type","title":"ssl.beast_mitigation/0","doc":"Affects TLS-1.0 connections only. Used to change the BEAST mitigation strategy\nto interoperate with legacy software. Defaults to `one_n_minus_one`.\n\n`one_n_minus_one` \\- Perform 1/n-1 BEAST mitigation.\n\n`zero_n` \\- Perform 0/n BEAST mitigation.\n\n`disabled` \\- Disable BEAST mitigation.\n\n> ##","ref":"ssl.html#t:beast_mitigation/0"},{"type":"type","title":"Warning {: class=warning } - ssl.beast_mitigation/0","doc":">\n> Using `{beast_mitigation, disabled}` makes TLS-1.0 vulnerable to the BEAST\n> attack.","ref":"ssl.html#t:beast_mitigation/0-warning-class-warning"},{"type":"type","title":"ssl.bloom_filter_bits/0","doc":"","ref":"ssl.html#t:bloom_filter_bits/0"},{"type":"type","title":"ssl.bloom_filter_hash_functions/0","doc":"","ref":"ssl.html#t:bloom_filter_hash_functions/0"},{"type":"type","title":"ssl.bloom_filter_window_size/0","doc":"","ref":"ssl.html#t:bloom_filter_window_size/0"},{"type":"type","title":"ssl.cert/0","doc":"The DER-encoded user certificate. Note that the cert option may also be a list\nof DER-encoded certificates where the first one is the user certificate, and the\nrest of the certificates constitutes the certificate chain. For maximum\ninteroperability the certificates in the chain should be in the correct order,\nthe chain will be sent as is to the peer. If chain certificates are not\nprovided, certificates from [client_cacerts()](`t:client_cacerts/0`),\n[server_cacerts()](`t:server_cacerts/0`), or\n[client_cafile()](`t:client_cafile/0`), [server_cafile()](`t:server_cafile/0`)\nare used to construct the chain. If this option is supplied, it overrides option\n`certfile`.","ref":"ssl.html#t:cert/0"},{"type":"type","title":"ssl.cert_key/0","doc":"","ref":"ssl.html#t:cert_key/0"},{"type":"type","title":"ssl.cert_key_conf/0","doc":"A certificate (or possibly a certificate and its chain) and its associated key\non one of the possible formats. For the PEM file format there may also be a\npassword associated with the file containg the key.","ref":"ssl.html#t:cert_key_conf/0"},{"type":"type","title":"ssl.cert_pem/0","doc":"Path to a file containing the user certificate on PEM format or possible several\ncertificates where the first one is the user certificate and the rest of the\ncertificates constitutes the certificate chain. For more details see\n[cert()](`t:cert/0`),","ref":"ssl.html#t:cert_pem/0"},{"type":"type","title":"ssl.certdb_ref/0","doc":"","ref":"ssl.html#t:certdb_ref/0"},{"type":"type","title":"ssl.certs_keys/0","doc":"A list of a certificate (or possible a certificate and its chain) and the\nassociated key of the certificate, that may be used to authenticate the client\nor the server. The certificate key pair that is considered best and matches\nnegotiated parameters for the connection will be selected. Different signature\nalgorithms are prioritized in the order\n`eddsa, ecdsa, rsa_pss_pss, rsa and dsa `. If more than one key is supplied for\nthe same signing algorithm (which is probably an unusual use case) they will\nprioritized by strength unless it is a so called `engine key` that will be\nfavoured over other keys. As engine keys cannot be inspected, supplying more\nthan one engine key will make no sense. This offers flexibility to for instance\nconfigure a newer certificate that is expected to be used in most cases and an\nolder but acceptable certificate that will only be used to communicate with\nlegacy systems. Note that there is a trade off between the induced overhead and\nthe flexibility so alternatives should be chosen for good reasons. If the\n`certs_keys` option is specified it overrides all single certificate and key\noptions. For examples see [the Users Guide](using_ssl.md)\n\n> ##","ref":"ssl.html#t:certs_keys/0"},{"type":"type","title":"Note {: class=info } - ssl.certs_keys/0","doc":">\n> `eddsa` certificates are only supported by TLS-1.3 that does not support `dsa`\n> certificates. `rsa_pss_pss` (RSA certificates using Probabilistic Signature\n> Scheme) are supported in TLS-1.2 and TLS-1.3, but some TLS-1.2 implementations\n> may not support `rsa_pss_pss`.","ref":"ssl.html#t:certs_keys/0-note-class-info"},{"type":"type","title":"ssl.cipher/0","doc":"","ref":"ssl.html#t:cipher/0"},{"type":"type","title":"ssl.cipher_filters/0","doc":"","ref":"ssl.html#t:cipher_filters/0"},{"type":"type","title":"ssl.cipher_suites/0","doc":"A list of cipher suites that should be supported\n\nThe function [ssl:cipher_suites/2 ](`cipher_suites/2`)can be used to find all\ncipher suites that are supported by default and all cipher suites that may be\nconfigured.\n\nIf you compose your own `t:cipher_suites()` make sure they are filtered for\ncryptolib support\n[ssl:filter_cipher_suites/2 ](`filter_cipher_suites/2`)Additionally the\nfunctions [ssl:append_cipher_suites/2 ](`append_cipher_suites/2`),\n[ssl:prepend_cipher_suites/2](`prepend_cipher_suites/2`),\n[ssl:suite_to_str/1](`suite_to_str/1`), [ssl:str_to_suite/1](`str_to_suite/1`),\nand [ssl:suite_to_openssl_str/1](`suite_to_openssl_str/1`) also exist to help\ncreating customized cipher suite lists.\n\n> ##","ref":"ssl.html#t:cipher_suites/0"},{"type":"type","title":"Note {: class=info } - ssl.cipher_suites/0","doc":">\n> Note that TLS-1.3 and TLS-1.2 cipher suites are not overlapping sets of cipher\n> suites so to support both these versions cipher suites from both versions need\n> to be included. Also if the supplied list does not comply with the configured\n> versions or cryptolib so that the list becomes empty, this option will\n> fallback on its appropriate default value for the configured versions.\n\nNon-default cipher suites including anonymous cipher suites (PRE TLS-1.3) are\nsupported for interop/testing purposes and may be used by adding them to your\ncipher suite list. Note that they must also be supported/enabled by the peer to\nactually be used.","ref":"ssl.html#t:cipher_suites/0-note-class-info"},{"type":"type","title":"ssl.ciphers/0","doc":"","ref":"ssl.html#t:ciphers/0"},{"type":"type","title":"ssl.client_alpn/0","doc":"The list of protocols supported by the client to be sent to the server to be\nused for an Application-Layer Protocol Negotiation (ALPN). If the server\nsupports ALPN then it will choose a protocol from this list; otherwise it will\nfail the connection with a \"no_application_protocol\" alert. A server that does\nnot support ALPN will ignore this value.\n\nThe list of protocols must not contain an empty binary.\n\nThe negotiated protocol can be retrieved using the `negotiated_protocol/1`\nfunction.","ref":"ssl.html#t:client_alpn/0"},{"type":"type","title":"ssl.client_cacerts/0","doc":"The DER-encoded trusted certificates. If this option is supplied it overrides\noption `cacertfile`.","ref":"ssl.html#t:client_cacerts/0"},{"type":"type","title":"ssl.client_cafile/0","doc":"Path to a file containing PEM-encoded CA certificates. The CA certificates are\nused during server authentication and when building the client certificate\nchain.\n\n> ##","ref":"ssl.html#t:client_cafile/0"},{"type":"type","title":"Note {: class=info } - ssl.client_cafile/0","doc":">\n> When PEM caching is enabled, files provided with this option will be checked\n> for updates at fixed time intervals specified by the\n> [ssl_pem_cache_clean](ssl_app.md#configuration) environment parameter.\n\n> ##","ref":"ssl.html#t:client_cafile/0-note-class-info"},{"type":"type","title":"Note {: class=info } - ssl.client_cafile/0","doc":">\n> Alternatively, CA certificates can be provided as a DER-encoded binary with\n> [client_cacerts](`t:client_cacerts/0`) option.","ref":"ssl.html#t:client_cafile/0-note-class-info"},{"type":"type","title":"ssl.client_certificate_authorities/0","doc":"If set to true, sends the certificate authorities extension in TLS-1.3 client\nhello. The default is false. Note that setting it to true may result in a big\noverhead if you have many trusted CA certificates. Since OTP-24.3.","ref":"ssl.html#t:client_certificate_authorities/0"},{"type":"type","title":"ssl.client_early_data/0","doc":"Configures the early data to be sent by the client.\n\nIn order to be able to verify that the server has the intention to process the\nearly data, the following 3-tuple is sent to the user process:\n\n`{ssl, SslSocket, {early_data, Result}}`\n\nwhere `Result` is either `accepted` or `rejected`.\n\n> ##","ref":"ssl.html#t:client_early_data/0"},{"type":"type","title":"Warning {: class=warning } - ssl.client_early_data/0","doc":">\n> It is the responsibility of the user to handle a rejected Early Data and to\n> resend when it is appropriate.","ref":"ssl.html#t:client_early_data/0-warning-class-warning"},{"type":"type","title":"ssl.client_option/0","doc":"","ref":"ssl.html#t:client_option/0"},{"type":"type","title":"ssl.client_preferred_next_protocols/0","doc":"Indicates that the client is to try to perform Next Protocol Negotiation.\n\nIf precedence is server, the negotiated protocol is the first protocol to be\nshown on the server advertised list, which is also on the client preference\nlist.\n\nIf precedence is client, the negotiated protocol is the first protocol to be\nshown on the client preference list, which is also on the server advertised\nlist.\n\nIf the client does not support any of the server advertised protocols or the\nserver does not advertise any protocols, the client falls back to the first\nprotocol in its list or to the default protocol (if a default is supplied). If\nthe server does not support Next Protocol Negotiation, the connection terminates\nif no default protocol is supplied.","ref":"ssl.html#t:client_preferred_next_protocols/0"},{"type":"type","title":"ssl.client_psk_identity/0","doc":"Specifies the identity the client presents to the server. The matching secret is\nfound by calling `user_lookup_fun`","ref":"ssl.html#t:client_psk_identity/0"},{"type":"type","title":"ssl.client_renegotiation/0","doc":"In protocols that support client-initiated renegotiation, the cost of resources\nof such an operation is higher for the server than the client. This can act as a\nvector for denial of service attacks. The SSL application already takes measures\nto counter-act such attempts, but client-initiated renegotiation can be strictly\ndisabled by setting this option to `false`. The default value is `true`. Note\nthat disabling renegotiation can result in long-lived connections becoming\nunusable due to limits on the number of messages the underlying cipher suite can\nencipher.","ref":"ssl.html#t:client_renegotiation/0"},{"type":"type","title":"ssl.client_reuse_session/0","doc":"Reuses a specific session. The session should be referred by its session id if\nit is earlier saved with the option `{reuse_sessions, save}` since OTP-21.3 or\nexplicitly specified by its session id and associated data since OTP-22.3. See\nalso\n[SSL's Users Guide, Session Reuse pre TLS 1.3.](using_ssl.md#session-reuse-pre-tls-1-3)","ref":"ssl.html#t:client_reuse_session/0"},{"type":"type","title":"ssl.client_reuse_sessions/0","doc":"When `save` is specified a new connection will be negotiated and saved for later\nreuse. The session ID can be fetched with `connection_information/2` and used\nwith the client option [reuse_session](`t:client_reuse_session/0`) The boolean\nvalue true specifies that if possible, automated session reuse will be\nperformed. If a new session is created, and is unique in regard to previous\nstored sessions, it will be saved for possible later reuse. Since OTP-21.3.","ref":"ssl.html#t:client_reuse_sessions/0"},{"type":"type","title":"ssl.client_session_tickets/0","doc":"Configures the session ticket functionality. Allowed values are `disabled`,\n`manual` and `auto`. If it is set to `manual` the client will send the ticket\ninformation to user process in a 3-tuple:\n\n`{ssl, session_ticket, {SNI, TicketData}}`\n\nwhere `SNI` is the ServerNameIndication and `TicketData` is the extended ticket\ndata that can be used in subsequent session resumptions.\n\nIf it is set to `auto`, the client automatically handles received tickets and\ntries to use them when making new TLS connections (session resumption with\npre-shared keys).\n\n> ##","ref":"ssl.html#t:client_session_tickets/0"},{"type":"type","title":"Note {: class=info } - ssl.client_session_tickets/0","doc":">\n> This option is supported by TLS 1.3 and above. See also\n> [SSL's Users Guide, Session Tickets and Session Resumption in TLS 1.3](using_ssl.md#session-tickets-and-session-resumption-in-tls-1-3)","ref":"ssl.html#t:client_session_tickets/0-note-class-info"},{"type":"type","title":"ssl.client_srp_identity/0","doc":"Specifies the username and password to use to authenticate to the server.","ref":"ssl.html#t:client_srp_identity/0"},{"type":"type","title":"ssl.client_verify_type/0","doc":"Defaults to `verify_none` as additional options are needed to be able to perform\nthe certificate verification. A warning will be emitted unless `verify_none` is\nexplicitly configured. Usually the applications will want to configure\n`verify_peer` together with an appropriate `cacert` or `cacertfile` option. For\nexample an `HTTPS` client would normally use the option\n`{cacerts, public_key:cacerts_get()}` (available since OTP-25) to access the CA\ncertificates provided by the OS. Using verify_none means that all\nx509-certificate path validation errors will be ignored. See also option\n[verify_fun](`t:custom_verify/0`).","ref":"ssl.html#t:client_verify_type/0"},{"type":"type","title":"ssl.common_info/0","doc":"","ref":"ssl.html#t:common_info/0"},{"type":"type","title":"ssl.common_option/0","doc":"","ref":"ssl.html#t:common_option/0"},{"type":"type","title":"ssl.connection_info/0","doc":"","ref":"ssl.html#t:connection_info/0"},{"type":"type","title":"ssl.connection_info_item/0","doc":"","ref":"ssl.html#t:connection_info_item/0"},{"type":"type","title":"ssl.connection_info_items/0","doc":"","ref":"ssl.html#t:connection_info_items/0"},{"type":"type","title":"ssl.cookie/0","doc":"If `true` (default), the server sends a cookie extension in its\nHelloRetryRequest messages.\n\n> ##","ref":"ssl.html#t:cookie/0"},{"type":"type","title":"Note {: class=info } - ssl.cookie/0","doc":">\n> The cookie extension has two main purposes. It allows the server to force the\n> client to demonstrate reachability at their apparent network address (thus\n> providing a measure of DoS protection). This is primarily useful for\n> non-connection-oriented transports. It also allows to offload the server's\n> state to the client. The cookie extension is enabled by default as it is a\n> mandatory extension in RFC8446.","ref":"ssl.html#t:cookie/0-note-class-info"},{"type":"type","title":"ssl.crl_cache_opts/0","doc":"Specify how to perform lookup and caching of certificate revocation lists.\n`Module` defaults to `m:ssl_crl_cache` with `DbHandle `being `internal` and an\nempty argument list.\n\nThere are two implementations available:\n\n- **`ssl_crl_cache`** - This module maintains a cache of CRLs. CRLs can be added\n  to the cache using the function `ssl_crl_cache:insert/1`, and optionally\n  automatically fetched through HTTP if the following argument is specified:\n\n  - **`{http, timeout()}`** - Enables fetching of CRLs specified as http URIs\n    in[X509 certificate extensions](`e:public_key:public_key_records.md`).\n    Requires the OTP inets application.\n\n- **`ssl_crl_hash_dir`** - This module makes use of a directory where CRLs are\n  stored in files named by the hash of the issuer name.\n\n  The file names consist of eight hexadecimal digits followed by `.rN`, where\n  `N` is an integer, e.g. `1a2b3c4d.r0`. For the first version of the CRL, `N`\n  starts at zero, and for each new version, `N` is incremented by one. The\n  OpenSSL utility `c_rehash` creates symlinks according to this pattern.\n\n  For a given hash value, this module finds all consecutive `.r*` files starting\n  from zero, and those files taken together make up the revocation list. CRL\n  files whose `nextUpdate` fields are in the past, or that are issued by a\n  different CA that happens to have the same name hash, are excluded.\n\n  The following argument is required:\n\n  - **`{dir, string()}`** - Specifies the directory in which the CRLs can be\n    found.","ref":"ssl.html#t:crl_cache_opts/0"},{"type":"type","title":"ssl.crl_check/0","doc":"Perform CRL (Certificate Revocation List) verification\n[(public_key:pkix_crls_validate/3)](`public_key:pkix_crls_validate/3`) on all\nthe certificates during the path validation\n[(public_key:pkix_path_validation/3) ](`public_key:pkix_path_validation/3`)of\nthe certificate chain. Defaults to `false`.\n\n- **`peer`** - check is only performed on the peer certificate.\n\n- **`best_effort`** - if certificate revocation status cannot be determined it\n  will be accepted as valid.\n\nThe CA certificates specified for the connection will be used to construct the\ncertificate chain validating the CRLs.\n\nThe CRLs will be fetched from a local or external cache. See\n`m:ssl_crl_cache_api`.","ref":"ssl.html#t:crl_check/0"},{"type":"type","title":"ssl.curve_info/0","doc":"","ref":"ssl.html#t:curve_info/0"},{"type":"type","title":"ssl.custom_user_lookup/0","doc":"The lookup fun is to defined as follows:\n\n```text\nfun(psk, PSKIdentity :: binary(), UserState :: term()) ->\n\t{ok, SharedSecret :: binary()} | error;\nfun(srp, Username :: binary(), UserState :: term()) ->\n\t{ok, {SRPParams :: srp_param_type(), Salt :: binary(),\n\t      DerivedKey :: binary()}} | error.\n```\n\nFor Pre-Shared Key (PSK) cipher suites, the lookup fun is called by the client\nand server to determine the shared secret. When called by the client,\n`PSKIdentity` is set to the hint presented by the server or to undefined. When\ncalled by the server, `PSKIdentity` is the identity presented by the client.\n\nFor Secure Remote Password (SRP), the fun is only used by the server to obtain\nparameters that it uses to generate its session keys. `DerivedKey` is to be\nderived according to [RFC 2945](http://tools.ietf.org/html/rfc2945#section/3)\nand [RFC 5054](http://tools.ietf.org/html/rfc5054#section-2.4):\n`crypto:sha([Salt, crypto:sha([Username, <<$:>>, Password])])`","ref":"ssl.html#t:custom_user_lookup/0"},{"type":"type","title":"ssl.custom_verify/0","doc":"The verification fun is to be defined as follows:\n\n```text\nfun(OtpCert :: #'OTPCertificate'{},\n    Event, InitialUserState :: term()) ->\n\t{valid, UserState :: term()} |\n\t{fail, Reason :: term()} | {unknown, UserState :: term()}.\n\nfun(OtpCert :: #'OTPCertificate'{}, DerCert :: public_key:der_encoded(),\n    Event, InitialUserState :: term()) ->\n\t{valid, UserState :: term()} |\n\t{fail, Reason :: term()} | {unknown, UserState :: term()}.\n\nTypes:\n      Event = {bad_cert, Reason :: atom() |\n              {revoked, atom()}} |\n\t      {extension, #'Extension'{}} |\n              valid |\n              valid_peer\n```\n\nThe verification fun is called during the X509-path validation when an error or\nan extension unknown to the SSL application is encountered. It is also called\nwhen a certificate is considered valid by the path validation to allow access to\neach certificate in the path to the user application. It differentiates between\nthe peer certificate and the CA certificates by using `valid_peer` or `valid` as\n`Event` argument to the verification fun. See the\n[public_key User's Guide](`e:public_key:public_key_records.md`) for definition\nof `#'OTPCertificate'{}` and `#'Extension'{}`.\n\n- If the verify callback fun returns `{fail, Reason}`, the verification process\n  is immediately stopped, an alert is sent to the peer, and the TLS/DTLS\n  handshake terminates.\n- If the verify callback fun returns `{valid, UserState}`, the verification\n  process continues.\n- If the verify callback fun always returns `{valid, UserState}`, the TLS/DTLS\n  handshake does not terminate regarding verification failures and the\n  connection is established.\n- If called with an extension unknown to the user application, return value\n  `{unknown, UserState}` is to be used.\n\n  Note that if the fun returns `unknown` for an extension marked as critical,\n  validation will fail.\n\nDefault option `verify_fun` in `verify_peer mode`:\n\n```text\n{fun(_,{bad_cert, _} = Reason, _) ->\n\t {fail, Reason};\n    (_,{extension, _}, UserState) ->\n\t {unknown, UserState};\n    (_, valid, UserState) ->\n\t {valid, UserState};\n    (_, valid_peer, UserState) ->\n         {valid, UserState}\n end, []}\n```\n\nDefault option `verify_fun` in mode `verify_none`:\n\n```text\n{fun(_,{bad_cert, _}, UserState) ->\n\t {valid, UserState};\n    (_,{extension, #'Extension'{critical = true}}, UserState) ->\n\t {valid, UserState};\n    (_,{extension, _}, UserState) ->\n\t {unknown, UserState};\n    (_, valid, UserState) ->\n\t {valid, UserState};\n    (_, valid_peer, UserState) ->\n         {valid, UserState}\n end, []}\n```\n\nThe possible path validation errors are given on form `{bad_cert, Reason}` where\n`Reason` is:\n\n- **`unknown_ca`** - No trusted CA was found in the trusted store. The trusted\n  CA is normally a so called ROOT CA, which is a self-signed certificate. Trust\n  can be claimed for an intermediate CA (trusted anchor does not have to be\n  self-signed according to X-509) by using option `partial_chain`.\n\n- **`selfsigned_peer`** - The chain consisted only of one self-signed\n  certificate.\n\n- **`PKIX X-509-path validation error`** - For possible reasons, see\n  `public_key:pkix_path_validation/3`","ref":"ssl.html#t:custom_verify/0"},{"type":"type","title":"ssl.customize_hostname_check/0","doc":"Customizes the hostname verification of the peer certificate, as different\nprotocols that use TLS such as HTTP or LDAP may want to do it differently. For\nexample the get standard HTTPS handling provide the already implememnted fun\nfrom the public_key application for HTTPS.\n`{customize_hostname_check, [{match_fun, public_key:pkix_verify_hostname_match_fun(https)}]}`\nFor futher description of customize options see\n`public_key:pkix_verify_hostname/3`","ref":"ssl.html#t:customize_hostname_check/0"},{"type":"type","title":"ssl.db_handle/0","doc":"","ref":"ssl.html#t:db_handle/0"},{"type":"type","title":"ssl.der_cert/0","doc":"","ref":"ssl.html#t:der_cert/0"},{"type":"type","title":"ssl.dh_der/0","doc":"The DER-encoded Diffie-Hellman parameters. If specified, it overrides option\n`dhfile`.\n\n> ##","ref":"ssl.html#t:dh_der/0"},{"type":"type","title":"Warning {: class=warning } - ssl.dh_der/0","doc":">\n> The `dh_der` option is not supported by TLS 1.3. Use the `supported_groups`\n> option instead.","ref":"ssl.html#t:dh_der/0-warning-class-warning"},{"type":"type","title":"ssl.dh_file/0","doc":"Path to a file containing PEM-encoded Diffie Hellman parameters to be used by\nthe server if a cipher suite using Diffie Hellman key exchange is negotiated. If\nnot specified, default parameters are used.\n\n> ##","ref":"ssl.html#t:dh_file/0"},{"type":"type","title":"Warning {: class=warning } - ssl.dh_file/0","doc":">\n> The `dh_file` option is not supported by TLS 1.3. Use the `supported_groups`\n> option instead.","ref":"ssl.html#t:dh_file/0-warning-class-warning"},{"type":"type","title":"ssl.dtls_legacy_version/0","doc":"","ref":"ssl.html#t:dtls_legacy_version/0"},{"type":"type","title":"ssl.dtls_version/0","doc":"","ref":"ssl.html#t:dtls_version/0"},{"type":"type","title":"ssl.erl_cipher_suite/0","doc":"","ref":"ssl.html#t:erl_cipher_suite/0"},{"type":"type","title":"ssl.error_alert/0","doc":"","ref":"ssl.html#t:error_alert/0"},{"type":"type","title":"ssl.fail_if_no_peer_cert/0","doc":"Used together with `{verify, verify_peer}` by an TLS/DTLS server. If set to\n`true`, the server fails if the client does not have a certificate to send, that\nis, sends an empty certificate. If set to `false`, it fails only if the client\nsends an invalid certificate (an empty certificate is considered valid).\nDefaults to false.","ref":"ssl.html#t:fail_if_no_peer_cert/0"},{"type":"type","title":"ssl.fallback/0","doc":"Send special cipher suite TLS_FALLBACK_SCSV to avoid undesired TLS version\ndowngrade. Defaults to false\n\n> ##","ref":"ssl.html#t:fallback/0"},{"type":"type","title":"Warning {: class=warning } - ssl.fallback/0","doc":">\n> Note this option is not needed in normal TLS usage and should not be used to\n> implement new clients. But legacy clients that retries connections in the\n> following manner\n>\n> `ssl:connect(Host, Port, [...{versions, ['tlsv2', 'tlsv1.1', 'tlsv1']}])`\n>\n> `ssl:connect(Host, Port, [...{versions, [tlsv1.1', 'tlsv1']}, {fallback, true}])`\n>\n> `ssl:connect(Host, Port, [...{versions, ['tlsv1']}, {fallback, true}])`\n>\n> may use it to avoid undesired TLS version downgrade. Note that\n> TLS_FALLBACK_SCSV must also be supported by the server for the prevention to\n> work.","ref":"ssl.html#t:fallback/0-warning-class-warning"},{"type":"type","title":"ssl.from/0","doc":"","ref":"ssl.html#t:from/0"},{"type":"type","title":"ssl.gen_fsm_state_return/0","doc":"","ref":"ssl.html#t:gen_fsm_state_return/0"},{"type":"type","title":"ssl.group/0","doc":"","ref":"ssl.html#t:group/0"},{"type":"type","title":"ssl.handshake_completion/0","doc":"Defaults to `full`. If hello is specified the handshake will pause after the\nhello message and give the user a possibility make decisions based on hello\nextensions before continuing or aborting the handshake by calling\n`handshake_continue/3` or `handshake_cancel/1`","ref":"ssl.html#t:handshake_completion/0"},{"type":"type","title":"ssl.handshake_size/0","doc":"Integer (24 bits unsigned). Used to limit the size of valid TLS handshake\npackets to avoid DoS attacks. Defaults to 256\\*1024.","ref":"ssl.html#t:handshake_size/0"},{"type":"type","title":"ssl.hash/0","doc":"","ref":"ssl.html#t:hash/0"},{"type":"type","title":"ssl.hibernate_after/0","doc":"When an integer-value is specified, `TLS/DTLS-connection` goes into hibernation\nafter the specified number of milliseconds of inactivity, thus reducing its\nmemory footprint. When `undefined` is specified (this is the default), the\nprocess never goes into hibernation.","ref":"ssl.html#t:hibernate_after/0"},{"type":"type","title":"ssl.honor_cipher_order/0","doc":"If set to `true`, use the server preference for cipher selection. If set to\n`false` (the default), use the client preference.\n\nIf true, use the server's preference for cipher selection. If false (the\ndefault), use the client's preference.","ref":"ssl.html#t:honor_cipher_order/0"},{"type":"type","title":"ssl.honor_ecc_order/0","doc":"If true, use the server's preference for ECC curve selection. If false (the\ndefault), use the client's preference.","ref":"ssl.html#t:honor_ecc_order/0"},{"type":"type","title":"ssl.host/0","doc":"","ref":"ssl.html#t:host/0"},{"type":"type","title":"ssl.hostname/0","doc":"","ref":"ssl.html#t:hostname/0"},{"type":"type","title":"ssl.ip_address/0","doc":"","ref":"ssl.html#t:ip_address/0"},{"type":"type","title":"ssl.issuer/0","doc":"","ref":"ssl.html#t:issuer/0"},{"type":"type","title":"ssl.keep_secrets/0","doc":"Configures a TLS 1.3 connection for keylogging\n\nIn order to retrieve keylog information on a TLS 1.3 connection, it must be\nconfigured in advance to keep the client_random and various handshake secrets.\n\nThe keep_secrets functionality is disabled (`false`) by default.\n\nAdded in OTP 23.2","ref":"ssl.html#t:keep_secrets/0"},{"type":"type","title":"ssl.kex_algo/0","doc":"","ref":"ssl.html#t:kex_algo/0"},{"type":"type","title":"ssl.key/0","doc":"The DER-encoded user's private key or a map referring to a crypto engine and its\nkey reference that optionally can be password protected, see also\n[crypto:engine_load/3 ](`crypto:engine_load/3`)and\n[Crypto's Users Guide](`e:crypto:engine_load.md`). If this option is supplied,\nit overrides option `keyfile`.","ref":"ssl.html#t:key/0"},{"type":"type","title":"ssl.key_pem/0","doc":"Path to the file containing the user's private PEM-encoded key. As PEM-files can\ncontain several entries, this option defaults to the same file as given by\noption `certfile`.","ref":"ssl.html#t:key_pem/0"},{"type":"type","title":"ssl.key_pem_password/0","doc":"String containing the user's password or a function returning same type. Only\nused if the private keyfile is password-protected.","ref":"ssl.html#t:key_pem_password/0"},{"type":"type","title":"ssl.key_update_at/0","doc":"Configures the maximum amount of bytes that can be sent on a TLS 1.3 connection\nbefore an automatic key update is performed.\n\nThere are cryptographic limits on the amount of plaintext which can be safely\nencrypted under a given set of keys. The current default ensures that data\nintegrity will not be breached with probability greater than 1/2^57. For more\ninformation see\n[Limits on Authenticated Encryption Use in TLS](http://www.isg.rhul.ac.uk/~kp/TLS-AEbounds.pdf).\n\n> ##","ref":"ssl.html#t:key_update_at/0"},{"type":"type","title":"Warning {: class=warning } - ssl.key_update_at/0","doc":">\n> The default value of this option shall provide the above mentioned security\n> guarantees and it shall be reasonable for most applications (~353 TB).","ref":"ssl.html#t:key_update_at/0-warning-class-warning"},{"type":"type","title":"ssl.legacy_cipher/0","doc":"","ref":"ssl.html#t:legacy_cipher/0"},{"type":"type","title":"ssl.legacy_hash/0","doc":"","ref":"ssl.html#t:legacy_hash/0"},{"type":"type","title":"ssl.legacy_named_curve/0","doc":"","ref":"ssl.html#t:legacy_named_curve/0"},{"type":"type","title":"ssl.log_alert/0","doc":"If set to `false`, TLS/DTLS Alert reports are not displayed. Deprecated in OTP\n22, use \\{log_level, [logging_level()](`t:logging_level/0`)\\} instead.","ref":"ssl.html#t:log_alert/0"},{"type":"type","title":"ssl.logging_level/0","doc":"Specifies the log level for a TLS/DTLS connection. Alerts are logged on `notice`\nlevel, which is the default level. The level `debug` triggers verbose logging of\nTLS/DTLS protocol messages. See also [ssl(6)](ssl_app.md)","ref":"ssl.html#t:logging_level/0"},{"type":"type","title":"ssl.max_fragment_length/0","doc":"Specifies the maximum fragment length the client is prepared to accept from the\nserver. See [RFC 6066](http://www.ietf.org/rfc/rfc6066.txt)","ref":"ssl.html#t:max_fragment_length/0"},{"type":"type","title":"ssl.middlebox_comp_mode/0","doc":"Configures the middlebox compatibility mode on a TLS 1.3 connection.\n\nA significant number of middleboxes misbehave when a TLS 1.3 connection is\nnegotiated. Implementations can increase the chance of making connections\nthrough those middleboxes by making the TLS 1.3 handshake more like a TLS 1.2\nhandshake.\n\nThe middlebox compatibility mode is enabled (`true`) by default.","ref":"ssl.html#t:middlebox_comp_mode/0"},{"type":"type","title":"ssl.msg/0","doc":"","ref":"ssl.html#t:msg/0"},{"type":"type","title":"ssl.named_curve/0","doc":"","ref":"ssl.html#t:named_curve/0"},{"type":"type","title":"ssl.old_cipher_suite/0","doc":"","ref":"ssl.html#t:old_cipher_suite/0"},{"type":"type","title":"ssl.padding_check/0","doc":"Affects TLS-1.0 connections only. If set to `false`, it disables the block\ncipher padding check to be able to interoperate with legacy software.\n\n> ##","ref":"ssl.html#t:padding_check/0"},{"type":"type","title":"Warning {: class=warning } - ssl.padding_check/0","doc":">\n> Using `{padding_check, boolean()}` makes TLS vulnerable to the Poodle attack.","ref":"ssl.html#t:padding_check/0-warning-class-warning"},{"type":"type","title":"ssl.prf_random/0","doc":"","ref":"ssl.html#t:prf_random/0"},{"type":"type","title":"ssl.protocol/0","doc":"Choose TLS or DTLS protocol for the transport layer security. Defaults to `tls`.\nFor DTLS other transports than UDP are not yet supported.","ref":"ssl.html#t:protocol/0"},{"type":"type","title":"ssl.protocol_extensions/0","doc":"","ref":"ssl.html#t:protocol_extensions/0"},{"type":"type","title":"ssl.protocol_version/0","doc":"","ref":"ssl.html#t:protocol_version/0"},{"type":"type","title":"ssl.protocol_versions/0","doc":"TLS protocol versions supported by started clients and servers. This option\noverrides the application environment option `protocol_version` and\n`dtls_protocol_version`. If the environment option is not set, it defaults to\nall versions, supported by the SSL application. See also [ssl(6).](ssl_app.md)","ref":"ssl.html#t:protocol_versions/0"},{"type":"type","title":"ssl.psk_identity/0","doc":"","ref":"ssl.html#t:psk_identity/0"},{"type":"type","title":"ssl.reason/0","doc":"","ref":"ssl.html#t:reason/0"},{"type":"type","title":"ssl.reply/0","doc":"","ref":"ssl.html#t:reply/0"},{"type":"type","title":"ssl.root_fun/0","doc":"```text\nfun(Chain::[public_key:der_encoded()]) ->\n\t{trusted_ca, DerCert::public_key:der_encoded()} | unknown_ca.\n```\n\nClaim an intermediate CA in the chain as trusted. TLS then performs\n`public_key:pkix_path_validation/3` with the selected CA as trusted anchor and\nthe rest of the chain.","ref":"ssl.html#t:root_fun/0"},{"type":"type","title":"ssl.rsassa_pss_scheme/0","doc":"","ref":"ssl.html#t:rsassa_pss_scheme/0"},{"type":"type","title":"ssl.secret_printout/0","doc":"","ref":"ssl.html#t:secret_printout/0"},{"type":"type","title":"ssl.secure_renegotiation/0","doc":"Specifies if to reject renegotiation attempt that does not live up to\n[RFC 5746](http://www.ietf.org/rfc/rfc5746.txt). By default `secure_renegotiate`\nis set to `true`, that is, secure renegotiation is enforced. If set to `false`\nsecure renegotiation will still be used if possible, but it falls back to\ninsecure renegotiation if the peer does not support\n[RFC 5746](http://www.ietf.org/rfc/rfc5746.txt).","ref":"ssl.html#t:secure_renegotiation/0"},{"type":"type","title":"ssl.security_info/0","doc":"","ref":"ssl.html#t:security_info/0"},{"type":"type","title":"ssl.serialnumber/0","doc":"","ref":"ssl.html#t:serialnumber/0"},{"type":"type","title":"ssl.server_alpn/0","doc":"Indicates the server will try to perform Application-Layer Protocol Negotiation\n(ALPN).\n\nThe list of protocols is in order of preference. The protocol negotiated will be\nthe first in the list that matches one of the protocols advertised by the\nclient. If no protocol matches, the server will fail the connection with a\n\"no_application_protocol\" alert.\n\nThe negotiated protocol can be retrieved using the `negotiated_protocol/1`\nfunction.","ref":"ssl.html#t:server_alpn/0"},{"type":"type","title":"ssl.server_cacerts/0","doc":"The DER-encoded trusted certificates. If this option is supplied it overrides\noption `cacertfile`.","ref":"ssl.html#t:server_cacerts/0"},{"type":"type","title":"ssl.server_cafile/0","doc":"Path to a file containing PEM-encoded CA certificates. The CA certificates are\nused to build the server certificate chain and for client authentication. The\nCAs are also used in the list of acceptable client CAs passed to the client when\na certificate is requested. Can be omitted if there is no need to verify the\nclient and if there are no intermediate CAs for the server certificate.\n\n> ##","ref":"ssl.html#t:server_cafile/0"},{"type":"type","title":"Note {: class=info } - ssl.server_cafile/0","doc":">\n> When PEM caching is enabled, files provided with this option will be checked\n> for updates at fixed time intervals specified by the\n> [ssl_pem_cache_clean](ssl_app.md#configuration) environment parameter.\n\n> ##","ref":"ssl.html#t:server_cafile/0-note-class-info"},{"type":"type","title":"Note {: class=info } - ssl.server_cafile/0","doc":">\n> Alternatively, CA certificates can be provided as a DER-encoded binary with\n> [server_cacerts](`t:server_cacerts/0`) option.","ref":"ssl.html#t:server_cafile/0-note-class-info"},{"type":"type","title":"ssl.server_certificate_authorities/0","doc":"Determines if a TLS-1.3 server should include the authorities extension in its\ncertificate request message that will be sent if the option `verify` is set to\n`verify_peer`. Defaults to `true`.\n\nA reason to exclude the extension would be if the server wants to communicate\nwith clients incapable of sending complete certificate chains that adhere to the\nextension, but the server still has the capability to recreate a chain that it\ncan verify.","ref":"ssl.html#t:server_certificate_authorities/0"},{"type":"type","title":"ssl.server_early_data/0","doc":"Configures if the server accepts (`enabled`) or rejects (`rejects`) early data\nsent by a client. The default value is `disabled`.\n\n> ##","ref":"ssl.html#t:server_early_data/0"},{"type":"type","title":"Warning {: class=warning } - ssl.server_early_data/0","doc":">\n> This option is a placeholder, early data is not yet implemented on the server\n> side.","ref":"ssl.html#t:server_early_data/0-warning-class-warning"},{"type":"type","title":"ssl.server_next_protocol/0","doc":"List of protocols to send to the client if the client indicates that it supports\nthe Next Protocol extension. The client can select a protocol that is not on\nthis list. The list of protocols must not contain an empty binary. If the server\nnegotiates a Next Protocol, it can be accessed using the\n`negotiated_next_protocol/1` method.","ref":"ssl.html#t:server_next_protocol/0"},{"type":"type","title":"ssl.server_option/0","doc":"","ref":"ssl.html#t:server_option/0"},{"type":"type","title":"ssl.server_psk_identity/0","doc":"Specifies the server identity hint, which the server presents to the client.","ref":"ssl.html#t:server_psk_identity/0"},{"type":"type","title":"ssl.server_reuse_session/0","doc":"Enables the TLS/DTLS server to have a local policy for deciding if a session is\nto be reused or not. Meaningful only if `reuse_sessions` is set to `true`.\n`SuggestedSessionId` is a `t:binary()`, `PeerCert` is a DER-encoded certificate,\n`Compression` is an enumeration integer, and `CipherSuite` is of type\n`ciphersuite()`.","ref":"ssl.html#t:server_reuse_session/0"},{"type":"type","title":"ssl.server_reuse_sessions/0","doc":"The boolean value true specifies that the server will agree to reuse sessions.\nSetting it to false will result in an empty session table, that is no sessions\nwill be reused. See also option [reuse_session](`t:server_reuse_session/0`).","ref":"ssl.html#t:server_reuse_sessions/0"},{"type":"type","title":"ssl.server_session_tickets/0","doc":"Configures the session ticket functionality. Allowed values are `disabled`,\n`stateful`, `stateless`, `stateful_with_cert`, `stateless_with_cert`.\n\nIf it is not set to `disabled`, session resumption with pre-shared keys is\nenabled and the server will send stateful or stateless session tickets to the\nclient after successful connections.\n\n> ##","ref":"ssl.html#t:server_session_tickets/0"},{"type":"type","title":"Note {: class=info } - ssl.server_session_tickets/0","doc":">\n> Pre-shared key session ticket resumption does not include any certificate\n> exchange, hence the function [ssl:peercert/1](`peercert/1`) will not be able\n> to return the peer certificate as it is only communicated in the initial\n> handshake. The server options `stateful_with_cert` or `stateless_with_cert`\n> may be used to make a server associate the client certificate from the\n> original handshake with the tickets it issues.\n\nA stateful session ticket is a database reference to internal state information.\nA stateless session ticket is a self-encrypted binary that contains both\ncryptographic keying material and state data.\n\n> ##","ref":"ssl.html#t:server_session_tickets/0-note-class-info"},{"type":"type","title":"Warning {: class=warning } - ssl.server_session_tickets/0","doc":">\n> If it is set to `stateful_with_cert` the client certificate is stored with the\n> internal state information, increasing memory consumption. If it is set to\n> `stateless_with_cert` the client certificate is encoded in the self-encrypted\n> binary that is sent to the client, increasing the payload size.\n\n> ##","ref":"ssl.html#t:server_session_tickets/0-warning-class-warning"},{"type":"type","title":"Note {: class=info } - ssl.server_session_tickets/0","doc":">\n> This option is supported by TLS 1.3 and above. See also\n> [SSL's Users Guide, Session Tickets and Session Resumption in TLS 1.3](using_ssl.md#session-tickets-and-session-resumption-in-tls-1-3)","ref":"ssl.html#t:server_session_tickets/0-note-class-info"},{"type":"type","title":"ssl.server_verify_type/0","doc":"Client certificates are an optional part of the TLS protocol. A server only does\nx509-certificate path validation in mode `verify_peer`. By default the server is\nin `verify_none` mode an hence will not send an certificate request to the\nclient. When using `verify_peer` you may also want to specify the options\n[fail_if_no_peer_cert](`t:fail_if_no_peer_cert/0`) and\n[certificate_authorities](`t:server_certificate_authorities/0`).","ref":"ssl.html#t:server_verify_type/0"},{"type":"type","title":"ssl.session_id/0","doc":"Identifies a TLS session.","ref":"ssl.html#t:session_id/0"},{"type":"type","title":"ssl.session_tickets/0","doc":"Configures the session ticket functionality in TLS 1.3 client and server.","ref":"ssl.html#t:session_tickets/0"},{"type":"type","title":"ssl.sha2/0","doc":"","ref":"ssl.html#t:sha2/0"},{"type":"type","title":"ssl.sign_algo/0","doc":"","ref":"ssl.html#t:sign_algo/0"},{"type":"type","title":"ssl.sign_scheme/0","doc":"","ref":"ssl.html#t:sign_scheme/0"},{"type":"type","title":"ssl.sign_scheme_legacy/0","doc":"","ref":"ssl.html#t:sign_scheme_legacy/0"},{"type":"type","title":"ssl.sign_schemes/0","doc":"Explicitly list acceptable signature schemes (algorithms) in the preferred\norder. Overrides the algorithms supplied in\n[`signature_algs`](`t:signature_algs/0`) option for certificates.\n\nIn addition to the `signature_algorithms` extension from TLS 1.2,\n[TLS 1.3 (RFC 5246 Section 4.2.3)](http://www.ietf.org/rfc/rfc8446.txt#section-4.2.3)\nadds the `signature_algorithms_cert` extension which enables having special\nrequirements on the signatures used in the certificates that differs from the\nrequirements on digital signatures as a whole. If this is not required this\nextension is not need.\n\nThe client will send a `signature_algorithms_cert` extension (in the client\nhello message), if TLS version 1.2 (back-ported to TLS 1.2 in 24.1) or later is\nused, and the signature_algs_cert option is explicitly specified. By default,\nonly the [signature_algs](`t:signature_algs/0`) extension is sent.\n\n> ##","ref":"ssl.html#t:sign_schemes/0"},{"type":"type","title":"Note {: class=info } - ssl.sign_schemes/0","doc":">\n> Note that supported signature schemes for TLS-1.2 are\n> [sign_scheme_legacy()](`t:sign_scheme_legacy/0`) and\n> [rsassa_pss_scheme()](`t:rsassa_pss_scheme/0`)","ref":"ssl.html#t:sign_schemes/0-note-class-info"},{"type":"type","title":"ssl.signature_algs/0","doc":"Explicitly list acceptable signature algorithms for certificates and handshake\nmessages in the preferred order. The client will send its list as the client\nhello `signature_algorithm` extension introduced in TLS-1.2, see\n[Section 7.4.1.4.1 in RFC 5246](http://www.ietf.org/rfc/rfc5246.txt). Previously\nthese algorithms where implicitly chosen and partly derived from the cipher\nsuite.\n\nIn TLS-1.2 a somewhat more explicit negotiation is made possible using a list of\n\\{[hash()](`t:hash/0`), [sign_algo()](`t:signature_algs/0`)\\} pairs.\n\nIn TLS-1.3 these algorithm pairs are replaced by so called signature schemes\n[sign_scheme()](`t:sign_scheme/0`) and completely decoupled from the cipher\nsuite.\n\nSignature algorithms used for certificates may be overridden by the\n[signature schemes](`t:sign_schemes/0`) (algorithms) supplied by the\n`signature_algs_cert` option.\n\nTLS-1.2 default is Default_TLS_12_Alg_Pairs interleaved with rsa_pss_schemes\nsince ssl-11.0 (OTP-25) pss_pss is prefered over pss_rsae that is prefered over\nrsa\n\n`Default_TLS_12_Alg_Pairs =`\n\n```text\n[\n%% SHA2\n{sha512, ecdsa},\n{sha512, rsa},\n{sha384, ecdsa},\n{sha384, rsa},\n{sha256, ecdsa},\n{sha256, rsa}\n]\n```\n\nSupport for \\{md5, rsa\\} was removed from the the TLS-1.2 default in ssl-8.0\n(OTP-22) and support for SHA1 \\{sha, _\\} and SHA224 \\{sha224, _\\} was removed in\nssl-11.0 (OTP-26)\n\n`rsa_pss_schemes =`\n\n```text\n[rsa_pss_pss_sha512,\nrsa_pss_pss_sha384,\nrsa_pss_pss_sha256,\nrsa_pss_rsae_sha512,\nrsa_pss_rsae_sha384,\nrsa_pss_rsae_sha256]\n```\n\n`TLS_13_Legacy_Schemes =`\n\n```text\n [\n %% Legacy algorithms only applicable to certificate signatures\nrsa_pkcs1_sha512, %% Corresponds to {sha512, rsa}\nrsa_pkcs1_sha384, %% Corresponds to {sha384, rsa}\nrsa_pkcs1_sha256, %% Corresponds to {sha256, rsa}\n]\n```\n\n`Default_TLS_13_Schemes =`\n\n```text\n [\n %% EDDSA\neddsa_ed25519,\neddsa_ed448\n\n%% ECDSA\necdsa_secp521r1_sha512,\necdsa_secp384r1_sha384,\necdsa_secp256r1_sha256] ++\n\n%% RSASSA-PSS\nrsa_pss_schemes()\n```\n\nEDDSA was made highest priority in ssl-10.8 (OTP-25)\n\nTLS-1.3 default is\n\n```text\nDefault_TLS_13_Schemes\n```\n\nIf both TLS-1.3 and TLS-1.2 are supported the default will be\n\n```text\nDefault_TLS_13_Schemes ++ TLS_13_Legacy_Schemes ++ Default_TLS_12_Alg_Pairs (not represented in TLS_13_Legacy_Schemes)\n```\n\nso appropriate algorithms can be chosen for the negotiated version.\n\n> ##","ref":"ssl.html#t:signature_algs/0"},{"type":"type","title":"Note {: class=info } - ssl.signature_algs/0","doc":">\n> TLS-1.2 algorithms will not be negotiated for TLS-1.3, but TLS-1.3 RSASSA-PSS\n> [rsassa_pss_scheme()](`t:rsassa_pss_scheme/0`) signature schemes may be\n> negotiated also for TLS-1.2 from 24.1 (fully working from 24.1.3). However if\n> TLS-1.3 is negotiated when both TLS-1.3 and TLS-1.2 is supported using\n> defaults, the corresponding TLS-1.2 algorithms to the TLS-1.3 legacy signature\n> schemes will be considered as the legacy schemes and applied only to\n> certificate signatures.","ref":"ssl.html#t:signature_algs/0-note-class-info"},{"type":"type","title":"ssl.sni/0","doc":"Specify the hostname to be used in TLS Server Name Indication extension. If not\nspecified it will default to the `Host` argument of\n[connect/\\[3,4]](`connect/3`) unless it is of type inet:ipaddress().\n\nThe `HostName` will also be used in the hostname verification of the peer\ncertificate using `public_key:pkix_verify_hostname/2`.\n\nThe special value `disable` prevents the Server Name Indication extension from\nbeing sent and disables the hostname verification check\n`public_key:pkix_verify_hostname/2`","ref":"ssl.html#t:sni/0"},{"type":"type","title":"ssl.sni_fun/0","doc":"If the server receives a SNI (Server Name Indication) from the client, the given\nfunction will be called to retrieve [\\[server_option()]\n](`t:server_option/0`)for the indicated server. These options will be merged\ninto predefined [\\[server_option()] ](`t:server_option/0`)list. The function\nshould be defined as: fun(ServerName :: string()) -> [\\[server_option()]\n](`t:server_option/0`)and can be specified as a fun or as named\n`fun module:function/1` The option `sni_fun`, and `sni_hosts` are mutually\nexclusive.","ref":"ssl.html#t:sni_fun/0"},{"type":"type","title":"ssl.sni_hosts/0","doc":"If the server receives a SNI (Server Name Indication) from the client matching a\nhost listed in the `sni_hosts` option, the specific options for that host will\noverride previously specified options. The option `sni_fun`, and `sni_hosts` are\nmutually exclusive.","ref":"ssl.html#t:sni_hosts/0"},{"type":"type","title":"ssl.socket/0","doc":"","ref":"ssl.html#t:socket/0"},{"type":"type","title":"ssl.socket_option/0","doc":"The default socket options are\n`[{mode,list},{packet, 0},{header, 0},{active, true}]`.\n\nFor valid options, see the `m:inet`, `m:gen_tcp` and [gen_udp(3)](`m:gen_tcp`)\nmanual pages in Kernel. Note that stream oriented options such as packet are\nonly relevant for TLS and not DTLS","ref":"ssl.html#t:socket_option/0"},{"type":"type","title":"ssl.spawn_opts/0","doc":"Configures spawn options of TLS sender and receiver processes.\n\nSetting up garbage collection options can be helpful for trade-offs between CPU\nusage and Memory usage. See `erlang:spawn_opt/2`.\n\nFor dist connections, default sender option is `[...{priority, max}]`, this\npriority option cannot be changed. For all connections, `...link` is added to\nreceiver and cannot be changed.","ref":"ssl.html#t:spawn_opts/0"},{"type":"type","title":"ssl.srp_identity/0","doc":"","ref":"ssl.html#t:srp_identity/0"},{"type":"type","title":"ssl.srp_param_type/0","doc":"","ref":"ssl.html#t:srp_param_type/0"},{"type":"type","title":"ssl.ssl_imp/0","doc":"Deprecated since OTP-17, has no effect.","ref":"ssl.html#t:ssl_imp/0"},{"type":"type","title":"ssl.ssl_options/0","doc":"","ref":"ssl.html#t:ssl_options/0"},{"type":"type","title":"ssl.ssl_options_info/0","doc":"","ref":"ssl.html#t:ssl_options_info/0"},{"type":"type","title":"ssl.sslsocket/0","doc":"An opaque reference to the TLS/DTLS connection, may be used for equality\nmatching.","ref":"ssl.html#t:sslsocket/0"},{"type":"type","title":"ssl.state_name/0","doc":"","ref":"ssl.html#t:state_name/0"},{"type":"type","title":"ssl.stateless_tickets_seed/0","doc":"Configures the seed used for the encryption of stateless session tickets.\nAllowed values are any randomly generated `t:binary()`. If this option is not\nconfigured, an encryption seed will be randomly generated.\n\n> ##","ref":"ssl.html#t:stateless_tickets_seed/0"},{"type":"type","title":"Warning {: class=warning } - ssl.stateless_tickets_seed/0","doc":">\n> Reusing the ticket encryption seed between multiple server instances enables\n> stateless session tickets to work across multiple server instances, but it\n> breaks anti-replay protection across instances.\n>\n> Inaccurate time synchronization between server instances can also affect\n> session ticket freshness checks, potentially causing false negatives as well\n> as false positives.\n\n> ##","ref":"ssl.html#t:stateless_tickets_seed/0-warning-class-warning"},{"type":"type","title":"Note {: class=info } - ssl.stateless_tickets_seed/0","doc":">\n> This option is supported by TLS 1.3 and above and only with stateless session\n> tickets.","ref":"ssl.html#t:stateless_tickets_seed/0-note-class-info"},{"type":"type","title":"ssl.supported_groups/0","doc":"TLS 1.3 introduces the \"supported_groups\" extension that is used for negotiating\nthe Diffie-Hellman parameters in a TLS 1.3 handshake. Both client and server can\nspecify a list of parameters that they are willing to use.\n\nIf it is not specified it will use a default list (\\[x25519, x448, secp256r1,\nsecp384r1]) that is filtered based on the installed crypto library version.","ref":"ssl.html#t:supported_groups/0"},{"type":"type","title":"ssl.tls_alert/0","doc":"","ref":"ssl.html#t:tls_alert/0"},{"type":"type","title":"ssl.tls_client_option/0","doc":"","ref":"ssl.html#t:tls_client_option/0"},{"type":"type","title":"ssl.tls_legacy_version/0","doc":"","ref":"ssl.html#t:tls_legacy_version/0"},{"type":"type","title":"ssl.tls_option/0","doc":"","ref":"ssl.html#t:tls_option/0"},{"type":"type","title":"ssl.tls_options_name/0","doc":"","ref":"ssl.html#t:tls_options_name/0"},{"type":"type","title":"ssl.tls_server_option/0","doc":"","ref":"ssl.html#t:tls_server_option/0"},{"type":"type","title":"ssl.tls_version/0","doc":"","ref":"ssl.html#t:tls_version/0"},{"type":"type","title":"ssl.transport_option/0","doc":"Defaults to `{gen_tcp, tcp, tcp_closed, tcp_error, tcp_passive}` for TLS (for\nbackward compatibility a four tuple will be converted to a five tuple with the\nlast element \"second_element\"\\_passive) and\n`{gen_udp, udp, udp_closed, udp_error}` for DTLS (might also be changed to five\ntuple in the future). Can be used to customize the transport layer. The tag\nvalues should be the values used by the underlying transport in its active mode\nmessages. For TLS the callback module must implement a reliable transport\nprotocol, behave as `gen_tcp`, and have functions corresponding to\n`inet:setopts/2`, `inet:getopts/2`, `inet:peername/1`, `inet:sockname/1`, and\n`inet:port/1`. The callback `gen_tcp` is treated specially and calls `inet`\ndirectly. For DTLS this feature must be considered experimental.","ref":"ssl.html#t:transport_option/0"},{"type":"type","title":"ssl.use_srtp/0","doc":"Configures the `use_srtp` DTLS hello extension.\n\nIn order to negotiate the use of SRTP data protection, clients include an\nextension of type \"use_srtp\" in the DTLS extended client hello. This extension\nMUST only be used when the data being transported is RTP or RTCP.\n\nThe value is a map with a mandatory `protection_profiles` and an optional `mki`\nparameters.\n\n`protection_profiles` configures the list of the client's acceptable SRTP\nProtection Profiles. Each profile is a 2-byte binary. Example:\n`#{protection_profiles => [<<0,2>>, <<0,5>>]}`\n\n`mki` configures the SRTP Master Key Identifier chosen by the client.\n\nThe srtp_mki field contains the value of the SRTP MKI which is associated with\nthe SRTP master keys derived from this handshake. Each SRTP session MUST have\nexactly one master key that is used to protect packets at any given time. The\nclient MUST choose the MKI value so that it is distinct from the last MKI value\nthat was used, and it SHOULD make these values unique for the duration of the\nTLS session.\n\n> ##","ref":"ssl.html#t:use_srtp/0"},{"type":"type","title":"Note {: class=info } - ssl.use_srtp/0","doc":">\n> This extension MUST only be used with DTLS, and not with TLS.\n\n> ##","ref":"ssl.html#t:use_srtp/0-note-class-info"},{"type":"type","title":"Note {: class=info } - ssl.use_srtp/0","doc":">\n> OTP does not handle SRTP, so an external implementations of SRTP\n> encoder/decoder and a packet demultiplexer are needed to make use of the\n> `use_srtp` extension. See also [cb_info](`t:transport_option/0`) option.\n\nConfigures the `use_srtp` DTLS hello extension.\n\nServers that receive an extended hello containing a \"use_srtp\" extension can\nagree to use SRTP by including an extension of type \"use_srtp\", with the chosen\nprotection profile in the extended server hello. This extension MUST only be\nused when the data being transported is RTP or RTCP.\n\nThe value is a map with a mandatory `protection_profiles` and an optional `mki`\nparameters.\n\n- `protection_profiles` configures the list of the server's chosen SRTP\n  Protection Profile as a list of a single 2-byte binary. Example:\n  `#{protection_profiles => [<<0,5>>]}`\n- `mki` configures the server's SRTP Master Key Identifier.\n\n  Upon receipt of a \"use_srtp\" extension containing a \"srtp_mki\" field, the\n  server MUST either (assuming it accepts the extension at all):\n\n  - include a matching \"srtp_mki\" value in its \"use_srtp\" extension to indicate\n    that it will make use of the MKI, or\n  - return an empty \"srtp_mki\" value to indicate that it cannot make use of the\n    MKI (default).\n\n> ##","ref":"ssl.html#t:use_srtp/0-note-class-info"},{"type":"type","title":"Note {: class=info } - ssl.use_srtp/0","doc":">\n> This extension MUST only be used with DTLS, and not with TLS.\n\n> ##","ref":"ssl.html#t:use_srtp/0-note-class-info"},{"type":"type","title":"Note {: class=info } - ssl.use_srtp/0","doc":">\n> OTP does not handle SRTP, so an external implementations of SRTP\n> encoder/decoder and a packet demultiplexer are needed to make use of the\n> `use_srtp` extension. See also [cb_info](`t:transport_option/0`) option.","ref":"ssl.html#t:use_srtp/0-note-class-info"},{"type":"type","title":"ssl.use_ticket/0","doc":"Configures the session tickets to be used for session resumption. It is a\nmandatory option in `manual` mode (`session_tickets = manual`).\n\n> ##","ref":"ssl.html#t:use_ticket/0"},{"type":"type","title":"Note {: class=info } - ssl.use_ticket/0","doc":">\n> Session tickets are only sent to user if option _session_tickets_ is set to\n> `manual`\n>\n> This option is supported by TLS 1.3 and above. See also\n> [SSL's Users Guide, Session Tickets and Session Resumption in TLS 1.3](using_ssl.md#session-tickets-and-session-resumption-in-tls-1-3)","ref":"ssl.html#t:use_ticket/0-note-class-info"},{"type":"type","title":"ssl.verify_type/0","doc":"","ref":"ssl.html#t:verify_type/0"},{"type":"module","title":"ssl_crl_cache","doc":"CRL cache\n\nImplements an internal CRL (Certificate Revocation List) cache. In addition to\nimplementing the `m:ssl_crl_cache_api` behaviour the following functions are\navailable.","ref":"ssl_crl_cache.html"},{"type":"function","title":"ssl_crl_cache.delete/1","doc":"delete(Entries) -> ok | {error, Reason}\n\nDelete CRLs from the ssl applications local cache.","ref":"ssl_crl_cache.html#delete/1"},{"type":"function","title":"ssl_crl_cache.insert/1","doc":"","ref":"ssl_crl_cache.html#insert/1"},{"type":"function","title":"ssl_crl_cache.insert/2","doc":"insert(URI, CRLSrc) -> ok | {error, Reason}\n\nInsert CRLs, available to fetch on DER format from `URI`, into the ssl\napplications local cache.","ref":"ssl_crl_cache.html#insert/2"},{"type":"type","title":"ssl_crl_cache.cert_key/0","doc":"","ref":"ssl_crl_cache.html#t:cert_key/0"},{"type":"type","title":"ssl_crl_cache.certdb_ref/0","doc":"","ref":"ssl_crl_cache.html#t:certdb_ref/0"},{"type":"type","title":"ssl_crl_cache.crl_src/0","doc":"","ref":"ssl_crl_cache.html#t:crl_src/0"},{"type":"type","title":"ssl_crl_cache.db_handle/0","doc":"","ref":"ssl_crl_cache.html#t:db_handle/0"},{"type":"type","title":"ssl_crl_cache.der_cert/0","doc":"","ref":"ssl_crl_cache.html#t:der_cert/0"},{"type":"type","title":"ssl_crl_cache.from/0","doc":"","ref":"ssl_crl_cache.html#t:from/0"},{"type":"type","title":"ssl_crl_cache.gen_fsm_state_return/0","doc":"","ref":"ssl_crl_cache.html#t:gen_fsm_state_return/0"},{"type":"type","title":"ssl_crl_cache.issuer/0","doc":"","ref":"ssl_crl_cache.html#t:issuer/0"},{"type":"type","title":"ssl_crl_cache.msg/0","doc":"","ref":"ssl_crl_cache.html#t:msg/0"},{"type":"type","title":"ssl_crl_cache.reason/0","doc":"","ref":"ssl_crl_cache.html#t:reason/0"},{"type":"type","title":"ssl_crl_cache.reply/0","doc":"","ref":"ssl_crl_cache.html#t:reply/0"},{"type":"type","title":"ssl_crl_cache.secret_printout/0","doc":"","ref":"ssl_crl_cache.html#t:secret_printout/0"},{"type":"type","title":"ssl_crl_cache.serialnumber/0","doc":"","ref":"ssl_crl_cache.html#t:serialnumber/0"},{"type":"type","title":"ssl_crl_cache.ssl_options/0","doc":"","ref":"ssl_crl_cache.html#t:ssl_options/0"},{"type":"type","title":"ssl_crl_cache.state_name/0","doc":"","ref":"ssl_crl_cache.html#t:state_name/0"},{"type":"type","title":"ssl_crl_cache.uri/0","doc":"","ref":"ssl_crl_cache.html#t:uri/0"},{"type":"behaviour","title":"ssl_crl_cache_api","doc":"API for a TLS CRL (Certificate Revocation List) cache.\n\nWhen TLS performs certificate path validation according to\n[RFC 5280 ](http://www.ietf.org/rfc/rfc5280.txt)it should also perform CRL\nvalidation checks. To enable the CRL checks the application needs access to\nCRLs. A database of CRLs can be set up in many different ways. This module\nprovides the behavior of the API needed to integrate an arbitrary CRL cache with\nthe erlang ssl application. It is also used by the application itself to provide\na simple default implementation of a CRL cache.","ref":"ssl_crl_cache_api.html"},{"type":"callback","title":"ssl_crl_cache_api.fresh_crl/2","doc":"`fun fresh_crl/2 `will be used as input option `update_crl` to\n`public_key:pkix_crls_validate/3`\n\nIt is possible to return logger info that will be used by the TLS connection to\nproduce log events.","ref":"ssl_crl_cache_api.html#c:fresh_crl/2"},{"type":"callback","title":"ssl_crl_cache_api.lookup/2","doc":"","ref":"ssl_crl_cache_api.html#c:lookup/2"},{"type":"callback","title":"ssl_crl_cache_api.lookup/3","doc":"Lookup the CRLs belonging to the distribution point `Distributionpoint`. This\nfunction may choose to only look in the cache or to follow distribution point\nlinks depending on how the cache is administrated.\n\nThe `Issuer` argument contains the issuer name of the certificate to be checked.\nNormally the returned CRL should be issued by this issuer, except if the\n`cRLIssuer` field of `DistributionPoint` has a value, in which case that value\nshould be used instead.\n\nIn an earlier version of this API, the `lookup` function received two arguments,\nomitting `Issuer`. For compatibility, this is still supported: if there is no\n`c:lookup/3` function in the callback module, `c:lookup/2` is called instead.\n\nIt is possible to return logger info that will be used by the TLS connection to\nproduce log events.","ref":"ssl_crl_cache_api.html#c:lookup/3"},{"type":"callback","title":"ssl_crl_cache_api.select/2","doc":"Select the CRLs in the cache that are issued by `Issuer` unless the value is a\nlist of so called general names, see\n[X509 certificates records](`e:public_key:public_key_records.md`), originating\nform `#'DistributionPoint'.cRLissuer` and representing different mechanism to\nobtain the CRLs. The cache callback needs to use the appropriate entry to\nretrieve the CRLs or return an empty list if it does not exist.\n\nIt is possible to return logger info that will be used by the TLS connection to\nproduce log events.","ref":"ssl_crl_cache_api.html#c:select/2"},{"type":"type","title":"ssl_crl_cache_api.crl_cache_ref/0","doc":"Reference to the CRL cache.","ref":"ssl_crl_cache_api.html#t:crl_cache_ref/0"},{"type":"type","title":"ssl_crl_cache_api.dist_point/0","doc":"For description see\n[X509 certificates records](`e:public_key:public_key_records.md`)","ref":"ssl_crl_cache_api.html#t:dist_point/0"},{"type":"type","title":"ssl_crl_cache_api.issuer_name/0","doc":"","ref":"ssl_crl_cache_api.html#t:issuer_name/0"},{"type":"type","title":"ssl_crl_cache_api.logger_info/0","doc":"Information for ssl applications use of [Logger(3)](`m:logger`)","ref":"ssl_crl_cache_api.html#t:logger_info/0"},{"type":"behaviour","title":"ssl_session_cache_api","doc":"TLS session cache API\n\nDefines the API for the TLS session cache (pre TLS-1.3) so that the data storage\nscheme can be replaced by defining a new callback module implementing this API.","ref":"ssl_session_cache_api.html"},{"type":"callback","title":"ssl_session_cache_api.delete/2","doc":"Deletes a cache entry. Is only called from the cache handling process.","ref":"ssl_session_cache_api.html#c:delete/2"},{"type":"callback","title":"ssl_session_cache_api.foldl/3","doc":"Calls `Fun(Elem, AccIn)` on successive elements of the cache, starting with\n`AccIn == Acc0`. `Fun/2` must return a new accumulator, which is passed to the\nnext call. The function returns the final value of the accumulator. `Acc0` is\nreturned if the cache is empty.\n\n> ##","ref":"ssl_session_cache_api.html#c:foldl/3"},{"type":"callback","title":"Note {: class=info } - ssl_session_cache_api.foldl/3","doc":">\n> Since OTP-23.3 this functions is only used on the client side and does not\n> need to implemented for a server cache.","ref":"ssl_session_cache_api.html#c:foldl/3-note-class-info"},{"type":"callback","title":"ssl_session_cache_api.init/1","doc":"Includes property `{role, client | server}`. Currently this is the only\npredefined property, there can also be user-defined properties. See also\napplication environment variable [session_cb_init_args](ssl_app.md).\n\nPerforms possible initializations of the cache and returns a reference to it\nthat is used as parameter to the other API functions. Is called by the cache\nhandling processes `init` function, hence putting the same requirements on it as\na normal process `init` function. This function is called twice when starting\nthe SSL application, once with the role client and once with the role server, as\nthe SSL application must be prepared to take on both roles.","ref":"ssl_session_cache_api.html#c:init/1"},{"type":"callback","title":"ssl_session_cache_api.lookup/2","doc":"Looks up a cache entry. Is to be callable from any process.","ref":"ssl_session_cache_api.html#c:lookup/2"},{"type":"callback","title":"ssl_session_cache_api.select_session/2","doc":"Selects sessions that can be reused, that is sessions that include `PartialKey`\nin its key. Is to be callable from any process.\n\n> ##","ref":"ssl_session_cache_api.html#c:select_session/2"},{"type":"callback","title":"Note {: class=info } - ssl_session_cache_api.select_session/2","doc":">\n> Since OTP-23.3 This functions is only used on the client side and does not\n> need to implemented for a server cache.","ref":"ssl_session_cache_api.html#c:select_session/2-note-class-info"},{"type":"callback","title":"ssl_session_cache_api.size/1","doc":"Returns the number of sessions in the cache. If size exceeds the maximum number\nof sessions, the current cache entries will be invalidated regardless of their\nremaining lifetime. Is to be callable from any process.","ref":"ssl_session_cache_api.html#c:size/1"},{"type":"callback","title":"ssl_session_cache_api.terminate/1","doc":"Takes care of possible cleanup that is needed when the cache handling process\nterminates.","ref":"ssl_session_cache_api.html#c:terminate/1"},{"type":"callback","title":"ssl_session_cache_api.update/3","doc":"Caches a new session or updates an already cached one. Is only called from the\ncache handling process.","ref":"ssl_session_cache_api.html#c:update/3"},{"type":"type","title":"ssl_session_cache_api.cert_key/0","doc":"","ref":"ssl_session_cache_api.html#t:cert_key/0"},{"type":"type","title":"ssl_session_cache_api.certdb_ref/0","doc":"","ref":"ssl_session_cache_api.html#t:certdb_ref/0"},{"type":"type","title":"ssl_session_cache_api.db_handle/0","doc":"","ref":"ssl_session_cache_api.html#t:db_handle/0"},{"type":"type","title":"ssl_session_cache_api.der_cert/0","doc":"","ref":"ssl_session_cache_api.html#t:der_cert/0"},{"type":"type","title":"ssl_session_cache_api.from/0","doc":"","ref":"ssl_session_cache_api.html#t:from/0"},{"type":"type","title":"ssl_session_cache_api.gen_fsm_state_return/0","doc":"","ref":"ssl_session_cache_api.html#t:gen_fsm_state_return/0"},{"type":"type","title":"ssl_session_cache_api.issuer/0","doc":"","ref":"ssl_session_cache_api.html#t:issuer/0"},{"type":"type","title":"ssl_session_cache_api.msg/0","doc":"","ref":"ssl_session_cache_api.html#t:msg/0"},{"type":"opaque","title":"ssl_session_cache_api.partial_key/0","doc":"The opaque part of the key. Does not need to be handled by the callback.","ref":"ssl_session_cache_api.html#t:partial_key/0"},{"type":"type","title":"ssl_session_cache_api.reason/0","doc":"","ref":"ssl_session_cache_api.html#t:reason/0"},{"type":"type","title":"ssl_session_cache_api.reply/0","doc":"","ref":"ssl_session_cache_api.html#t:reply/0"},{"type":"type","title":"ssl_session_cache_api.secret_printout/0","doc":"","ref":"ssl_session_cache_api.html#t:secret_printout/0"},{"type":"type","title":"ssl_session_cache_api.serialnumber/0","doc":"","ref":"ssl_session_cache_api.html#t:serialnumber/0"},{"type":"opaque","title":"ssl_session_cache_api.session/0","doc":"The session data that is stored for each session.","ref":"ssl_session_cache_api.html#t:session/0"},{"type":"type","title":"ssl_session_cache_api.session_cache_key/0","doc":"A key to an entry in the session cache.","ref":"ssl_session_cache_api.html#t:session_cache_key/0"},{"type":"type","title":"ssl_session_cache_api.session_cache_ref/0","doc":"","ref":"ssl_session_cache_api.html#t:session_cache_ref/0"},{"type":"type","title":"ssl_session_cache_api.ssl_options/0","doc":"","ref":"ssl_session_cache_api.html#t:ssl_options/0"},{"type":"type","title":"ssl_session_cache_api.state_name/0","doc":"","ref":"ssl_session_cache_api.html#t:state_name/0"},{"type":"extras","title":"SSL Release Notes","doc":"# SSL Release Notes\n\nThis document describes the changes made to the SSL application.","ref":"notes.html"},{"type":"extras","title":"SSL 11.0.3 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-11-0-3"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Avoid function clause error in ssl:getopts/2 by handling that inet:getopts may\n  return an empty list during some circumstances, such as the socket being in a\n  closing state.\n\n  Own Id: OTP-18697 Aux Id: GH-7506\n\n- The API function \\`ssl:recv/3\\` has been tightened to disallow negative\n  length, which has never been documented to work, but was passed through and\n  caused strange errors.\n\n  Own Id: OTP-18700 Aux Id: GH-7507\n\n- When a client initiated renegotiation was rejected and the client socket was\n  in active mode the expected error message to the controlling process was not\n  sent.\n\n  Own Id: OTP-18712 Aux Id: GH-7431\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Add some guidance for signature algorithms configuration in ssl applications\n  users guide.\n\n  Own Id: OTP-18631","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 11.0.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-11-0-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Added keylog information to all protocol versions in\n  `ssl:connection_information/2`.\n\n  Own Id: OTP-18643 Aux Id: ERIERL-932\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Add RFC-6083 considerations for DTLS to enable gen_sctp based callback for the\n  transport.\n\n  Own Id: OTP-18618 Aux Id: ERIERL-932","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 11.0.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-11-0-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Make sure that selection of client certificates handle both TLS-1.3 and\n  TLS-1.2 names correctly. Could cause valid client certificate to not be\n  selected, and an empty client certificate message to be sent to server.\n\n  Own Id: OTP-18588 Aux Id: GH-7264, PR-7277\n\n- Improved `ssl:format_error/1` to handle more error tuples.\n\n  Own Id: OTP-18596 Aux Id: GH-7247\n\n- Fixed hanging `ssl:connect` when ssl application is not started.\n\n  Own Id: OTP-18603 Aux Id: GH-7297\n\n- Correct handling of retransmission timers, current behavior could cause\n  unwanted delays.\n\n  Own Id: OTP-18632 Aux Id: PR-7300, GH-7301","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 11.0 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-11-0"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Remove less that 256 bit ECC from default supported ECC pre TLS-1.3\n\n  \\*** POTENTIAL INCOMPATIBILITY \\***\n\n  Own Id: OTP-14771\n\n- Improved error checking and handling of ssl options.\n\n  Own Id: OTP-15903\n\n- With this change, stateless tickets generated by server with anti_replay\n  option enabled can be used for creating ClientHello throughout ticket\n  lifetime. Without this change, usability was limited to WindowSize number of\n  seconds configured for anti_replay option.\n\n  \\*** POTENTIAL INCOMPATIBILITY \\***\n\n  Own Id: OTP-18168 Aux Id: PR-6019, GH-6014\n\n- Support for Kernel TLS (kTLS), has been added to the SSL application, for TLS\n  distribution (`-proto_dist inet_tls`), the SSL option `{ktls, true}`. Using\n  this for general SSL sockets is uncomfortable, undocumented and not\n  recommended since it requires very platform dependent raw options.\n\n  This, for now, only works for some not too old Linux distributions. Roughly, a\n  kernel 5.2.0 or later with support for UserLand Protocols and the kernel\n  module `tls` is required.\n\n  Own Id: OTP-18235 Aux Id: PR-6104, PR-5840\n\n- With this change, TLS 1.3 server can be configured to include client\n  certificate in session ticket.\n\n  Own Id: OTP-18253\n\n- With this change, it is possible to configure encryption seed to be used with\n  TLS1.3 stateless tickets. This enables using tickets on different server\n  instances.\n\n  Own Id: OTP-18254 Aux Id: PR-5982\n\n- Debugging enhancements.\n\n  Own Id: OTP-18312\n\n- With this change, maybe keyword atom is not used as function name in ssl code.\n\n  Own Id: OTP-18335\n\n- Replace size/1 with either tuple_size/1 or byte_size/1\n\n  The `size/1` BIF is not optimized by the JIT, and its use can result in worse\n  types for Dialyzer.\n\n  When one knows that the value being tested must be a tuple, `tuple_size/1`\n  should always be preferred.\n\n  When one knows that the value being tested must be a binary, `byte_size/1`\n  should be preferred. However, `byte_size/1` also accepts a bitstring (rounding\n  up size to a whole number of bytes), so one must make sure that the call to\n  `byte_size/` is preceded by a call to `is_binary/1` to ensure that bitstrings\n  are rejected. Note that the compiler removes redundant calls to `is_binary/1`,\n  so if one is not sure whether previous code had made sure that the argument is\n  a binary, it does not harm to add an `is_binary/1` test immediately before the\n  call to `byte_size/1`.\n\n  Own Id: OTP-18405 Aux Id:\n  GH-6672,PR-6702,PR-6768,PR-6700,PR-6769,PR-6812,PR-6814\n\n- For security reasons remove support for SHA1 and DSA algorithms from default\n  values.\n\n  \\*** POTENTIAL INCOMPATIBILITY \\***\n\n  Own Id: OTP-18438 Aux Id: GH-6679\n\n- Mitigate memory usage from large certificate chains by lowering the maximum\n  handshake size. This should not effect the common cases, if needed it can be\n  configured to a higher value.\n\n  Own Id: OTP-18453\n\n- Change the client default verify option to verify_peer. Note that this makes\n  it mandatory to also supply trusted CA certificates or explicitly set verify\n  to verify_none. This also applies when using the so called anonymous test\n  cipher suites defined in TLS versions pre TLS-1.3.\n\n  \\*** POTENTIAL INCOMPATIBILITY \\***\n\n  Own Id: OTP-18455 Aux Id: GH-5899\n\n- Erlang distribution code in Kernel and SSL has been refactored a bit to\n  facilitate debugging and re-usability, which shouldn't have any noticeable\n  effects on behaviour or performance.\n\n  Own Id: OTP-18456\n\n- Add encoding and decoding of use_srtp hello extension to facilitate for DTLS\n  users to implement SRTP functionality.\n\n  Own Id: OTP-18459\n\n- Refactors the (`ssl` application to use macros for TLS and DTLS versions\n  instead of hard-coded tuple numbers. This change improves the maintainability\n  of `ssl`\n\n  Own Id: OTP-18465 Aux Id: GH-7065\n\n- If the function ssl:renegotiate/1 is called on connection that is running\n  TLS-1.3 return an error instead of hanging or timing out.\n\n  Own Id: OTP-18507\n\n- If a user cancel alert with level warning is received during handshake make it\n  be handled the same regardless of TLS version. If it is received in connection\n  in TLS-1.3 regard it as an error as it is inappropriate.\n\n  In TLS-1.3 all error alerts are considered FATAL regardless of legacy alert\n  type. But make sure legacy type is printed in logs to not confuse users that\n  are expecting the same legacy type as sent by peer.\n\n  \\*** POTENTIAL INCOMPATIBILITY \\***\n\n  Own Id: OTP-18531\n\n- Make `fail_if_no_peer_cert` default true if verify_peer is set on the server,\n  otherwise the server will accept the connection if verify_peer is set and the\n  user have forgot to set the fail_if_no_peer_cert and the client did not send a\n  certificate.\n\n  Own Id: OTP-18567\n\n- To make it easier to configure signature algorithms with algorithms that are\n  moved from the default add the API function signature_algs/2 that lists\n  possible values. Also make sha224 a non default value.\n\n  Own Id: OTP-18572","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 10.9.1.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-9-1-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- The API function \\`ssl:recv/3\\` has been tightened to disallow negative\n  length, which has never been documented to work, but was passed through and\n  caused strange errors.\n\n  Own Id: OTP-18700 Aux Id: GH-7507\n\n- When a client initiated renegotiation was rejected and the client socket was\n  in active mode the expected error message to the controlling process was not\n  sent.\n\n  Own Id: OTP-18712 Aux Id: GH-7431","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 10.9.1.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-9-1-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Added keylog information to all protocol versions in\n  `ssl:connection_information/2`.\n\n  Own Id: OTP-18643 Aux Id: ERIERL-932\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Add RFC-6083 considerations for DTLS to enable gen_sctp based callback for the\n  transport.\n\n  Own Id: OTP-18618 Aux Id: ERIERL-932","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 10.9.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-9-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- With this change, ssl:connection_information/2 returns correct keylog data\n  after TLS1.3 key update.\n\n  Own Id: OTP-18489\n\n- Client signature algorithm list input order is now honored again , it was\n  accidently reversed by a previous fix.\n\n  Own Id: OTP-18550","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 10.9 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-9"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Fixed that new `dtls` connections from the same client ip port combination\n  works. If there is a process waiting for accept the new connection will\n  connect to that, otherwise it will try to re-connect to the old server\n  connection.\n\n  Own Id: OTP-18371 Aux Id: GH-6160\n\n- When shutting down a node that uses SSL distribution (`-proto_dist inet_tls`),\n  a confusing error message about an unexpected process exit was printed. This\n  particular message is no longer generated.\n\n  Own Id: OTP-18443 Aux Id: PR-6810\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- fixes the type spec for ssl:format_error/1\n\n  Own Id: OTP-18366 Aux Id: PR-6565, GH-6506\n\n- Replace size/1 with either tuple_size/1 or byte_size/1\n\n  The `size/1` BIF is not optimized by the JIT, and its use can result in worse\n  types for Dialyzer.\n\n  When one knows that the value being tested must be a tuple, `tuple_size/1`\n  should always be preferred.\n\n  When one knows that the value being tested must be a binary, `byte_size/1`\n  should be preferred. However, `byte_size/1` also accepts a bitstring (rounding\n  up size to a whole number of bytes), so one must make sure that the call to\n  `byte_size/` is preceded by a call to `is_binary/1` to ensure that bitstrings\n  are rejected. Note that the compiler removes redundant calls to `is_binary/1`,\n  so if one is not sure whether previous code had made sure that the argument is\n  a binary, it does not harm to add an `is_binary/1` test immediately before the\n  call to `byte_size/1`.\n\n  Own Id: OTP-18432 Aux Id:\n  GH-6672,PR-6793,PR-6784,PR-6787,PR-6785,PR-6682,PR-6800,PR-6797,PR-6798,PR-6799,PR-6796,PR-6813,PR-6671,PR-6673,PR-6684,PR-6694,GH-6677,PR-6696,PR-6670,PR-6674","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 10.8.7 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-8-7"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Maximize compatibility by ignoring change_cipher_spec during handshake even if\n  middle_box_mode is not negotiated (mandated by client)\n\n  Own Id: OTP-18433 Aux Id: GH-6772\n\n- Move assert of middlebox message after an hello_retry_request to maximize\n  interoperability. Does not changes semantics of the protocol only allows\n  unexpected message delay from server.\n\n  Own Id: OTP-18467 Aux Id: GH-6807","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 10.8.6 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-8-6"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- With this change, tls_sender process is hibernated after sufficient\n  inactivity.\n\n  Own Id: OTP-18314 Aux Id: GH-6373\n\n- Correct handling of legacy schemes so that ECDSA certs using sha1 may be used\n  for some TLS-1.3 configurations.\n\n  Own Id: OTP-18332 Aux Id: GH-6435, PR-6435, ERL-6435\n\n- With this change, tls_sender does not cause logger crash upon key update.\n\n  Own Id: OTP-18349\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Enhance warning message\n\n  Own Id: OTP-18257 Aux Id: GH-6307\n\n- Provide server option to make certificate_authorities extension in the TLS-1.3\n  servers certificate request optional. This will allow clients to send\n  incomplete chains that may be reconstructable and thereby verifiable by the\n  server, but that would not adhere to the certificate_authorities extension.\n\n  Own Id: OTP-18267 Aux Id: PR-6228, GH-6106\n\n- If the `verify_fun` handles four arguments the DER cert will be supplied as\n  one of the arguments.\n\n  Own Id: OTP-18302 Aux Id: ERIERL-867","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 10.8.5 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-8-5"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Fixes handling of symlinks in cacertfile option.\n\n  Own Id: OTP-18266 Aux Id: GH-6328","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 10.8.4 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-8-4"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Reject unexpected application data in all relevant places for all TLS\n  versions. Also, handle TLS-1.3 middlebox compatibility with more care. This\n  will make malicious connections fail early and further, mitigate possible DoS\n  attacks, that would be caught by the handshake timeout.\n\n  Thanks to Aina Toky Rasoamanana and Olivier Levillain from Télécom SudParis\n  for alerting us of the issues in our implementation.\n\n  Own Id: OTP-18044\n\n- With this change, value of cacertfile option will be adjusted before loading\n  certs from the file. Adjustments include converting relative paths to absolute\n  and converting symlinks to actual file path.\n\n  Thanks to Marcus Johansson\n\n  Own Id: OTP-18099 Aux Id: PR-6287\n\n- In TLS-1.3, if chain certs are missing (so server auth domain adherence can\n  not be determined) send peer cert and hope the server is able to recreate a\n  chain in its auth domain.\n\n  Own Id: OTP-18191 Aux Id: GH-6105\n\n- Make sure periodical refresh of CA certificate files repopulates cache\n  properly.\n\n  Own Id: OTP-18195\n\n- Correct internal CRL cache functions to use internal format consistently.\n\n  Own Id: OTP-18203 Aux Id: PR-5996\n\n- Incorrect handling of client middlebox negotiation for TLS-1.3 could result in\n  that a TLS-1.3 server would not use middlebox mode although the client was\n  expecting it too and failing the negotiation with unexpected message.\n\n  Own Id: OTP-18219 Aux Id: GH-6241, PR-6249\n\n- If the \"User\" process, the process starting the TLS connection, gets killed in\n  the middle of spawning the dynamic connection tree make sure we do not leave\n  any processes behind.\n\n  Own Id: OTP-18233 Aux Id: GH-6244, PR-6270\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- A vulnerability has been discovered and corrected. It is registered as\n  CVE-2022-37026 \"Client Authentication Bypass\". Corrections have been released\n  on the supported tracks with patches 23.3.4.15, 24.3.4.2, and 25.0.2. The\n  vulnerability might also exist in older OTP versions. We recommend that\n  impacted users upgrade to one of these versions or later on the respective\n  tracks. OTP 25.1 would be an even better choice. Impacted are those who are\n  running an ssl/tls/dtls server using the ssl application either directly or\n  indirectly via other applications. For example via inets (httpd), cowboy, etc.\n  Note that the vulnerability only affects servers that request client\n  certification, that is sets the option \\{verify, verify_peer\\}.\n\n  Own Id: OTP-18241","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 10.8.3 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-8-3"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- The link to crypto:engine_load refered the function with wrong arity.\n\n  Own Id: OTP-18173","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 10.8.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-8-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Improved handling of unexpected messages during the handshake, taking the\n  right action for unexpected messages.\n\n  Own Id: OTP-18145","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 10.8.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-8-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- When a TLS-1.3 enabled client tried to talk to a TLS-1.2 server that coalesces\n  TLS-1.2 handshake message over one TLS record, the connection could fail due\n  to some message being handled in the wrong state, this has been fixed.\n\n  Own Id: OTP-18087 Aux Id: GH-5961\n\n- Correctly handles supported protocol version change from default to something\n  else by sni_fun supplied to ssl:handshake/\\[2,3] together with a TCP-socket\n  (so called upgrade).\n\n  Own Id: OTP-18100 Aux Id: GH-5985\n\n- Also, TLS-1.3 should respond with a protocol version alert if previous\n  versions, that are supported but not configured, are attempted.\n\n  Own Id: OTP-18129 Aux Id: GH-5950","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 10.8 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-8"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- When a TLS-1.3 enabled client tried to talk to a TLS-1.2 server that coalesces\n  TLS-1.2 handshake message over one TLS record, the connection could fail due\n  to some message being handled in the wrong state, this has been fixed.\n\n  Own Id: OTP-18087 Aux Id: GH-5961\n\n- Fixed tls-1.3 session ticket lifetime which was discarded to quickly before.\n\n  Own Id: OTP-18092 Aux Id: PR-5959\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- With this change, it is possible to provide several certificates. Most\n  appropriate will be selected based on negotiated properties.\n\n  Own Id: OTP-15993 Aux Id: GH-4143\n\n- Add options for users to be able to set spawn_opts for TLS processes (sender\n  and receiver) this may be useful for tuning trade-offs between CPU and Memory\n  usage.\n\n  Own Id: OTP-17855 Aux Id: PR-5328\n\n- Allow key file passwords to be input as a single binary, that is we change the\n  data type to be the more for the purpose logical data type iodata() instead of\n  string().\n\n  Own Id: OTP-17890\n\n- Logging enhancement, add location information to the warning log message.\n\n  Own Id: OTP-18000 Aux Id: PR-5790\n\n- Now also accepts the signature_algs_cert option in TLS-1.2 configuration.\n\n  Own Id: OTP-18014\n\n- Handle certificate selection correctly for server fallback and certificate\n  authorities considerations.\n\n  Own Id: OTP-18045 Aux Id: ERIERL-792, OTP-15993\n\n- Enhance handling of handshake decoding errors, especially for certificate\n  authorities extension to ensure graceful termination.\n\n  Own Id: OTP-18085","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 10.7.3.9 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-7-3-9"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- When a client initiated renegotiation was rejected and the client socket was\n  in active mode the expected error message to the controlling process was not\n  sent.\n\n  Own Id: OTP-18712 Aux Id: GH-7431","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 10.7.3.8 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-7-3-8"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Added keylog information to all protocol versions in\n  `ssl:connection_information/2`.\n\n  Own Id: OTP-18643 Aux Id: ERIERL-932\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Add RFC-6083 considerations for DTLS to enable gen_sctp based callback for the\n  transport.\n\n  Own Id: OTP-18618 Aux Id: ERIERL-932","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 10.7.3.7 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-7-3-7"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Client signature algorithm list input order is now honored again , it was\n  accidently reversed by a previous fix.\n\n  Own Id: OTP-18550","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 10.7.3.6 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-7-3-6"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Maximize compatibility by ignoring change_cipher_spec during handshake even if\n  middle_box_mode is not negotiated (mandated by client)\n\n  Own Id: OTP-18433 Aux Id: GH-6772\n\n- Move assert of middlebox message after an hello_retry_request to maximize\n  interoperability. Does not changes semantics of the protocol only allows\n  unexpected message delay from server.\n\n  Own Id: OTP-18467 Aux Id: GH-6807","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 10.7.3.5 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-7-3-5"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Fixes handling of symlinks in cacertfile option.\n\n  Own Id: OTP-18266 Aux Id: GH-6328","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 10.7.3.4 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-7-3-4"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- With this change, value of cacertfile option will be adjusted before loading\n  certs from the file. Adjustments include converting relative paths to absolute\n  and converting symlinks to actual file path.\n\n  Thanks to Marcus Johansson\n\n  Own Id: OTP-18099 Aux Id: PR-6287\n\n- Incorrect handling of client middlebox negotiation for TLS-1.3 could result in\n  that a TLS-1.3 server would not use middlebox mode although the client was\n  expecting it too and failing the negotiation with unexpected message.\n\n  Own Id: OTP-18219 Aux Id: GH-6241, PR-6249\n\n- If the \"User\" process, the process starting the TLS connection, gets killed in\n  the middle of spawning the dynamic connection tree make sure we do not leave\n  any processes behind.\n\n  Own Id: OTP-18233 Aux Id: GH-6244, PR-6270","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 10.7.3.3 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-7-3-3"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Reject unexpected application data in all relevant places for all TLS\n  versions. Also, handle TLS-1.3 middlebox compatibility with more care. This\n  will make malicious connections fail early and further, mitigate possible DoS\n  attacks, that would be caught by the handshake timeout.\n\n  Thanks to Aina Toky Rasoamanana and Olivier Levillain from Télécom SudParis\n  for alerting us of the issues in our implementation.\n\n  Own Id: OTP-18044\n\n- The link to crypto:engine_load refered the function with wrong arity.\n\n  Own Id: OTP-18173\n\n- Make sure periodical refresh of CA certificate files repopulates cache\n  properly.\n\n  Own Id: OTP-18195","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 10.7.3.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-7-3-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Improved handling of unexpected messages during the handshake, taking the\n  right action for unexpected messages.\n\n  Own Id: OTP-18145","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 10.7.3.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-7-3-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- When a TLS-1.3 enabled client tried to talk to a TLS-1.2 server that coalesces\n  TLS-1.2 handshake message over one TLS record, the connection could fail due\n  to some message being handled in the wrong state, this has been fixed.\n\n  Own Id: OTP-18087 Aux Id: GH-5961\n\n- Fixed tls-1.3 session ticket lifetime which was discarded to quickly before.\n\n  Own Id: OTP-18092 Aux Id: PR-5959\n\n- Correctly handles supported protocol version change from default to something\n  else by sni_fun supplied to ssl:handshake/\\[2,3] together with a TCP-socket\n  (so called upgrade).\n\n  Own Id: OTP-18100 Aux Id: GH-5985\n\n- Also, TLS-1.3 should respond with a protocol version alert if previous\n  versions, that are supported but not configured, are attempted.\n\n  Own Id: OTP-18129 Aux Id: GH-5950\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Enhance handling of handshake decoding errors, especially for certificate\n  authorities extension to ensure graceful termination.\n\n  Own Id: OTP-18085","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 10.7.3 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-7-3"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Client certification could fail if TLS-1.3 enabled client negotiated TLS-1.2\n  connection with the server, this is due to the wrong version being used when\n  decoding the certificate request message from the server.\n\n  Own Id: OTP-18028 Aux Id: GH-5835\n\n- socket option packet_size was not handled in ssl:setops/2 and ssl:getotps/2\n\n  Own Id: OTP-18062 Aux Id: GH-5898\n\n- Remove legacy code to fix interoperability with new socket inet_backend.\n\n  Own Id: OTP-18071 Aux Id: GH-5930","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 10.7.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-7-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- With this change, potential hanging of pre TLS1.3 client receiving OSCP staple\n  message is avoided.\n\n  Own Id: OTP-17994","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 10.7.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-7-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Client certification could fail for TLS-1.3 servers that did not include the\n  certificate_authorities extension in its certificate request message.\n\n  Own Id: OTP-17971 Aux Id: GH-5783","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 10.7 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-7"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Improved error handling.\n\n  Own Id: OTP-17759 Aux Id: GH-5367\n\n- Before this change, net_kernel used with TLS distribution might be leaking\n  processes in case of connectivity issues.\n\n  Own Id: OTP-17815 Aux Id: GH-5332\n\n- Fix makefile dependency bugs.\n\n  Own Id: OTP-17847 Aux Id: PR-5574 GH-5548\n\n- Make sure the TLS sender process handles explicit calls to\n  erlang:disconnect_node properly, avoiding potential hanging problems in\n  net_kernel.\n\n  Own Id: OTP-17929 Aux Id: GH-5708\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Add support for TLS-1.3 certificate_authorities extension. And process\n  certificate_authorities field in pre-TLS-1.3 certificate requests.\n\n  Own Id: OTP-15719\n\n- Support password fun for protected keyfiles in ssl:connect function.\n\n  Own Id: OTP-17816 Aux Id: PR-5607\n\n- Add in some cases earlier detection of possible DoS attacks by malicious\n  clients sending unexpected TLS messages instead of the client hello. Note that\n  such attacks are already mitigated by providing a timeout for the TLS\n  handshake.\n\n  Own Id: OTP-17903","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 10.6.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-6-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Improve SNI (server name indication) handling so that protocol version can be\n  selected with regards to SNI. Also, make sure that\n  ssl:connection_information/1 returns the correct SNI value.\n\n  Own Id: OTP-17794 Aux Id: GH-5341, GH-4450\n\n- Fixed cipher suite listing functions so that the listing of all cipher suites\n  will be complete. Another fix for cipher suite handling in OTP-24.1\n  accidentally excludes a few cipher suites from the listing of all cipher\n  suites.\n\n  Own Id: OTP-17829 Aux Id: ERIERL-708\n\n- Reenable legacy cipher suite TLS_RSA_WITH_3DES_EDE_CBC_SHA for explicit\n  configuration in TLS-1.2, not supported by default.\n\n  Own Id: OTP-17879 Aux Id: GH-5624\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Avoid unnecessary logs by better adjusting the tls_sender process to the new\n  supervisor structure in OTP-24.2\n\n  Own Id: OTP-17831","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 10.6 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-6"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Allow re-connect on DTLS sockets\n\n  Can happen when a computer reboots and connects from the same client port\n  without the server noticing should be allowed according to RFC.\n\n  Own Id: OTP-17411 Aux Id: ERL-1203, GH-4393\n\n- Fix tls and non-tls distribution to use erl_epmd:address_please to figure out\n  if IPv4 or IPv6 addresses should be used when connecting to the remote node.\n\n  Before this fix, a dns lookup of the remote node hostname determined which IP\n  version was to be used which meant that the hostname had to resolve to a valid\n  ip address.\n\n  Own Id: OTP-17809 Aux Id: PR-5337 GH-5334\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Use supervisor significant child to manage tls connection process and tls\n  sender process dependency.\n\n  Own Id: OTP-17417\n\n- Random generation adjustment for TLS1.3\n\n  Own Id: OTP-17699\n\n- Allow any \\{03,XX\\} TLS record version in the client hello for maximum\n  interoperability\n\n  Own Id: OTP-17761 Aux Id: GH-5380","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 10.5.3 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-5-3"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Correct typo of ECC curve name in signature algorithm handling. Will make the\n  signature algorithm ecdsa_secp521r1_sha512 succeed.\n\n  Own Id: OTP-17756 Aux Id: GH-5383, PR-5397\n\n- Suppress authenticity warning when option verify_none is explicitly supplied.\n\n  Own Id: OTP-17757 Aux Id: GH-5352, PR-5395","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 10.5.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-5-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Fix TLS-1.2 RSA-PSS negotiation and also fix broken certificate request\n  message for pre-TLS-1.3 servers.\n\n  Own Id: OTP-17688 Aux Id: GH-5255\n\n- Fix CRL issuer verification that under some circumstances could fail with a\n  function_clause error.\n\n  Own Id: OTP-17723 Aux Id: GH-5300","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 10.5.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-5-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Before that change, TLS downgrade could occasionally fail when data intended\n  for downgraded socket were delivered together with CLOSE_NOTIFY alert to ssl\n  app.\n\n  Own Id: OTP-17393\n\n- Avoid re-encoding of decoded certificates. This could cause unexpected\n  failures as some subtle encoding errors can be tolerated when decoding but\n  hence creating another sequence of bytes if the decoded value is re-encoded.\n\n  Own Id: OTP-17657\n\n- Fix possible process leak when the process doing ssl:transport_accept dies\n  before initiating the TLS handshake.\n\n  Own Id: OTP-17666 Aux Id: GH-5239\n\n- Fix dtls memory leak, the replay window code was broken.\n\n  Own Id: OTP-17670 Aux Id: GH-5224","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 10.5 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-5"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Fix Makefile dependency generation to work no matter what the `ERL_TOP` folder\n  is called.\n\n  Own Id: OTP-17423 Aux Id: GH-4823 PR-4829\n\n- If trying to downgrade a TLS-1.3 connection to a plain TCP connection,\n  possible TLS-1.3 session ticket messages will be ignored in the \"downgrade\"\n  state while waiting for the close notify alert.\n\n  Own Id: OTP-17517 Aux Id: GH-5009\n\n- Corrected error handling to correctly generate an insufficient security alert\n  when there are no suitable groups that can be negotiated in TLS-1.3 instead of\n  crashing resulting in an internal error alert.\n\n  Own Id: OTP-17521\n\n- Properly handle default session data storage.\n\n  When a client tries to reuse an expired session the default server storage\n  handling would crash losing other session data. This would cause a error\n  report and possible loss of abbreviated handshakes.\n\n  Own Id: OTP-17635 Aux Id: GH-5192\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Add support for RSA-PSS-PSS signatures and signature_algorithms_cert in\n  TLS-1.2. This is a TLS-1.3 RFC requirement to backport this functionality.\n\n  Own Id: OTP-16590 Aux Id: ERL-625, GH-5029\n\n- Use inet:monitor/1 to monitor listen-sockets so that we are compatible with\n  the new socket backend for gen_tcp.\n\n  Own Id: OTP-17392 Aux Id: PR-5050\n\n- Enhance ssl:prf/4 handling and testing\n\n  Own Id: OTP-17464\n\n- Enhanced cipher suite filtering functionality, making sure TLS-1.3 and TLS-1.2\n  cipher suites can be supported correctly together even when TLS-1.2 anonymous\n  ciphers are included.\n\n  Own Id: OTP-17501 Aux Id: GH-4978\n\n- Enhance gracefulness especially in TLS-1.3\n\n  Own Id: OTP-17530","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 10.4.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-4-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Handle cross-signed root certificates when old root expired as reported in\n  GH-4877.\n\n  Own Id: OTP-17475 Aux Id: GH-4877\n\n- The signature selection algorithm has been changed to also verify if the\n  client supports signatures using the elliptic curve of the server's\n  public/private key pair. This change fixes #4958.\n\n  Own Id: OTP-17529 Aux Id: PR-4979, GH-4958\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Slight optimization of certificate decoding.\n\n  Own Id: OTP-17150 Aux Id: GH-4877","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 10.4.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-4-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Fix cache invalidation problem for CA certs provided by the cacertfile option.\n\n  Own Id: OTP-17435 Aux Id: ERIERL-653","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 10.4 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-4"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Missing runtime dependencies has been added to this application.\n\n  Own Id: OTP-17243 Aux Id: PR-4557\n\n- TLS handshake should fail if OCSP staple is requested but missing. Note that\n  OCSP support is still considered experimental and only partially implemented.\n\n  Own Id: OTP-17343\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Removed ssl:ssl_accept/1,2,3 and ssl:cipher:suites/0,1 use ssl:handshake/1,2,3\n  and ssl:cipher_suites/2,3 instead.\n\n  \\*** POTENTIAL INCOMPATIBILITY \\***\n\n  Own Id: OTP-16974\n\n- Make TLS handshakes in Erlang distribution concurrent.\n\n  Own Id: OTP-17044 Aux Id: PR-2654\n\n- Randomize internal `{active,n}` optimization when running Erlang distribution\n  over TLS to spread RAM/CPU spike that may occur when starting up a big\n  cluster.\n\n  Own Id: OTP-17117 Aux Id: PR-2933\n\n- TLS connections now support EdDSA certificates.\n\n  Own Id: OTP-17142 Aux Id: PR-4756, GH-4637, GH-4650\n\n- Enhance documentation and logging of certificate handling.\n\n  Own Id: OTP-17384 Aux Id: GH-4800","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 10.3.1.5 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-3-1-5"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Correct corner case of unexpected message handling for pre TLS-1.3 versions,\n  could cause \"late failure\" and make the server dependent on its handshake\n  timeout to prevent possible DoS attacks.\n\n  Own Id: OTP-18224","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 10.3.1.4 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-3-1-4"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- The link to crypto:engine_load refered the function with wrong arity.\n\n  Own Id: OTP-18173","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 10.3.1.3 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-3-1-3"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Improved handling of unexpected messages during the handshake, taking the\n  right action for unexpected messages.\n\n  Own Id: OTP-18145","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 10.3.1.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-3-1-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Handle cross-signed root certificates when old root expired as reported in\n  GH-4877.\n\n  Own Id: OTP-17475 Aux Id: GH-4877\n\n- The signature selection algorithm has been changed to also verify if the\n  client supports signatures using the elliptic curve of the server's\n  public/private key pair. This change fixes #4958.\n\n  Own Id: OTP-17529 Aux Id: PR-4979, GH-4958\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Slight optimization of certificate decoding.\n\n  Own Id: OTP-17150 Aux Id: GH-4877","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 10.3.1.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-3-1-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Fix cache invalidation problem for CA certs provided by the cacertfile option.\n\n  Own Id: OTP-17435 Aux Id: ERIERL-653","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 10.3.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-3-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Retain backwards compatible behavior of verify_fun when handling incomplete\n  chains that are not verifiable.\n\n  Own Id: OTP-17296 Aux Id: GH-4682\n\n- Avoid server session handler crash, this will increase session ruse\n  opportunities.\n\n  Own Id: OTP-17348 Aux Id: ERIERL-641","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 10.3 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-3"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Fix CRL handling that previously could fail to find the issuer cert under some\n  circumstances.\n\n  Own Id: OTP-17261 Aux Id: GH-4589\n\n- TLS-1.3 client could, under some circumstances, select an incorrect algorithm\n  to sign the certificate verification message causing a TLS Decrypt Alert being\n  issued by the server.\n\n  Own Id: OTP-17281 Aux Id: GH-4620\n\n- Correct handling of default values for emulated socket options and retain the\n  order of the ssl options list to ensure backwards compatible behavior if\n  options should be set more than once.\n\n  Own Id: OTP-17282\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Enhance pre TLS-1.3 session handling so the client and server side handling is\n  completely separated and client disregards oldest session when reaching max\n  limit of the session table.\n\n  Own Id: OTP-16876\n\n- This change implements the early data feature for TLS 1.3 clients.\n\n  TLS 1.3 allows clients to send data in the first flight using a Pre-Shared Key\n  to authenticate the server and to encrypt the early data.\n\n  Own Id: OTP-16985\n\n- This change implements the early data feature for TLS 1.3 servers.\n\n  Own Id: OTP-17042","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 10.2.4.4 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-2-4-4"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Improved handling of unexpected messages during the handshake, taking the\n  right action for unexpected messages.\n\n  Own Id: OTP-18145","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 10.2.4.3 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-2-4-3"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Fix cache invalidation problem for CA certs provided by the cacertfile option.\n\n  Own Id: OTP-17435 Aux Id: ERIERL-653","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 10.2.4.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-2-4-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Fix handling of emulated socket options, the previous patch was incomplete,\n\n  Own Id: OTP-17305","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 10.2.4.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-2-4-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Backport of OTP-17282\n\n  Correct handling of default values for emulated socket options and retain the\n  order of the ssl options list to ensure backwards compatible behavior if\n  options should be set more than once.\n\n  Own Id: OTP-17289 Aux Id: GH-4585","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 10.2.4 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-2-4"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Enhance logging option log_level to support none and all, also restore\n  backwards compatibility for log_alert option.\n\n  Own Id: OTP-17228 Aux Id: ERIERL-614","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 10.2.3 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-2-3"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Avoid race when the first two upgrade server handshakes (that is servers that\n  use a gen_tcp socket as input to ssl:handshake/2,3) start close to each other.\n  Could lead to that one of the handshakes would fail.\n\n  Own Id: OTP-17190 Aux Id: ERIERL-606","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 10.2.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-2-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Avoid that upgrade (from TCP to TLS) servers starts multiple session cache\n  handlers for the same server. This applies to Erlang distribution over TLS\n  servers.\n\n  Own Id: OTP-17139 Aux Id: ERL-1458, OTP-16239\n\n- Legacy cipher suites defined before TLS-1.2 (but still supported) should be\n  possible to use in TLS-1.2. They where accidentally excluded for available\n  cipher suites for TLS-1.2 in OTP-23.2.2.\n\n  Own Id: OTP-17174 Aux Id: ERIERL-597\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Enable Erlang distribution over TLS to run TLS-1.3, although TLS-1.2 will\n  still be default.\n\n  Own Id: OTP-16239 Aux Id: ERL-1458, OTP-17139","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 10.2.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-2-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Fix CVE-2020-35733 this only affects ssl-10.2 (OTP-23.2). This vulnerability\n  could enable a man in the middle attack using a fake chain to a known trusted\n  ROOT. Also limits alternative chain handling, for handling of possibly\n  extraneous certs, to improve memory management.\n\n  Own Id: OTP-17098\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Add support for AES CCM based cipher suites defined in RFC 7251\n\n  Also Correct cipher suite name conversion to OpenSSL names. A few names where\n  corrected earlier in OTP-16267 For backwards compatible reasons we support\n  usage of openSSL names for cipher suites. Mostly anonymous suites names where\n  incorrect, but also some legacy suites.\n\n  Own Id: OTP-17100","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 10.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- SSL's Erlang Distribution Protocol modules inet_tls_dist and inet6_tls_dist\n  lacked a callback function, so the start flag \"-dist_listen false\" did not\n  work, which has now been fixed.\n\n  Own Id: OTP-15126 Aux Id: ERL-1375\n\n- Correct OpenSSL names for newer cipher suites using DHE in their name that\n  accidentally got the wrong value when fixing other older names using EDH\n  instead.\n\n  Own Id: OTP-16267 Aux Id: ERIERL-571, ERIERL-477\n\n- This change improves the handling of DTLS listening dockets, making it\n  possible to open multiple listeners on the same port with different IP\n  addresses.\n\n  Own Id: OTP-16849 Aux Id: ERL-1339\n\n- Fix a bug that causes cross-build failure.\n\n  This change excludes the ssl.d dependency file from the source tarballs.\n\n  Own Id: OTP-16921\n\n- This change fixes ssl:peername/1 when called on a DTLS client socket.\n\n  Own Id: OTP-16923 Aux Id: ERL-1341, PR-2786\n\n- Retain emulation of active once on a closed socket to behave as before 23.1\n\n  Own Id: OTP-17018 Aux Id: ERL-1409\n\n- Corrected server session cache entry deletion pre TLS-1.3. May increase\n  session reuse.\n\n  Own Id: OTP-17019 Aux Id: ERL-1412\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Handle extraneous certs in certificate chains as well as chains that are\n  incomplete but can be reconstructed or unordered chains. The cert and certfile\n  options will now accept a list of certificates so that the user may specify\n  the chain explicitly.\n\n  Also, the default value of the depth option has been increased to allow longer\n  chains by default.\n\n  Own Id: OTP-16277\n\n- This change implements optional NSS-style keylog in\n  ssl:connection_information/2 for debugging purposes.\n\n  The keylog contains various TLS secrets that can be loaded in Wireshark to\n  decrypt TLS packets.\n\n  Own Id: OTP-16445 Aux Id: PR-2823\n\n- Use new gen_statem feature of changing callback mode to improve code\n  maintainability.\n\n  Own Id: OTP-16529\n\n- The handling of Service Name Indication has been aligned with RFC8446.\n\n  Own Id: OTP-16762\n\n- Add explicit session reuse option to TLS clients for pre TLS-1.3 sessions.\n  Also, add documentation to Users Guide for such sessions.\n\n  Own Id: OTP-16893","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 10.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- If a passive socket is created, ssl:recv/2,3 is never called and then the peer\n  closes the socket the controlling process will no longer receive an active\n  close message.\n\n  Own Id: OTP-16697 Aux Id: ERIERL-496\n\n- Data deliver with ssl:recv/2,3 could fail for when using packet mode. This has\n  been fixed by correcting the flow control handling of passive sockets when\n  packet mode is used.\n\n  Own Id: OTP-16764\n\n- This change fixes a potential man-in-the-middle vulnerability when the ssl\n  client is configured to automatically handle session tickets\n  (\\{session_tickets, auto\\}).\n\n  Own Id: OTP-16765\n\n- Fix the internal handling of options 'verify' and 'verify_fun'.\n\n  This change fixes a vulnerability when setting the ssl option 'verify' to\n  verify_peer in a continued handshake won't take any effect resulting in the\n  acceptance of expired peer certificates.\n\n  Own Id: OTP-16767 Aux Id: ERIERL-512\n\n- This change fixes the handling of stateless session tickets when anti-replay\n  is enabled.\n\n  Own Id: OTP-16776 Aux Id: ERL-1316\n\n- Fix a crash due to the faulty handling of stateful session tickets received by\n  servers expecting stateless session tickets.\n\n  This change also improves the handling of faulty/invalid tickets.\n\n  Own Id: OTP-16777 Aux Id: ERL-1317\n\n- Correct flow ctrl checks from OTP-16764 to work as intended. Probably will not\n  have a noticeable affect but will make connections more well behaved under\n  some circumstances.\n\n  Own Id: OTP-16837 Aux Id: ERL-1319, OTP-16764\n\n- Distribution over TLS could exhibit livelock-like behaviour when there is a\n  constant stream of distribution messages. Distribution data is now chunked\n  every 16 Mb to avoid that.\n\n  Own Id: OTP-16851 Aux Id: PR-2703\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Implement the cookie extension for TLS 1.3.\n\n  Own Id: OTP-15855\n\n- Experimental OCSP client support.\n\n  Own Id: OTP-16448\n\n- TLS 1.0 -TLS-1.2 sessions tables now have a absolute max value instead of\n  using a shrinking mechanism when reaching the limit. To avoid out of memory\n  problems under heavy load situations. Note that this change infers that\n  implementations of ssl_session_cache_api needs to implement the size function\n  (introduce in OTP 19) for session reuse to be optimally utilized.\n\n  Own Id: OTP-16802 Aux Id: ERIERL-516","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 10.0 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-10-0"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Fix a bug that causes cross-build failure.\n\n  This change excludes the ssl.d dependency file from the source tar balls.\n\n  Own Id: OTP-16562 Aux Id: ERL-1168\n\n- Correct translation of OpenSSL legacy names for two legacy cipher suites\n\n  Own Id: OTP-16573 Aux Id: ERIERL-477\n\n- Correct documentation for PSK identity and SRP username.\n\n  Own Id: OTP-16585\n\n- Make sure client hostname check is run when client uses its own verify_fun\n\n  Own Id: OTP-16626 Aux Id: ERL-1232\n\n- Improved signature selection mechanism in TLS 1.3 for increased\n  interoperability.\n\n  Own Id: OTP-16638 Aux Id: ERL-1206\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Drop support for SSL-3.0. Support for this legacy TLS version has not been\n  enabled by default since OTP 19. Now all code to support it has been removed,\n  that is SSL-3.0 protocol version can not be used and is considered invalid.\n\n  \\*** POTENTIAL INCOMPATIBILITY \\***\n\n  Own Id: OTP-14790\n\n- Added support for RSA-PSS signature schemes\n\n  Own Id: OTP-15247\n\n- Improve interoperability by implementing the middlebox compatibility mode.\n\n  The middlebox compatibility mode makes the TLS 1.3 handshake look more like a\n  TLS 1.2 handshake and increases the chance of successfully establishing TLS\n  1.3 connections through legacy middleboxes.\n\n  Own Id: OTP-15589\n\n- Utilize new properties of\n  [`erlang:dist_ctrl_get_data()`](`erlang:dist_ctrl_get_data/1`) for performance\n  improvement of Erlang distribution over TLS.\n\n  Own Id: OTP-16127 Aux Id: OTP-15618\n\n- Calls of deprecated functions in the\n  [Old Crypto API](`e:crypto:new_api.md#the-old-api`) are replaced by calls of\n  their [substitutions](`e:crypto:new_api.md#the-new-api`).\n\n  Own Id: OTP-16346\n\n- Implement cipher suite TLS_AES_128_CCM_8_SHA256.\n\n  Own Id: OTP-16391\n\n- This change adds TLS-1.3 to the list of default supported versions. That is,\n  TLS-1.3 and TLS-1.2 are configured when ssl option 'versions' is not\n  explicitly set.\n\n  \\*** POTENTIAL INCOMPATIBILITY \\***\n\n  Own Id: OTP-16400\n\n- Refactored the internal handling of deprecated and removed functions.\n\n  Own Id: OTP-16469\n\n- Extended ssl:versions so that it lists supported, available and implemented\n  TLS/DTLS versions.\n\n  Own Id: OTP-16519\n\n- Added new option exclusive for ssl:cipher_suites/2,3\n\n  Own Id: OTP-16532\n\n- Avoid DoS attack against stateful session_tickets by making session ticket ids\n  unpredictable.\n\n  Own Id: OTP-16533\n\n- Add support for the max_fragment_length extension (RFC 6066).\n\n  Own Id: OTP-16547 Aux Id: PR-2547\n\n- Add srp_username in ssl:connection_info, update the document with types of\n  this function.\n\n  Own Id: OTP-16584","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 9.6.2.3 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-6-2-3"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Correct flow ctrl checks from OTP-16764 to work as intended. Probably will not\n  have a noticeable affect but will make connections more well behaved under\n  some circumstances.\n\n  Own Id: OTP-16837 Aux Id: ERL-1319, OTP-16764\n\n- Fix a bug that causes cross-build failure.\n\n  This change excludes the ssl.d dependency file from the source tar balls.\n\n  Own Id: OTP-16921","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 9.6.2.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-6-2-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Data deliver with ssl:recv/2,3 could fail for when using packet mode. This has\n  been fixed by correcting the flow control handling of passive sockets when\n  packet mode is used.\n\n  Own Id: OTP-16764\n\n- Fix the internal handling of options 'verify' and 'verify_fun'.\n\n  This change fixes a vulnerability when setting the ssl option 'verify' to\n  verify_peer in a continued handshake won't take any effect resulting in the\n  acceptance of expired peer certificates.\n\n  Own Id: OTP-16767 Aux Id: ERIERL-512","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 9.6.2.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-6-2-1"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- If a passive socket is created, ssl:recv/2,3 is never called and then the peer\n  closes the socket the controlling process will no longer receive an active\n  close message.\n\n  Own Id: OTP-16697 Aux Id: ERIERL-496","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 9.6.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-6-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Fix timing bug that could cause ssl sockets to become unresponsive after an\n  ssl:recv/3 call timed out\n\n  Own Id: OTP-16619 Aux Id: ERL-1213","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 9.6.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-6-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Correct error handling when the partial_chain fun claims a certificate to be\n  the trusted cert that is not part of the chain. This bug would hide the\n  appropriate alert generating an \"INTERNAL_ERROR\" alert instead.\n\n  Own Id: OTP-16567 Aux Id: ERIERL-481","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 9.6 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-6"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Correct handling of TLS record limit in TLS-1.3. The max value differs from\n  previous versions. Also the payload data max record check was broken, that is\n  record overflow problems could occur if user sent large amounts of data.\n\n  Own Id: OTP-16258\n\n- Correct close handling for DTLS\n\n  Own Id: OTP-16348 Aux Id: ERL-1110\n\n- Fix ssl:getstat/1-2 to also work for DTLS sockets\n\n  Own Id: OTP-16352 Aux Id: ERL-1099\n\n- Correct internal handling och socket active mode to avoid reviving TCP data\n  aimed for a downgraded TLS socket.\n\n  Own Id: OTP-16425\n\n- When using the host name as fallback for SNI (server name indication) strip a\n  possible trailing dot that is allowed in a host name but not in the SNI. Also\n  if the server receives a SNI with a trailing dot send an UNRECOGNIZED_NAME\n  alert.\n\n  Own Id: OTP-16437 Aux Id: ERL-1135\n\n- Immediately remove session entries if handshake is abruptly closed at\n  transport level.\n\n  Own Id: OTP-16479\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Implementation of the key and initialization vector update feature, and\n  general hardening of TLS 1.3.\n\n  There are cryptographic limits on the amount of plaintext which can be safely\n  encrypted under a given set of keys.\n\n  This change enforces those limits by triggering automatic key updates on TLS\n  1.3 connections.\n\n  Own Id: OTP-15856\n\n- Add support for TLS 1.3 Session Tickets (stateful and stateless). This allows\n  session resumption using keying material from a previous successful handshake.\n\n  Own Id: OTP-16253\n\n- Add support for key exchange with Edward curves and PSS-RSA padding in\n  signature verification.\n\n  Own Id: OTP-16528","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 9.5.3 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-5-3"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Enhance error handling, all ALERTS shall be handled gracefully and not cause a\n  crash.\n\n  Own Id: OTP-16413 Aux Id: ERL-1136\n\n- Enhance alert logging, in some places the role indication of the alert origin\n  was missing. So the log would say undefined instead of client or server.\n\n  Own Id: OTP-16424\n\n- Two different optimizations did not work together and resulted in the possible\n  breakage of connections using stream ciphers (that is RC4). Reworked the\n  implementation to avoid this.\n\n  Own Id: OTP-16426 Aux Id: ERL-1136","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 9.5.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-5-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Fix the handling of GREASE values sent by web browsers when establishing TLS\n  1.3 connections. This change improves handling of GREASE values in various\n  protocol elements sent in a TLS 1.3 ClientHello.\n\n  Own Id: OTP-16388 Aux Id: ERL-1130\n\n- Correct DTLS listen emulation, could cause problems with opening a new DTLS\n  listen socket for a port previously used by a now closed DTLS listen socket.\n\n  Own Id: OTP-16396 Aux Id: ERL-1118","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 9.5.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-5-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Add missing alert handling clause for TLS record handling. Could sometimes\n  cause confusing error behaviors of TLS connections.\n\n  Own Id: OTP-16357 Aux Id: ERL-1166\n\n- Fix handling of ssl:recv that happens during a renegotiation. Using the\n  passive receive function ssl:recv/\\[2,3] during a renegotiation would fail the\n  connection with unexpected msg.\n\n  Own Id: OTP-16361","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 9.5 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-5"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Corrected CRL handling which could cause CRL verification to fail. This could\n  happen when the CRL distribution point explicitly specifies the CRL issuer,\n  that is not using the fallback.\n\n  Own Id: OTP-16156 Aux Id: ERL-1030\n\n- Correct handling of unordered chains so that it works as expected\n\n  Own Id: OTP-16293\n\n- Fix bug causing ssl application to crash when handshake is paused and\n  ClientHello contains extensions for session resumption\n  (psk_key_exchange_modes, pre_shared_key).\n\n  Own Id: OTP-16295 Aux Id: ERL-1095\n\n- Fix connectivity problems with legacy servers when client is configured to\n  support a range of protocol versions including TLS 1.3.\n\n  Own Id: OTP-16303\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Improve session handling for TLS-1.3 compatibility mode and cleaner internal\n  handling so that removal of old session data can be more efficient, hopefully\n  mitigating problems with big session tables during heavy load.\n\n  Own Id: OTP-15524 Aux Id: OTP-15352\n\n- Correct handling of DTLS listen socket emulation. Could cause failure to\n  create new listen socket after process that owned previous listen socket died.\n\n  Own Id: OTP-15809 Aux Id: ERL-917\n\n- Add detailed info in ALERT description when client does not send a requested\n  cert.\n\n  Own Id: OTP-16266","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 9.4 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-4"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Handling of zero size fragments in TLS could cause an infinite loop. This has\n  now been corrected.\n\n  Own Id: OTP-15328 Aux Id: ERIERL-379\n\n- DTLS record check needs to consider that a resent hello message can have a\n  different version than the negotiated.\n\n  Own Id: OTP-15807 Aux Id: ERL-920\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Basic support for TLS 1.3 Client for experimental use. For more information\n  see the Standards Compliance chapter of the User's Guide.\n\n  Own Id: OTP-15431\n\n- Correct solution for retaining tcp flow control OTP-15802 (ERL-934) as to not\n  break ssl:recv as reported in (ERL-938)\n\n  Own Id: OTP-15823 Aux Id: ERL-934, ERL-938\n\n- Enhance dialyzer specs to reflect implementation better and avoid dialyzer\n  warnings for the user that wants to use TLS with unix domain sockets.\n\n  Own Id: OTP-15851 Aux Id: PR-2235\n\n- Add support for ECDSA signature algorithms in TLS 1.3.\n\n  Own Id: OTP-15854\n\n- Correct error handling of TLS downgrade, possible return values form\n  ssl:close/2 when downgrading is \\{ok, Port\\} or \\{error, Reason\\}, it could\n  happen that only ok was returned instead of \\{error, closed\\} when downgrade\n  failed due to that the peer closed the TCP connection.\n\n  Own Id: OTP-16027","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 9.3.5 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-3-5"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Enhance error handling for erroneous alerts from the peer.\n\n  Own Id: OTP-15943","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 9.3.4 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-3-4"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Fix handling of certificate decoding problems in TLS 1.3 similarly as in TLS\n  1.2.\n\n  Own Id: OTP-15900\n\n- Hibernation now works as expected in all cases, was accidentally broken by\n  optimization efforts.\n\n  Own Id: OTP-15910\n\n- Fix interoperability problems with openssl when the TLS 1.3 server is\n  configured with the option signature_algs_cert.\n\n  Own Id: OTP-15913","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 9.3.3 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-3-3"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Correct handshake handling, might cause strange symptoms such as ASN.1\n  certificate decoding issues.\n\n  Own Id: OTP-15879 Aux Id: ERL-968\n\n- Fix handling of the signature_algorithms_cert extension in the ClientHello\n  handshake message.\n\n  Own Id: OTP-15887 Aux Id: ERL-973\n\n- Handle new ClientHello extensions when handshake is paused by the \\{handshake,\n  hello\\} ssl option.\n\n  Own Id: OTP-15888 Aux Id: ERL-975","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 9.3.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-3-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Returned \"alert error string\" is now same as logged alert string\n\n  Own Id: OTP-15844\n\n- Fix returned extension map fields to follow the documentation.\n\n  Own Id: OTP-15862 Aux Id: ERL-951\n\n- Avoid DTLS crash due to missing gen_server return value in DTLS packet demux\n  process.\n\n  Own Id: OTP-15864 Aux Id: ERL-962","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 9.3.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-3-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Missing check of size of user_data_buffer made internal socket behave as an\n  active socket instead of active N. This could cause memory problems.\n\n  Own Id: OTP-15825 Aux Id: ERL-934, OTP-15823","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 9.3 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-3"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- The distribution handshake with TLS distribution (`inet_tls_dist`) does now\n  utilize the socket option `{nodelay, true}`, which decreases the distribution\n  setup time significantly.\n\n  Own Id: OTP-14792\n\n- Correct shutdown reason to avoid an incorrect crash report\n\n  Own Id: OTP-15710 Aux Id: ERL-893\n\n- Enhance documentation and type specifications.\n\n  Own Id: OTP-15746 Aux Id: ERIERL-333\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- TLS-1.0, TLS-1.1 and DTLS-1.0 are now considered legacy and not supported by\n  default\n\n  \\*** POTENTIAL INCOMPATIBILITY \\***\n\n  Own Id: OTP-14865\n\n- Use new logger API in ssl. Introduce log levels and verbose debug logging for\n  SSL.\n\n  Own Id: OTP-15055\n\n- Add new API function str_to_suite/1, cipher_suites/3 (list cipher suites as\n  rfc or OpenSSL name strings) and suite_to_openssl_str/1\n\n  Own Id: OTP-15483 Aux Id: ERL-924\n\n- Basic support for TLS 1.3 Server for experimental use. The client is not yet\n  functional, for more information see the Standards Compliance chapter of the\n  User's Guide.\n\n  Own Id: OTP-15591\n\n- Add support for PSK CCM ciphers from RFC 6655\n\n  Own Id: OTP-15626","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 9.2.3.7 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-2-3-7"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Data deliver with ssl:recv/2,3 could fail for when using packet mode. This has\n  been fixed by correcting the flow control handling of passive sockets when\n  packet mode is used.\n\n  Own Id: OTP-16764","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 9.2.3.6 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-2-3-6"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Fix timing bug that could cause ssl sockets to become unresponsive after an\n  ssl:recv/3 call timed out\n\n  Own Id: OTP-16619 Aux Id: ERL-1213","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 9.2.3.5 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-2-3-5"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Handling of zero size fragments in TLS could cause an infinite loop. This has\n  now been corrected.\n\n  Own Id: OTP-15328 Aux Id: ERIERL-379","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 9.2.3.4 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-2-3-4"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Hibernation now works as expected in all cases, was accidentally broken by\n  optimization efforts.\n\n  Own Id: OTP-15910","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 9.2.3.3 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-2-3-3"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Correct handshake handling, might cause strange symptoms such as ASN.1\n  certificate decoding issues.\n\n  Own Id: OTP-15879 Aux Id: ERL-968","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 9.2.3.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-2-3-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Returned \"alert error string\" is now same as logged alert string\n\n  Own Id: OTP-15844","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 9.2.3.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-2-3-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Correct solution for retaining tcp flow control OTP-15802 (ERL-934) as to not\n  break ssl:recv as reported in (ERL-938)\n\n  Own Id: OTP-15823 Aux Id: ERL-934, ERL-938","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 9.2.3 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-2-3"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Missing check of size of user_data_buffer made internal socket behave as an\n  active socket instead of active N. This could cause memory problems.\n\n  Own Id: OTP-15802 Aux Id: ERL-934\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Back port of bug fix ERL-893 from OTP-22 and document enhancements that will\n  solve dialyzer warnings for users of the ssl application.\n\n  This change also affects public_key, eldap (and inet doc).\n\n  Own Id: OTP-15785 Aux Id: ERL-929, ERL-893, PR-2215","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 9.2.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-2-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- With the default BEAST Mitigation strategy for TLS 1.0 an empty TLS fragment\n  could be sent after a one-byte fragment. This glitch has been fixed.\n\n  Own Id: OTP-15054 Aux Id: ERIERL-346","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 9.2.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-2-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- The timeout for a passive receive was sometimes not cancelled and later caused\n  a server crash. This bug has now been corrected.\n\n  Own Id: OTP-14701 Aux Id: ERL-883, ERL-884\n\n- Add tag for passive message (active N) in cb_info to retain transport\n  transparency.\n\n  Own Id: OTP-15679 Aux Id: ERL-861","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 9.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Fix bug that an incorrect return value for gen_statem could be created when\n  alert was a result of handling renegotiation info extension\n\n  Own Id: OTP-15502\n\n- Correct check for 3des_ede_cbc, could cause ssl to claim to support\n  3des_ede_cbc when cryptolib does not.\n\n  Own Id: OTP-15539\n\n- Improved DTLS error handling, avoids unexpected connection failure in rare\n  cases.\n\n  Own Id: OTP-15561\n\n- Corrected active once emulation bug that could cause the ssl_closed meassage\n  to not be sent. Bug introduced by OTP-15449\n\n  Own Id: OTP-15666 Aux Id: ERIERL-316,\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Add client option \\{reuse_session, SessionID::binary()\\} that can be used\n  together with new option value \\{reuse_sessions, save\\}. This makes it\n  possible to reuse a session from a specific connection establishment.\n\n  Own Id: OTP-15369\n\n- The Reason part of of the error return from the functions connect and\n  handshake has a better and documented format. This will sometimes differ from\n  previous returned reasons, however those where only documented as term() and\n  should for that reason not be relied on.\n\n  \\*** POTENTIAL INCOMPATIBILITY \\***\n\n  Own Id: OTP-15423\n\n- Refactor of state handling to improve TLS application data throughput and\n  reduce CPU overhead\n\n  Own Id: OTP-15445\n\n- The SSL code has been optimized in many small ways to reduce CPU load for\n  encryption/decryption, especially for Erlang's distribution protocol over TLS.\n\n  Own Id: OTP-15529\n\n- Add support for active N\n\n  Own Id: OTP-15665 Aux Id: ERL-811, PR-2072","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 9.1.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-1-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Fix encoding of the SRP extension length field in ssl. The old encoding of the\n  SRP extension length could cause interoperability problems with third party\n  SSL implementations when SRP was used.\n\n  Own Id: OTP-15477 Aux Id: ERL-790\n\n- Guarantee active once data delivery, handling TCP stream properly.\n\n  Own Id: OTP-15504 Aux Id: ERL-371\n\n- Correct gen_statem returns for some error cases\n\n  Own Id: OTP-15505","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 9.1.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-1-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Fixed renegotiation bug. Client did not handle server initiated renegotiation\n  correctly after rewrite to two connection processes, due to ERL-622 commit\n  d87ac1c55188f5ba5cdf72384125d94d42118c18. This could manifest it self as a \"\n  bad_record_mac\" alert.\n\n  Also included are some optimizations\n\n  Own Id: OTP-15489 Aux Id: ERL-308","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 9.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- PEM cache was not evicting expired entries due to due to timezone confusion.\n\n  Own Id: OTP-15368\n\n- Make sure an error is returned if a \"transport_accept socket\" is used in some\n  other call than ssl:handshake\\* or ssl:controlling_process\n\n  Own Id: OTP-15384 Aux Id: ERL-756\n\n- Fix timestamp handling in the PEM-cache could cause entries to not be\n  invalidated at the correct time.\n\n  Own Id: OTP-15402\n\n- Extend check for undelivered data at closing, could under some circumstances\n  fail to deliver all data that was actually received.\n\n  Own Id: OTP-15412 Aux Id: ERL-731\n\n- Correct signature check for TLS-1.2 that allows different algorithms for\n  signature of peer cert and peer cert key. Not all allowed combinations where\n  accepted.\n\n  Own Id: OTP-15415 Aux Id: ERL-763\n\n- Correct gen_statem return value, could cause renegotiation to fail.\n\n  Own Id: OTP-15418 Aux Id: ERL-770\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Add engine support for RSA key exchange\n\n  Own Id: OTP-15420 Aux Id: ERIERL-268\n\n- ssl now uses active n internally to boost performance. Old active once\n  behavior can be restored by setting application variable see manual page for\n  ssl application (man 6).\n\n  \\*** POTENTIAL INCOMPATIBILITY \\***\n\n  Own Id: OTP-15449","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 9.0.3 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-0-3"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Correct alert handling with new TLS sender process, from ssl-9.0.2. CLOSE\n  ALERTS could under some circumstances be encoded using an incorrect cipher\n  state. This would cause the peer to regard them as unknown messages.\n\n  Own Id: OTP-15337 Aux Id: ERL-738\n\n- Correct handling of socket packet option with new TLS sender process, from\n  ssl-9.0.2. When changing the socket option \\{packet, 1|2|3|4\\} with\n  ssl:setopts/2 the option must internally be propagated to the sender process\n  as well as the reader process as this particular option also affects the data\n  to be sent.\n\n  Own Id: OTP-15348 Aux Id: ERL-747","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 9.0.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-0-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Use separate processes for sending and receiving application data for TLS\n  connections to avoid potential deadlock that was most likely to occur when\n  using TLS for Erlang distribution. Note does not change the API.\n\n  Own Id: OTP-15122\n\n- Correct handling of empty server SNI extension\n\n  Own Id: OTP-15168\n\n- Correct PSK cipher suite handling and add selected_cipher_suite to connection\n  information\n\n  Own Id: OTP-15172\n\n- Adopt to the fact that cipher suite sign restriction are relaxed in TLS-1.2\n\n  Own Id: OTP-15173\n\n- Enhance error handling of non existing PEM files\n\n  Own Id: OTP-15174\n\n- Correct close handling of transport accepted sockets in the error state\n\n  Own Id: OTP-15216\n\n- Correct PEM cache to not add references to empty entries when PEM file does\n  not exist.\n\n  Own Id: OTP-15224\n\n- Correct handling of all PSK cipher suites\n\n  Before only some PSK suites would be correctly negotiated and most PSK ciphers\n  suites would fail the connection.\n\n  Own Id: OTP-15285\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- TLS will now try to order certificate chains if they appear to be unordered.\n  That is prior to TLS 1.3, “certificate_list” ordering was required to be\n  strict, however some implementations already allowed for some flexibility. For\n  maximum compatibility, all implementations SHOULD be prepared to handle\n  potentially extraneous certificates and arbitrary orderings from any TLS\n  version.\n\n  Own Id: OTP-12983\n\n- TLS will now try to reconstructed an incomplete certificate chains from its\n  local CA-database and use that data for the certificate path validation. This\n  especially makes sense for partial chains as then the peer might not send an\n  intermediate CA as it is considered the trusted root in that case.\n\n  Own Id: OTP-15060\n\n- Option keyfile defaults to certfile and should be trumped with key. This\n  failed for engine keys.\n\n  Own Id: OTP-15193\n\n- Error message improvement when own certificate has decoding issues, see also\n  issue ERL-668.\n\n  Own Id: OTP-15234\n\n- Correct dialyzer spec for key option\n\n  Own Id: OTP-15281","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 9.0.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-0-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Correct cipher suite handling for ECDHE\\_\\*, the incorrect handling could\n  cause an incorrrect suite to be selected and most likely fail the handshake.\n\n  Own Id: OTP-15203","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 9.0 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-9-0"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Correct handling of ECDH suites.\n\n  Own Id: OTP-14974\n\n- Proper handling of clients that choose to send an empty answer to a\n  certificate request\n\n  Own Id: OTP-15050\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Distribution over SSL (inet_tls) has, to improve performance, been rewritten\n  to not use intermediate processes and ports.\n\n  Own Id: OTP-14465\n\n- Add support for ECDHE_PSK cipher suites\n\n  Own Id: OTP-14547\n\n- For security reasons no longer support 3-DES cipher suites by default\n\n  \\*** INCOMPATIBILITY with possibly \\***\n\n  Own Id: OTP-14768\n\n- For security reasons RSA-key exchange cipher suites are no longer supported by\n  default\n\n  \\*** INCOMPATIBILITY with possible \\***\n\n  Own Id: OTP-14769\n\n- The interoperability option to fallback to insecure renegotiation now has to\n  be explicitly turned on.\n\n  \\*** INCOMPATIBILITY with possibly \\***\n\n  Own Id: OTP-14789\n\n- Drop support for SSLv2 enabled clients. SSLv2 has been broken for decades and\n  never supported by the Erlang SSL/TLS implementation. This option was by\n  default disabled and enabling it has proved to sometimes break connections not\n  using SSLv2 enabled clients.\n\n  \\*** POTENTIAL INCOMPATIBILITY \\***\n\n  Own Id: OTP-14824\n\n- Remove CHACHA20_POLY1305 ciphers form default for now. We have discovered\n  interoperability problems, ERL-538, that we believe needs to be solved in\n  crypto.\n\n  \\*** INCOMPATIBILITY with possibly \\***\n\n  Own Id: OTP-14882\n\n- Generalize DTLS packet multiplexing to make it easier to add future DTLS\n  features and uses.\n\n  Own Id: OTP-14888\n\n- Use uri_string module instead of http_uri.\n\n  Own Id: OTP-14902\n\n- The SSL distribution protocol `-proto inet_tls` has stopped setting the SSL\n  option `server_name_indication`. New verify funs for client and server in\n  `inet_tls_dist` has been added, not documented yet, that checks node name if\n  present in peer certificate. Usage is still also yet to be documented.\n\n  Own Id: OTP-14969 Aux Id: OTP-14465, ERL-598\n\n- Deprecate ssl:ssl_accept/\\[1,2,3] in favour of ssl:handshake/\\[1,2,3]\n\n  Own Id: OTP-15056\n\n- Customizes the hostname verification of the peer certificate, as different\n  protocols that use TLS such as HTTP or LDAP may want to do it differently\n\n  Own Id: OTP-15102 Aux Id: ERL-542, OTP-14962\n\n- Add utility function for converting erlang cipher suites to a string\n  representation (ERL-600).\n\n  Own Id: OTP-15106\n\n- First version with support for DTLS\n\n  Own Id: OTP-15142","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 8.2.6.4 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-8-2-6-4"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Add engine support for RSA key exchange\n\n  Own Id: OTP-15420","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 8.2.6.3 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-8-2-6-3"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Extend check for undelivered data at closing, could under some circumstances\n  fail to deliverd all data that was acctualy recivied.\n\n  Own Id: OTP-15412","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 8.2.6.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-8-2-6-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Correct handling of empty server SNI extension\n\n  Own Id: OTP-15168\n\n- Correct cipher suite handling for ECDHE\\_\\*, the incorrect handling could\n  cause an incorrrect suite to be selected and most likely fail the handshake.\n\n  Own Id: OTP-15203","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 8.2.6.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-8-2-6-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Improve cipher suite handling correcting ECC and TLS-1.2 requierments.\n  Backport of solution for ERL-641\n\n  Own Id: OTP-15178\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Option keyfile defaults to certfile and should be trumped with key. This\n  failed for engine keys.\n\n  Own Id: OTP-15193","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 8.2.6 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-8-2-6"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Proper handling of clients that choose to send an empty answer to a\n  certificate request\n\n  Own Id: OTP-15050","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 8.2.5 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-8-2-5"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Fix filter function to not incorrectly exclude AEAD cipher suites\n\n  Own Id: OTP-14981","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 8.2.4 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-8-2-4"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Optimization of bad merge conflict resolution causing dubble decode\n\n  Own Id: OTP-14843\n\n- Restore error propagation to OTP-19.3 behaviour, in OTP-20.2 implementation\n  adjustments to gen_statem needed some further adjustments to avoid a race\n  condition. This could cause a TLS server to not always report file path errors\n  correctly.\n\n  Own Id: OTP-14852\n\n- Corrected RC4 suites listing function to regard TLS version\n\n  Own Id: OTP-14871\n\n- Fix alert handling so that unexpected messages are logged and alerted\n  correctly\n\n  Own Id: OTP-14919\n\n- Correct handling of anonymous cipher suites\n\n  Own Id: OTP-14952\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Added new API functions to facilitate cipher suite handling\n\n  Own Id: OTP-14760\n\n- Correct TLS_FALLBACK_SCSV handling so that this special flag suite is always\n  placed last in the cipher suite list in accordance with the specs. Also make\n  sure this functionality is used in DTLS.\n\n  Own Id: OTP-14828\n\n- Add TLS record version sanity check for early as possible error detection and\n  consistency in ALERT codes generated\n\n  Own Id: OTP-14892","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 8.2.3 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-8-2-3"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Packet options cannot be supported for unreliable transports, that is, packet\n  option for DTLS over udp will not be supported.\n\n  Own Id: OTP-14664\n\n- Ensure data delivery before close if possible. This fix is related to fix in\n  PR-1479.\n\n  Own Id: OTP-14794\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- The crypto API is extended to use private/public keys stored in an Engine for\n  sign/verify or encrypt/decrypt operations.\n\n  The ssl application provides an API to use this new engine concept in TLS.\n\n  Own Id: OTP-14448\n\n- Implemented renegotiation for DTLS\n\n  Own Id: OTP-14563\n\n- A new command line option `-ssl_dist_optfile` has been added to facilitate\n  specifying the many options needed when using SSL as the distribution\n  protocol.\n\n  Own Id: OTP-14657","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 8.2.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-8-2-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- TLS sessions must be registered with SNI if provided, so that sessions where\n  client hostname verification would fail cannot connect reusing a session\n  created when the server name verification succeeded.\n\n  Own Id: OTP-14632\n\n- An erlang TLS server configured with cipher suites using rsa key exchange, may\n  be vulnerable to an Adaptive Chosen Ciphertext attack (AKA Bleichenbacher\n  attack) against RSA, which when exploited, may result in plaintext recovery of\n  encrypted messages and/or a Man-in-the-middle (MiTM) attack, despite the\n  attacker not having gained access to the server’s private key itself.\n  [CVE-2017-1000385](https://nvd.nist.gov/vuln/detail/CVE-2017-1000385)\n\n  Exploiting this vulnerability to perform plaintext recovery of encrypted\n  messages will, in most practical cases, allow an attacker to read the\n  plaintext only after the session has completed. Only TLS sessions established\n  using RSA key exchange are vulnerable to this attack.\n\n  Exploiting this vulnerability to conduct a MiTM attack requires the attacker\n  to complete the initial attack, which may require thousands of server\n  requests, during the handshake phase of the targeted session within the window\n  of the configured handshake timeout. This attack may be conducted against any\n  TLS session using RSA signatures, but only if cipher suites using RSA key\n  exchange are also enabled on the server. The limited window of opportunity,\n  limitations in bandwidth, and latency make this attack significantly more\n  difficult to execute.\n\n  RSA key exchange is enabled by default although least prioritized if server\n  order is honored. For such a cipher suite to be chosen it must also be\n  supported by the client and probably the only shared cipher suite.\n\n  Captured TLS sessions encrypted with ephemeral cipher suites (DHE or ECDHE)\n  are not at risk for subsequent decryption due to this vulnerability.\n\n  As a workaround if default cipher suite configuration was used you can\n  configure the server to not use vulnerable suites with the ciphers option like\n  this:\n\n  `{ciphers, [Suite || Suite <- ssl:cipher_suites(), element(1,Suite) =/= rsa]}`\n\n  that is your code will look somethingh like this:\n\n  `ssl:listen(Port, [{ciphers, [Suite || Suite <- ssl:cipher_suites(), element(1,S) =/= rsa]} | Options]).`\n\n  Thanks to Hanno Böck, Juraj Somorovsky and Craig Young for reporting this\n  vulnerability.\n\n  Own Id: OTP-14748\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- If no SNI is available and the hostname is an IP-address also check for\n  IP-address match. This check is not as good as a DNS hostname check and\n  certificates using IP-address are not recommended.\n\n  Own Id: OTP-14655","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 8.2.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-8-2-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Max session table works correctly again\n\n  Own Id: OTP-14556\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Customize alert handling for DTLS over UDP to mitigate DoS attacks\n\n  Own Id: OTP-14078\n\n- Improved error propagation and reports\n\n  Own Id: OTP-14236","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 8.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-8-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- ECDH-ECDSA key exchange supported, was accidentally dismissed in earlier\n  versions.\n\n  Own Id: OTP-14421\n\n- Correct close semantics for active once connections. This was a timing\n  dependent bug the resulted in the close message not always reaching the ssl\n  user process.\n\n  Own Id: OTP-14443\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- TLS-1.2 clients will now always send hello messages on its own format, as\n  opposed to earlier versions that will send the hello on the lowest supported\n  version, this is a change supported by the latest RFC.\n\n  This will make interoperability with some newer servers smoother. Potentially,\n  but unlikely, this could cause a problem with older servers if they do not\n  adhere to the RFC and ignore unknown extensions.\n\n  \\*** POTENTIAL INCOMPATIBILITY \\***\n\n  Own Id: OTP-13820\n\n- Allow Erlang/OTP to use OpenSSL in FIPS-140 mode, in order to satisfy specific\n  security requirements (mostly by different parts of the US federal\n  government).\n\n  See the new crypto users guide \"FIPS mode\" chapter about building and using\n  the FIPS support which is disabled by default.\n\n  (Thanks to dszoboszlay and legoscia)\n\n  Own Id: OTP-13921 Aux Id: PR-1180\n\n- Implemented DTLS cookie generation, required by spec, instead of using a\n  hardcoded value.\n\n  Own Id: OTP-14076\n\n- Implement sliding window replay protection of DTLS records.\n\n  Own Id: OTP-14077\n\n- TLS client processes will by default call public_key:pkix_verify_hostname/2 to\n  verify the hostname of the connection with the server certificates specified\n  hostname during certificate path validation. The user may explicitly disables\n  it. Also if the hostname cannot be derived from the first argument to connect\n  or is not supplied by the server name indication option, the check will not be\n  performed.\n\n  Own Id: OTP-14197\n\n- Extend connection_information/\\[1,2] . The values session_id, master_secret,\n  client_random and server_random can no be accessed by\n  connection_information/2. Note only session_id will be added to\n  connection_information/1. The rational is that values concerning the\n  connection security should have to be explicitly requested.\n\n  Own Id: OTP-14291\n\n- Chacha cipher suites are currently not tested enough to be most preferred ones\n\n  Own Id: OTP-14382\n\n- Basic support for DTLS that been tested together with OpenSSL.\n\n  Test by providing the option \\{protocol, dtls\\} to the ssl API functions\n  connect and listen.\n\n  Own Id: OTP-14388","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 8.1.3.1.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-8-1-3-1-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Fix alert handling so that unexpected messages are logged and alerted\n  correctly\n\n  Own Id: OTP-14929","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 8.1.3.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-8-1-3-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- An erlang TLS server configured with cipher suites using rsa key exchange, may\n  be vulnerable to an Adaptive Chosen Ciphertext attack (AKA Bleichenbacher\n  attack) against RSA, which when exploited, may result in plaintext recovery of\n  encrypted messages and/or a Man-in-the-middle (MiTM) attack, despite the\n  attacker not having gained access to the server’s private key itself.\n  [CVE-2017-1000385](https://nvd.nist.gov/vuln/detail/CVE-2017-1000385)\n\n  Exploiting this vulnerability to perform plaintext recovery of encrypted\n  messages will, in most practical cases, allow an attacker to read the\n  plaintext only after the session has completed. Only TLS sessions established\n  using RSA key exchange are vulnerable to this attack.\n\n  Exploiting this vulnerability to conduct a MiTM attack requires the attacker\n  to complete the initial attack, which may require thousands of server\n  requests, during the handshake phase of the targeted session within the window\n  of the configured handshake timeout. This attack may be conducted against any\n  TLS session using RSA signatures, but only if cipher suites using RSA key\n  exchange are also enabled on the server. The limited window of opportunity,\n  limitations in bandwidth, and latency make this attack significantly more\n  difficult to execute.\n\n  RSA key exchange is enabled by default although least prioritized if server\n  order is honored. For such a cipher suite to be chosen it must also be\n  supported by the client and probably the only shared cipher suite.\n\n  Captured TLS sessions encrypted with ephemeral cipher suites (DHE or ECDHE)\n  are not at risk for subsequent decryption due to this vulnerability.\n\n  As a workaround if default cipher suite configuration was used you can\n  configure the server to not use vulnerable suites with the ciphers option like\n  this:\n\n  `{ciphers, [Suite || Suite <- ssl:cipher_suites(), element(1,Suite) =/= rsa]}`\n\n  that is your code will look somethingh like this:\n\n  `ssl:listen(Port, [{ciphers, [Suite || Suite <- ssl:cipher_suites(), element(1,S) =/= rsa]} | Options]).`\n\n  Thanks to Hanno Böck, Juraj Somorovsky and Craig Young for reporting this\n  vulnerability.\n\n  Own Id: OTP-14748","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 8.1.3 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-8-1-3"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Remove debug printout\n\n  Own Id: OTP-14396","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 8.1.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-8-1-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Correct active once emulation, for TLS. Now all data received by the\n  connection process will be delivered through active once, even when the active\n  once arrives after that the gen_tcp socket is closed by the peer.\n\n  Own Id: OTP-14300","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 8.1.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-8-1-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Corrected termination behavior, that caused a PEM cache bug and sometimes\n  resulted in connection failures.\n\n  Own Id: OTP-14100\n\n- Fix bug that could hang ssl connection processes when failing to require more\n  data for very large handshake packages. Add option max_handshake_size to\n  mitigate DoS attacks.\n\n  Own Id: OTP-14138\n\n- Improved support for CRL handling that could fail to work as intended when an\n  id-ce-extKeyUsage was present in the certificate. Also improvements where\n  needed to distributionpoint handling so that all revocations actually are\n  found and not deemed to be not determinable.\n\n  Own Id: OTP-14141\n\n- A TLS handshake might accidentally match old sslv2 format and ssl application\n  would incorrectly aborted TLS handshake with ssl_v2_client_hello_no_supported.\n  Parsing was altered to avoid this problem.\n\n  Own Id: OTP-14222\n\n- Correct default cipher list to prefer AES 128 before 3DES\n\n  Own Id: OTP-14235\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Move PEM cache to a dedicated process, to avoid making the SSL manager process\n  a bottleneck. This improves scalability of TLS connections.\n\n  Own Id: OTP-13874","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 8.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-8-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- List of possible anonymous suites, never supported by default, where incorrect\n  for some TLS versions.\n\n  Own Id: OTP-13926\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Experimental version of DTLS. It is runnable but not complete and cannot be\n  considered reliable for production usage.\n\n  Own Id: OTP-12982\n\n- Add API options to handle ECC curve selection.\n\n  Own Id: OTP-13959","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 8.0.3 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-8-0-3"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- A timing related bug in event handling could cause interoperability problems\n  between an erlang TLS server and some TLS clients, especially noticed with\n  Firefox as TLS client.\n\n  Own Id: OTP-13917\n\n- Correct ECC curve selection, the error could cause the default to always be\n  selected.\n\n  Own Id: OTP-13918","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 8.0.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-8-0-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Correctly formed handshake messages received out of order will now correctly\n  fail the connection with unexpected message.\n\n  Own Id: OTP-13853\n\n- Correct handling of signature algorithm selection\n\n  Own Id: OTP-13711\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- ssl application now behaves gracefully also on partially incorrect input from\n  peer.\n\n  Own Id: OTP-13834\n\n- Add application environment configuration bypass_pem_cache. This can be used\n  as a workaround for the current implementation of the PEM-cache that has\n  proven to be a bottleneck.\n\n  Own Id: OTP-13883","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 8.0.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-8-0-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- The TLS/SSL protocol version selection for the SSL server has been corrected\n  to follow RFC 5246 Appendix E.1 especially in case where the list of supported\n  versions has gaps. Now the server selects the highest protocol version it\n  supports that is not higher than what the client supports.\n\n  Own Id: OTP-13753 Aux Id: seq13150","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 8.0 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-8-0"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Server now rejects, a not requested client cert, as an incorrect handshake\n  message and ends the connection.\n\n  Own Id: OTP-13651\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Remove default support for DES cipher suites\n\n  \\*** POTENTIAL INCOMPATIBILITY \\***\n\n  Own Id: OTP-13195\n\n- Deprecate the function `crypto:rand_bytes` and make sure that\n  `crypto:strong_rand_bytes` is used in all places that are cryptographically\n  significant.\n\n  Own Id: OTP-13214\n\n- Better error handling of user error during TLS upgrade. ERL-69 is solved by\n  gen_statem rewrite of ssl application.\n\n  Own Id: OTP-13255\n\n- Provide user friendly error message when crypto rejects a key\n\n  Own Id: OTP-13256\n\n- Add ssl:getstat/1 and ssl:getstat/2\n\n  Own Id: OTP-13415\n\n- TLS distribution connections now allow specifying the options `verify_fun`,\n  `crl_check` and `crl_cache`. See the documentation. GitHub pull req #956\n  contributed by Magnus Henoch.\n\n  Own Id: OTP-13429 Aux Id: Pull#956\n\n- Remove confusing error message when closing a distributed erlang node running\n  over TLS\n\n  Own Id: OTP-13431\n\n- Remove default support for use of md5 in TLS 1.2 signature algorithms\n\n  Own Id: OTP-13463\n\n- ssl now uses gen_statem instead of gen_fsm to implement the ssl connection\n  process, this solves some timing issues in addition to making the code more\n  intuitive as the behaviour can be used cleanly instead of having a lot of\n  workaround for shortcomings of the behaviour.\n\n  Own Id: OTP-13464\n\n- Phase out interoperability with clients that offer SSLv2. By default they are\n  no longer supported, but an option to provide interoperability is offered.\n\n  \\*** POTENTIAL INCOMPATIBILITY \\***\n\n  Own Id: OTP-13465\n\n- OpenSSL has functions to generate short (eight hex digits) hashes of issuers\n  of certificates and CRLs. These hashes are used by the \"c_rehash\" script to\n  populate directories of CA certificates and CRLs, e.g. in the Apache web\n  server. Add functionality to let an Erlang program find the right CRL for a\n  given certificate in such a directory.\n\n  Own Id: OTP-13530\n\n- Some legacy TLS 1.0 software does not tolerate the 1/n-1 content split BEAST\n  mitigation technique. Add a beast_mitigation SSL option (defaulting to\n  one_n_minus_one) to select or disable the BEAST mitigation technique.\n\n  Own Id: OTP-13629\n\n- Enhance error log messages to facilitate for users to understand the error\n\n  Own Id: OTP-13632\n\n- Increased default DH params to 2048-bit\n\n  Own Id: OTP-13636\n\n- Propagate CRL unknown CA error so that public_key validation process continues\n  correctly and determines what should happen.\n\n  Own Id: OTP-13656\n\n- Introduce a flight concept for handshake packages. This is a preparation for\n  enabling DTLS, however it can also have a positive effects for TLS on slow and\n  unreliable networks.\n\n  Own Id: OTP-13678","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 7.3.3.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-7-3-3-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- An erlang TLS server configured with cipher suites using rsa key exchange, may\n  be vulnerable to an Adaptive Chosen Ciphertext attack (AKA Bleichenbacher\n  attack) against RSA, which when exploited, may result in plaintext recovery of\n  encrypted messages and/or a Man-in-the-middle (MiTM) attack, despite the\n  attacker not having gained access to the server’s private key itself.\n  [CVE-2017-1000385](https://nvd.nist.gov/vuln/detail/CVE-2017-1000385)\n\n  Exploiting this vulnerability to perform plaintext recovery of encrypted\n  messages will, in most practical cases, allow an attacker to read the\n  plaintext only after the session has completed. Only TLS sessions established\n  using RSA key exchange are vulnerable to this attack.\n\n  Exploiting this vulnerability to conduct a MiTM attack requires the attacker\n  to complete the initial attack, which may require thousands of server\n  requests, during the handshake phase of the targeted session within the window\n  of the configured handshake timeout. This attack may be conducted against any\n  TLS session using RSA signatures, but only if cipher suites using RSA key\n  exchange are also enabled on the server. The limited window of opportunity,\n  limitations in bandwidth, and latency make this attack significantly more\n  difficult to execute.\n\n  RSA key exchange is enabled by default although least prioritized if server\n  order is honored. For such a cipher suite to be chosen it must also be\n  supported by the client and probably the only shared cipher suite.\n\n  Captured TLS sessions encrypted with ephemeral cipher suites (DHE or ECDHE)\n  are not at risk for subsequent decryption due to this vulnerability.\n\n  As a workaround if default cipher suite configuration was used you can\n  configure the server to not use vulnerable suites with the ciphers option like\n  this:\n\n  `{ciphers, [Suite || Suite <- ssl:cipher_suites(), element(1,Suite) =/= rsa]}`\n\n  that is your code will look somethingh like this:\n\n  `ssl:listen(Port, [{ciphers, [Suite || Suite <- ssl:cipher_suites(), element(1,S) =/= rsa]} | Options]).`\n\n  Thanks to Hanno Böck, Juraj Somorovsky and Craig Young for reporting this\n  vulnerability.\n\n  Own Id: OTP-14748","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 7.3.3 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-7-3-3"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Correct ssl:prf/5 to use the negotiated cipher suite's prf function in\n  ssl:prf/5 instead of the default prf.\n\n  Own Id: OTP-13546\n\n- Timeouts may have the value 0, guards have been corrected to allow this\n\n  Own Id: OTP-13635\n\n- Change of internal handling of hash sign pairs as the used one enforced to\n  much restrictions making some valid combinations unavailable.\n\n  Own Id: OTP-13670\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 7.3.3.0.1 - SSL Release Notes","doc":"##","ref":"notes.html#ssl-7-3-3-0-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- An erlang TLS server configured with cipher suites using rsa key exchange, may\n  be vulnerable to an Adaptive Chosen Ciphertext attack (AKA Bleichenbacher\n  attack) against RSA, which when exploited, may result in plaintext recovery of\n  encrypted messages and/or a Man-in-the-middle (MiTM) attack, despite the\n  attacker not having gained access to the server’s private key itself.\n  [CVE-2017-1000385](https://nvd.nist.gov/vuln/detail/CVE-2017-1000385)\n\n  Exploiting this vulnerability to perform plaintext recovery of encrypted\n  messages will, in most practical cases, allow an attacker to read the\n  plaintext only after the session has completed. Only TLS sessions established\n  using RSA key exchange are vulnerable to this attack.\n\n  Exploiting this vulnerability to conduct a MiTM attack requires the attacker\n  to complete the initial attack, which may require thousands of server\n  requests, during the handshake phase of the targeted session within the window\n  of the configured handshake timeout. This attack may be conducted against any\n  TLS session using RSA signatures, but only if cipher suites using RSA key\n  exchange are also enabled on the server. The limited window of opportunity,\n  limitations in bandwidth, and latency make this attack significantly more\n  difficult to execute.\n\n  RSA key exchange is enabled by default although least prioritized if server\n  order is honored. For such a cipher suite to be chosen it must also be\n  supported by the client and probably the only shared cipher suite.\n\n  Captured TLS sessions encrypted with ephemeral cipher suites (DHE or ECDHE)\n  are not at risk for subsequent decryption due to this vulnerability.\n\n  As a workaround if default cipher suite configuration was used you can\n  configure the server to not use vulnerable suites with the ciphers option like\n  this:\n\n  `{ciphers, [Suite || Suite <- ssl:cipher_suites(), element(1,Suite) =/= rsa]}`\n\n  that is your code will look somethingh like this:\n\n  `ssl:listen(Port, [{ciphers, [Suite || Suite <- ssl:cipher_suites(), element(1,S) =/= rsa]} | Options]).`\n\n  Thanks to Hanno Böck, Juraj Somorovsky and Craig Young for reporting this\n  vulnerability.\n\n  Own Id: OTP-14748\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Create a little randomness in sending of session invalidation messages, to\n  mitigate load when whole table is invalidated.\n\n  Own Id: OTP-13490","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 7.3.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-7-3-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Correct cipher suites conversion and guard expression. Caused problems with\n  GCM cipher suites and client side option to set signature_algorithms extension\n  values.\n\n  Own Id: OTP-13525","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 7.3.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-7-3-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Corrections to cipher suite handling using the 3 and 4 tuple format in\n  addition to commit 89d7e21cf4ae988c57c8ef047bfe85127875c70c\n\n  Own Id: OTP-13511\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Make values for the TLS-1.2 signature_algorithms extension configurable\n\n  Own Id: OTP-13261","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 7.3 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-7-3"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Make sure there is only one poller validator at a time for validating the\n  session cache.\n\n  Own Id: OTP-13185\n\n- A timing related issue could cause ssl to hang, especially happened with newer\n  versions of OpenSSL in combination with ECC ciphers.\n\n  Own Id: OTP-13253\n\n- Work around a race condition in the TLS distribution start.\n\n  Own Id: OTP-13268\n\n- Big handshake messages are now correctly fragmented in the TLS record layer.\n\n  Own Id: OTP-13306\n\n- Improve portability of ECC tests in Crypto and SSL for \"exotic\" OpenSSL\n  versions.\n\n  Own Id: OTP-13311\n\n- Certificate extensions marked as critical are ignored when using verify_none\n\n  Own Id: OTP-13377\n\n- If a certificate doesn't contain a CRL Distribution Points extension, and the\n  relevant CRL is not in the cache, and the `crl_check` option is not set to\n  `best_effort` , the revocation check should fail.\n\n  Own Id: OTP-13378\n\n- Enable TLS distribution over IPv6\n\n  Own Id: OTP-13391\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Improve error reporting for TLS distribution\n\n  Own Id: OTP-13219\n\n- Include options from connect, listen and accept in\n  `connection_information/1,2`\n\n  Own Id: OTP-13232\n\n- Allow adding extra options for outgoing TLS distribution connections, as\n  supported for plain TCP connections.\n\n  Own Id: OTP-13285\n\n- Use loopback as server option in TLS-distribution module\n\n  Own Id: OTP-13300\n\n- Verify certificate signature against original certificate binary.\n\n  This avoids bugs due to encoding errors when re-encoding a decode certificate.\n  As there exists several decode step and using of different ASN.1 specification\n  this is a risk worth avoiding.\n\n  Own Id: OTP-13334\n\n- Use `application:ensure_all_started/2` instead of hard-coding dependencies\n\n  Own Id: OTP-13363","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 7.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-7-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Honor distribution port range options\n\n  Own Id: OTP-12838\n\n- Correct supervisor specification in TLS distribution.\n\n  Own Id: OTP-13134\n\n- Correct cache timeout\n\n  Own Id: OTP-13141\n\n- Avoid crash and restart of ssl process when key file does not exist.\n\n  Own Id: OTP-13144\n\n- Enable passing of raw socket options on the format \\{raw,_,_,\\_\\} to the\n  underlying socket.\n\n  Own Id: OTP-13166\n\n- Hibernation with small or a zero timeout will now work as expected\n\n  Own Id: OTP-13189\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Add upper limit for session cache, configurable on ssl application level.\n\n  If upper limit is reached, invalidate the current cache entries, e.i the\n  session lifetime is the max time a session will be kept, but it may be\n  invalidated earlier if the max limit for the table is reached. This will keep\n  the ssl manager process well behaved, not exhusting memory. Invalidating the\n  entries will incrementally empty the cache to make room for fresh sessions\n  entries.\n\n  Own Id: OTP-12392\n\n- Use new time functions to measure passed time.\n\n  Own Id: OTP-12457\n\n- Improved error handling in TLS distribution\n\n  Own Id: OTP-13142\n\n- Distribution over TLS now honors the nodelay distribution flag\n\n  Own Id: OTP-13143","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 7.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-7-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Add DER encoded ECPrivateKey as valid input format for key option.\n\n  Own Id: OTP-12974\n\n- Correct return value of default session callback module\n\n  This error had the symptom that the client check for unique session would\n  always fail, potentially making the client session table grow a lot and\n  causing long setup times.\n\n  Own Id: OTP-12980\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Add possibility to downgrade an SSL/TLS connection to a tcp connection, and\n  give back the socket control to a user process.\n\n  This also adds the possibility to specify a timeout to the ssl:close function.\n\n  Own Id: OTP-11397\n\n- Add application setting to be able to change fatal alert shutdown timeout,\n  also shorten the default timeout. The fatal alert timeout is the number of\n  milliseconds between sending of a fatal alert and closing the connection.\n  Waiting a little while improves the peers chances to properly receiving the\n  alert so it may shutdown gracefully.\n\n  Own Id: OTP-12832","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 7.0 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-7-0"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Ignore signature_algorithm (TLS 1.2 extension) sent to TLS 1.0 or TLS 1.1\n  server\n\n  Own Id: OTP-12670\n\n- Improve error handling in TLS distribution module to avoid lingering sockets.\n\n  Own Id: OTP-12799 Aux Id: Tom Briden\n\n- Add option \\{client_renegotiation, boolean()\\} option to the server-side of\n  the SSL application.\n\n  Own Id: OTP-12815\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Add new API functions to handle CRL-verification\n\n  Own Id: OTP-10362 Aux Id: kunagi-215 \\[126]\n\n- Remove default support for SSL-3.0, due to Poodle vunrability in protocol\n  specification.\n\n  Add padding check for TLS-1.0 to remove Poodle vunrability from TLS 1.0, also\n  add the option padding_check. This option only affects TLS-1.0 connections and\n  if set to false it disables the block cipher padding check to be able to\n  interoperate with legacy software.\n\n  Remove default support for RC4 cipher suites, as they are consider too weak.\n\n  \\*** POTENTIAL INCOMPATIBILITY \\***\n\n  Own Id: OTP-12390\n\n- Add support for TLS ALPN (Application-Layer Protocol Negotiation) extension.\n\n  Own Id: OTP-12580\n\n- Add SNI (Server Name Indication) support for the server side.\n\n  Own Id: OTP-12736","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 6.0.1.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-6-0-1-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Gracefully ignore proprietary hash_sign algorithms\n\n  Own Id: OTP-12829","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 6.0.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-6-0-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Terminate gracefully when receiving bad input to premaster secret calculation\n\n  Own Id: OTP-12783","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 6.0 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-6-0"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Exclude self-signed trusted anchor certificates from certificate prospective\n  certification path according to RFC 3280.\n\n  This will avoid some unnecessary certificate processing.\n\n  Own Id: OTP-12449\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Separate client and server session cache internally.\n\n  Avoid session table growth when client starts many connections in such a\n  manner that many connections are started before session reuse is possible.\n  Only save a new session in client if there is no equivalent session already\n  stored.\n\n  Own Id: OTP-11365\n\n- The PEM cache is now validated by a background process, instead of always\n  keeping it if it is small enough and clearing it otherwise. That strategy\n  required that small caches where cleared by API function if a file changes on\n  disk.\n\n  However export the API function to clear the cache as it may still be useful.\n\n  Own Id: OTP-12391\n\n- Add padding check for TLS-1.0 to remove Poodle vulnerability from TLS 1.0,\n  also add the option padding_check. This option only affects TLS-1.0\n  connections and if set to false it disables the block cipher padding check to\n  be able to interoperate with legacy software.\n\n  \\*** POTENTIAL INCOMPATIBILITY \\***\n\n  Own Id: OTP-12420\n\n- Add support for TLS_FALLBACK_SCSV used to prevent undesired TLS version\n  downgrades. If used by a client that is vulnerable to the POODLE attack, and\n  the server also supports TLS_FALLBACK_SCSV, the attack can be prevented.\n\n  Own Id: OTP-12458","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 5.3.8 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-5-3-8"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Make sure the clean rule for ssh, ssl, eunit and otp_mibs actually removes\n  generated files.\n\n  Own Id: OTP-12200\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Change code to reflect that state data may be secret to avoid breaking\n  dialyzer contracts.\n\n  Own Id: OTP-12341","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 5.3.7 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-5-3-7"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Handle the fact that servers may send an empty SNI extension to the client.\n\n  Own Id: OTP-12198","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 5.3.6 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-5-3-6"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Corrected handling of ECC certificates, there where several small issues with\n  the handling of such certificates in the ssl and public_key application. Now\n  ECC signed ECC certificates shall work and not only RSA signed ECC\n  certificates.\n\n  Own Id: OTP-12026\n\n- Check that the certificate chain ends with a trusted ROOT CA e.i. a\n  self-signed certificate, but provide an option partial_chain to enable the\n  application to define an intermediat CA as trusted.\n\n  Own Id: OTP-12149\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Add decode functions for SNI (Server Name Indication)\n\n  Own Id: OTP-12048","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 5.3.5 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-5-3-5"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- ssl:recv now returns \\{error, einval\\} if applied to a non passive socket, the\n  same as gen_tcp:recv.\n\n  Thanks to Danil Zagoskin for reporting this issue\n\n  Own Id: OTP-11878\n\n- Corrected handling of default values for signature_algorithms extension in\n  TLS-1.2 and corresponding values used in previous versions that does not\n  support this extension.\n\n  Thanks to Danil Zagoskin\n\n  Own Id: OTP-11886\n\n- Handle socket option inheritance when pooling of accept sockets is used\n\n  Own Id: OTP-11897\n\n- Make sure that the list of versions, possibly supplied in the versions option,\n  is not order dependent.\n\n  Thanks to Ransom Richardson for reporting this issue\n\n  Own Id: OTP-11912\n\n- Reject connection if the next_protocol message is sent twice.\n\n  Own Id: OTP-11926\n\n- Correct options handling when ssl:ssl_accept/3 is called with new ssl options\n  after calling ssl:listen/2\n\n  Own Id: OTP-11950\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Gracefully handle unknown alerts\n\n  Thanks to Atul Atri for reporting this issue\n\n  Own Id: OTP-11874\n\n- Gracefully ignore cipher suites sent by client not supported by the SSL/TLS\n  version that the client has negotiated.\n\n  Thanks to Danil Zagoskin for reporting this issue\n\n  Own Id: OTP-11875\n\n- Gracefully handle structured garbage, i.e a client sends some garbage in a ssl\n  record instead of a valid fragment.\n\n  Thanks to Danil Zagoskin\n\n  Own Id: OTP-11880\n\n- Gracefully handle invalid alerts\n\n  Own Id: OTP-11890\n\n- Generalize handling of default ciphers\n\n  Thanks to Andreas Schultz\n\n  Own Id: OTP-11966\n\n- Make sure change cipher spec is correctly handled\n\n  Own Id: OTP-11975","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 5.3.4 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-5-3-4"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Fix incorrect dialyzer spec and types, also enhance documentation.\n\n  Thanks to Ayaz Tuncer.\n\n  Own Id: OTP-11627\n\n- Fix possible mismatch between SSL/TLS version and default ciphers. Could\n  happen when you specified SSL/TLS-version in optionlist to listen or accept.\n\n  Own Id: OTP-11712\n\n- Application upgrade (appup) files are corrected for the following\n  applications:\n\n  `asn1, common_test, compiler, crypto, debugger, dialyzer, edoc, eldap, erl_docgen, et, eunit, gs, hipe, inets, observer, odbc, os_mon, otp_mibs, parsetools, percept, public_key, reltool, runtime_tools, ssh, syntax_tools, test_server, tools, typer, webtool, wx, xmerl`\n\n  A new test utility for testing appup files is added to test_server. This is\n  now used by most applications in OTP.\n\n  (Thanks to Tobias Schlager)\n\n  Own Id: OTP-11744\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Moved elliptic curve definition from the crypto NIF/OpenSSL into Erlang code,\n  adds the RFC-5639 brainpool curves and makes TLS use them (RFC-7027).\n\n  Thanks to Andreas Schultz\n\n  Own Id: OTP-11578\n\n- Unicode adaptations\n\n  Own Id: OTP-11620\n\n- Added option honor_cipher_order. This instructs the server to prefer its own\n  cipher ordering rather than the client's and can help protect against things\n  like BEAST while maintaining compatibility with clients which only support\n  older ciphers.\n\n  Thanks to Andrew Thompson for the implementation, and Andreas Schultz for the\n  test cases.\n\n  Own Id: OTP-11621\n\n- Replace boolean checking in validate_option with is_boolean guard.\n\n  Thanks to Andreas Schultz.\n\n  Own Id: OTP-11634\n\n- Some function specs are corrected or moved and some edoc comments are\n  corrected in order to allow use of edoc. (Thanks to Pierre Fenoll)\n\n  Own Id: OTP-11702\n\n- Correct clean up of certificate database when certs are inputted in pure DER\n  format.The incorrect code could cause a memory leek when certs where inputted\n  in DER. Thanks to Bernard Duggan for reporting this.\n\n  Own Id: OTP-11733\n\n- Improved documentation of the cacertfile option\n\n  Own Id: OTP-11759 Aux Id: seq12535\n\n- Avoid next protocol negotiation failure due to incorrect option format.\n\n  Own Id: OTP-11760\n\n- Handle v1 CRLs, with no extensions and fixes issues with IDP (Issuing\n  Distribution Point) comparison during CRL validation.\n\n  Thanks to Andrew Thompson\n\n  Own Id: OTP-11761\n\n- Server now ignores client ECC curves that it does not support instead of\n  crashing.\n\n  Thanks to Danil Zagoskin for reporting the issue and suggesting a solution.\n\n  Own Id: OTP-11780\n\n- Handle SNI (Server Name Indication) alert unrecognized_name and gracefully\n  deal with unexpected alerts.\n\n  Thanks to Masatake Daimon for reporting this.\n\n  Own Id: OTP-11815\n\n- Add possibility to specify ssl options when calling ssl:ssl_accept\n\n  Own Id: OTP-11837","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 5.3.3 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-5-3-3"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Add missing validation of the server_name_indication option and test for its\n  explicit use. It was not possible to set or disable the default\n  server_name_indication as the validation of the option was missing.\n\n  Own Id: OTP-11567\n\n- Elliptic curve selection in server mode now properly selects a curve suggested\n  by the client, if possible, and the fallback alternative is changed to a more\n  widely supported curve.\n\n  Own Id: OTP-11575\n\n- Bug in the TLS hello extension handling caused the server to behave as it did\n  not understand secure renegotiation.\n\n  Own Id: OTP-11595","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 5.3.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-5-3-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Honors the clients advertised support of elliptic curves and no longer sends\n  incorrect elliptic curve extension in server hello.\n\n  Own Id: OTP-11370\n\n- Fix initialization of DTLS fragment reassembler, in previously contributed\n  code, for future support of DTLS . Thanks to Andreas Schultz.\n\n  Own Id: OTP-11376\n\n- Corrected type error in client_preferred_next_protocols documentation. Thanks\n  to Julien Barbot.\n\n  Own Id: OTP-11457\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- TLS code has been refactored to prepare for future DTLS support. Also some\n  DTLS code is in place but not yet runnable, some of it contributed by Andreas\n  Schultz and some of it written by the OTP team. Thanks to to Andreas for his\n  participation.\n\n  Own Id: OTP-11292\n\n- Remove extraneous dev debug code left in the close function. Thanks to Ken\n  Key.\n\n  Own Id: OTP-11447\n\n- Add SSL Server Name Indication (SNI) client support. Thanks to Julien Barbot.\n\n  Own Id: OTP-11460","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 5.3.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-5-3-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Setopts during renegotiation caused the renegotiation to be unsuccessful.\n\n  If calling setopts during a renegotiation the FSM state might change during\n  the handling of the setopts messages, this is now handled correctly.\n\n  Own Id: OTP-11228\n\n- Now handles signature_algorithm field in digitally_signed properly with proper\n  defaults. Prior to this change some elliptic curve cipher suites could fail\n  reporting the error \"bad certificate\".\n\n  Own Id: OTP-11229\n\n- The code emulating the inet header option was changed in the belief that it\n  made it inet compatible. However the testing is a bit hairy as the inet option\n  is actually broken, now the tests are corrected and the header option should\n  work in the same broken way as inet again, preferably use the bitsyntax\n  instead.\n\n  Own Id: OTP-11230\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Make the ssl manager name for erlang distribution over SSL/TLS relative to the\n  module name of the ssl_manager.\n\n  This can be beneficial when making tools that rename modules for internal\n  processing in the tool.\n\n  Own Id: OTP-11255\n\n- Add documentation regarding log_alert option.\n\n  Own Id: OTP-11271","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 5.3 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-5-3"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Honor the versions option to ssl:connect and ssl:listen.\n\n  Own Id: OTP-10905\n\n- Next protocol negotiation with reused sessions will now succeed\n\n  Own Id: OTP-10909\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Add support for PSK (Pre Shared Key) and SRP (Secure Remote Password) cipher\n  suites, thanks to Andreas Schultz.\n\n  Own Id: OTP-10450 Aux Id: kunagi-269 \\[180]\n\n- Fix SSL Next Protocol Negotiation documentation. Thanks to Julien Barbot.\n\n  Own Id: OTP-10955\n\n- Fix ssl_connection to support reading proxy/chain certificates. Thanks to\n  Valentin Kuznetsov.\n\n  Own Id: OTP-10980\n\n- Integrate elliptic curve contribution from Andreas Schultz\n\n  In order to be able to support elliptic curve cipher suites in SSL/TLS,\n  additions to handle elliptic curve infrastructure has been added to public_key\n  and crypto.\n\n  This also has resulted in a rewrite of the crypto API to gain consistency and\n  remove unnecessary overhead. All OTP applications using crypto has been\n  updated to use the new API.\n\n  Impact: Elliptic curve cryptography (ECC) offers equivalent security with\n  smaller key sizes than other public key algorithms. Smaller key sizes result\n  in savings for power, memory, bandwidth, and computational cost that make ECC\n  especially attractive for constrained environments.\n\n  Own Id: OTP-11009","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 5.2.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-5-2-1"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Transport callback handling is changed so that gen_tcp is treated as a special\n  case where inet will be called directly for functions such as setopts, as\n  gen_tcp does not have its own setopts. This will enable users to use the\n  transport callback for other customizations such as websockets.\n\n  Own Id: OTP-10847\n\n- Follow up to OTP-10451 solved in ssl-5.2 R16A. Make sure format_error return\n  good strings. Replace confusing legacy atoms with more descriptive atoms.\n\n  Own Id: OTP-10864","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 5.1.2.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-5-1-2-1"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Make log_alert configurable as option in ssl, SSLLogLevel added as option to\n  inets conf file\n\n  Own Id: OTP-11259","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 5.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-5-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- SSL: TLS 1.2, advertise sha224 support, thanks to Andreas Schultz.\n\n  Own Id: OTP-10586\n\n- If an ssl server is restarted with new options and a client tries to reuse a\n  session the server must make sure that it complies to the new options before\n  agreeing to reuse it.\n\n  Own Id: OTP-10595\n\n- Now handles cleaning of CA-certificate database correctly so that there will\n  be no memory leek, bug was introduced in ssl- 5.1 when changing implementation\n  to increase parallel execution.\n\n  Impact: Improved memory usage, especially if you have many different\n  certificates and upgrade tcp-connections to TLS-connections.\n\n  Own Id: OTP-10710\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Support Next Protocol Negotiation in TLS, thanks to Ben Murphy for the\n  contribution.\n\n  Impact: Could give performance benefit if used as it saves a round trip.\n\n  Own Id: OTP-10361 Aux Id: kunagi-214 \\[125]\n\n- TLS 1.2 will now be the default TLS version if sufficient crypto support is\n  available otherwise TLS 1.1 will be default.\n\n  Impact: A default TLS connection will have higher security and hence it may be\n  perceived as slower then before.\n\n  Own Id: OTP-10425 Aux Id: kunagi-275 \\[186]\n\n- It is now possible to call controlling_process on a listen socket, same as in\n  gen_tcp.\n\n  Own Id: OTP-10447\n\n- Remove filter mechanisms that made error messages backwards compatible with\n  old ssl but hid information about what actually happened.\n\n  This does not break the documented API however other reason terms may be\n  returned, so code that matches on the reason part of \\{error, Reason\\} may\n  fail.\n\n  \\*** POTENTIAL INCOMPATIBILITY \\***\n\n  Own Id: OTP-10451 Aux Id: kunagi-270 \\[181]\n\n- Added missing dependencies to Makefile\n\n  Own Id: OTP-10594\n\n- Removed deprecated function ssl:pid/0, it has been pointless since R14 but has\n  been keep for backwards compatibility.\n\n  \\*** POTENTIAL INCOMPATIBILITY \\***\n\n  Own Id: OTP-10613 Aux Id: kunagi-331 \\[242]\n\n- Refactor to simplify addition of key exchange methods, thanks to Andreas\n  Schultz.\n\n  Own Id: OTP-10709","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 5.1.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-5-1-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- ssl:ssl_accept/2 timeout is no longer ignored\n\n  Own Id: OTP-10600","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 5.1.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-5-1-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- ssl:recv/3 could \"loose\" data when the timeout occurs. If the timeout in\n  ssl:connect or ssl:ssl_accept expired the ssl connection process was not\n  terminated as it should, this due to gen_fsm:send_all_state_event timeout is a\n  client side time out. These timouts are now handled by the gen_fsm-procss\n  instead.\n\n  Own Id: OTP-10569\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Better termination handling that avoids hanging.\n\n  Own Id: OTP-10574","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 5.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-5-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Sometimes the client process could receive an extra \\{error, closed\\} message\n  after ssl:recv had returned \\{error, closed\\}.\n\n  Own Id: OTP-10118\n\n- ssl v3 alert number 41 (no_certificate_RESERVED) is now recognized\n\n  Own Id: OTP-10196\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Experimental support for TLS 1.1 is now available, will be officially\n  supported from OTP-R16. Thanks to Andreas Schultz for implementing the first\n  version.\n\n  Own Id: OTP-8871\n\n- Experimental support for TLS 1.2 is now available, will be officially\n  supported from OTP-R16. Thanks to Andreas Schultz for implementing the first\n  version.\n\n  Own Id: OTP-8872\n\n- Removed some bottlenecks increasing the applications parallelism especially\n  for the client side.\n\n  Own Id: OTP-10113\n\n- Workaround for handling certificates that wrongly encode X509countryname in\n  utf-8 when the actual value is a valid ASCCI value of length 2. Such\n  certificates are accepted by many browsers such as Chrome and Fierfox so for\n  interoperability reasons we will too.\n\n  Own Id: OTP-10222","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 5.0.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-5-0-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Robustness and improvement to distribution over SSL\n\n  Fix a bug where ssl_tls_dist_proxy would crash at caller timeout. Fix a bug\n  where a timeout from the SSL layer would block the distribution indefinitely.\n  Run the proxy exclusively on the loopback interface. (Thanks to Paul Guyot)\n\n  Own Id: OTP-9915\n\n- Fix setup loop of SSL TLS dist proxy\n\n  Fix potential leak of processes waiting indefinitely for data from closed\n  sockets during socket setup phase. (Thanks to Paul Guyot)\n\n  Own Id: OTP-9916\n\n- Correct spelling of registered (Thanks to Richard Carlsson)\n\n  Own Id: OTP-9925\n\n- Added TLS PRF function to the SSL API for generation of additional key\n  material from a TLS session. (Thanks to Andreas Schultz)\n\n  Own Id: OTP-10024","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 5.0 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-5-0"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Invalidation handling of sessions could cause the time_stamp field in the\n  session record to be set to undefined crashing the session clean up process.\n  This did not affect the connections but would result in that the session table\n  would grow.\n\n  Own Id: OTP-9696 Aux Id: seq11947\n\n- Changed code to use ets:foldl and throw instead of ets:next traversal,\n  avoiding the need to explicitly call ets:safe_fixtable. It was possible to get\n  a badarg-crash under special circumstances.\n\n  Own Id: OTP-9703 Aux Id: seq11947\n\n- Send ssl_closed notification to active ssl user when a tcp error occurs.\n\n  Own Id: OTP-9734 Aux Id: seq11946\n\n- If a passive receive was ongoing during a renegotiation the process evaluating\n  ssl:recv could be left hanging for ever.\n\n  Own Id: OTP-9744\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Support for the old ssl implementation is dropped and the code is removed.\n\n  Own Id: OTP-7048\n\n- The erlang distribution can now be run over the new ssl implementation. All\n  options can currently not be set but it is enough to replace to old ssl\n  implementation.\n\n  Own Id: OTP-7053\n\n- public_key, ssl and crypto now supports PKCS-8\n\n  Own Id: OTP-9312\n\n- Implements a CBC timing attack counter measure. Thanks to Andreas Schultz for\n  providing the patch.\n\n  Own Id: OTP-9683\n\n- Mitigates an SSL/TLS Computational DoS attack by disallowing the client to\n  renegotiate many times in a row in a short time interval, thanks to Tuncer\n  Ayaz for alerting us about this.\n\n  Own Id: OTP-9739\n\n- Implements the 1/n-1 splitting countermeasure to the Rizzo Duong BEAST attack,\n  affects SSL 3.0 and TLS 1.0. Thanks to Tuncer Ayaz for alerting us about this.\n\n  Own Id: OTP-9750","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 4.1.6 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-4-1-6"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- replace \"a ssl\" with \"an ssl\" reindent pkix_path_validation/3 Trivial\n  documentation fixes (Thanks to Christian von Roques )\n\n  Own Id: OTP-9464\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Adds function clause to avoid denial of service attack. Thanks to Vinod for\n  reporting this vulnerability.\n\n  Own Id: OTP-9364\n\n- Error handling code now takes care of inet:getopts/2 and inets:setopts/2\n  crashes. Thanks to Richard Jones for reporting this.\n\n  Own Id: OTP-9382\n\n- Support explicit use of packet option httph and httph_bin\n\n  Own Id: OTP-9461\n\n- Decoding of hello extensions could fail to come to the correct conclusion due\n  to an error in a binary match pattern. Thanks to Ben Murphy.\n\n  Own Id: OTP-9589","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 4.1.5 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-4-1-5"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Calling gen_tcp:connect with option \\{ip, \\{127,0,0,1\\}\\} results in an exit\n  with reason badarg. Neither SSL nor INETS This was not caught, resulting in\n  crashes with incomprehensible reasons.\n\n  Own Id: OTP-9289 Aux Id: seq11845","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 4.1.3 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-4-1-3"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Fixed error in cache-handling fix from ssl-4.1.2\n\n  Own Id: OTP-9018 Aux Id: seq11739\n\n- Verification of a critical extended_key_usage-extension corrected\n\n  Own Id: OTP-9029 Aux Id: seq11541","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 4.1.2 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-4-1-2"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- The ssl application caches certificate files, it will now invalidate cache\n  entries if the diskfile is changed.\n\n  Own Id: OTP-8965 Aux Id: seq11739\n\n- Now runs the terminate function before returning from the call made by\n  ssl:close/1, as before the caller of ssl:close/1 could get problems with the\n  reuseaddr option.\n\n  Own Id: OTP-8992","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"SSL 4.1.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-4-1-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- Correct handling of client certificate verify message When checking the client\n  certificate verify message the server used the wrong algorithm identifier to\n  determine the signing algorithm, causing a function clause error in the\n  public_key application when the key-exchange algorithm and the public key\n  algorithm of the client certificate happen to differ.\n\n  Own Id: OTP-8897\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- For testing purposes ssl now also support some anonymous cipher suites when\n  explicitly configured to do so.\n\n  Own Id: OTP-8870\n\n- Sends an error alert instead of crashing if a crypto function for the selected\n  cipher suite fails.\n\n  Own Id: OTP-8930 Aux Id: seq11720","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 4.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-4-1"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Updated ssl to ignore CA certs that violate the asn1-spec for a certificate,\n  and updated public key asn1 spec to handle inherited DSS-params.\n\n  Own Id: OTP-7884\n\n- Changed ssl implementation to retain backwards compatibility for old option\n  \\{verify, 0\\} that shall be equivalent to \\{verify, verify_none\\}, also\n  separate the cases unknown ca and selfsigned peer cert, and restored return\n  value of deprecated function public_key:pem_to_der/1.\n\n  Own Id: OTP-8858\n\n- Changed the verify fun so that it differentiate between the peer certificate\n  and CA certificates by using valid_peer or valid as the second argument to the\n  verify fun. It may not always be trivial or even possible to know when the\n  peer certificate is reached otherwise.\n\n  \\*** POTENTIAL INCOMPATIBILITY \\***\n\n  Own Id: OTP-8873","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 4.0.1 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-4-0-1"},{"type":"extras","title":"Fixed Bugs and Malfunctions - SSL Release Notes","doc":"- The server now verifies the client certificate verify message correctly,\n  instead of causing a case-clause.\n\n  Own Id: OTP-8721\n\n- The client hello message now always include ALL available cipher suites (or\n  those specified by the ciphers option). Previous implementation would filter\n  them based on the client certificate key usage extension (such filtering only\n  makes sense for the server certificate).\n\n  Own Id: OTP-8772\n\n- Fixed handling of the option \\{mode, list\\} that was broken for some packet\n  types for instance line.\n\n  Own Id: OTP-8785\n\n- Empty packets were not delivered to the client.\n\n  Own Id: OTP-8790\n\n- Building in a source tree without prebuilt platform independent build results\n  failed on the SSL examples when:\n\n  - cross building. This has been solved by not building the SSL examples during\n    a cross build.\n  - building on Windows.\n\n  Own Id: OTP-8791\n\n- Fixed a handshake error which occurred on some ssl implementations.\n\n  Own Id: OTP-8793\n\n#","ref":"notes.html#fixed-bugs-and-malfunctions"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- Revise the public_key API - Cleaned up and documented the public_key API to\n  make it useful for general use, also changed ssl to use the new API.\n\n  Own Id: OTP-8722\n\n- Added support for inputing certificates and keys directly in DER format these\n  options will override the pem-file options if specified.\n\n  Own Id: OTP-8723\n\n- To gain interoperability ssl will not check for padding errors when using TLS\n  1.0. It is first in TLS 1.1 that checking the padding is an requirement.\n\n  Own Id: OTP-8740\n\n- Changed the semantics of the verify_fun option in the ssl-application so that\n  it takes care of both application handling of path validation errors and\n  verification of application specific extensions. This means that it is now\n  possible for the server application in verify_peer mode to handle path\n  validation errors. This change moved some functionality earlier in ssl to the\n  public_key application.\n\n  Own Id: OTP-8770\n\n- Added the functionality so that the verification fun will be called when a\n  certificate is considered valid by the path validation to allow access to each\n  certificate in the path to the user application. Also try to verify\n  subject-AltName, if unable to verify it let the application verify it.\n\n  Own Id: OTP-8825","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"SSL 4.0 - SSL Release Notes","doc":"#","ref":"notes.html#ssl-4-0"},{"type":"extras","title":"Improvements and New Features - SSL Release Notes","doc":"- New ssl now support client/server-certificates signed by dsa keys.\n\n  Own Id: OTP-8587\n\n- Ssl has now switched default implementation and removed deprecated certificate\n  handling. All certificate handling is done by the public_key application.\n\n  Own Id: OTP-8695","ref":"notes.html#improvements-and-new-features"},{"type":"extras","title":"Introduction","doc":"# Introduction","ref":"ssl_introduction.html"},{"type":"extras","title":"Purpose - Introduction","doc":"Transport Layer Security (TLS) and its predecessor, the Secure Sockets Layer\n(SSL), are cryptographic protocols designed to provide communications security\nover a computer network. The protocols use X.509 certificates and hence public\nkey (asymmetric) cryptography to authenticate the counterpart with whom they\ncommunicate, and to exchange a symmetric key for payload encryption. The\nprotocol provides data/message confidentiality (encryption), integrity (through\nmessage authentication code checks) and host verification (through certificate\npath validation). DTLS (Datagram Transport Layer Security) that is based on TLS\nbut datagram oriented instead of stream oriented.","ref":"ssl_introduction.html#purpose"},{"type":"extras","title":"Prerequisites - Introduction","doc":"It is assumed that the reader is familiar with the Erlang programming language,\nthe concepts of OTP, and has a basic understanding of TLS/DTLS.","ref":"ssl_introduction.html#prerequisites"},{"type":"extras","title":"TLS/DTLS and TLS Predecessor, SSL","doc":"# TLS/DTLS and TLS Predecessor, SSL\n\nThe Erlang SSL application implements the TLS/DTLS protocol for the currently\nsupported versions, see the `m:ssl` manual page.\n\nBy default TLS is run over the TCP/IP protocol even though you can plug in any\nother reliable transport protocol with the same Application Programming\nInterface (API) as the `gen_tcp` module in Kernel. DTLS is by default run over\nUDP/IP, which means that application data has no delivery guarantees. Other\ntransports, such as SCTP, may be supported in future releases.\n\nIf a client and a server wants to use an upgrade mechanism, such as defined by\nRFC 2817, to upgrade a regular TCP/IP connection to a TLS connection, this is\nsupported by the Erlang SSL application API. This can be useful for, for\nexample, supporting HTTP and HTTPS on the same port and implementing virtual\nhosting. Note this is a TLS feature only.","ref":"ssl_protocol.html"},{"type":"extras","title":"Security Overview - TLS/DTLS and TLS Predecessor, SSL","doc":"To achieve authentication and privacy, the client and server perform a TLS/DTLS\nhandshake procedure before transmitting or receiving any data. During the\nhandshake, they agree on a protocol version and cryptographic algorithms,\ngenerate shared secrets using public key cryptographies, and optionally\nauthenticate each other with digital certificates.","ref":"ssl_protocol.html#security-overview"},{"type":"extras","title":"Data Privacy and Integrity - TLS/DTLS and TLS Predecessor, SSL","doc":"A _symmetric key_ algorithm has one key only. The key is used for both\nencryption and decryption. These algorithms are fast, compared to public key\nalgorithms (using two keys, one public and one private) and are therefore\ntypically used for encrypting bulk data.\n\nThe keys for the symmetric encryption are generated uniquely for each connection\nand are based on a secret negotiated in the TLS/DTLS handshake.\n\nThe TLS/DTLS handshake protocol and data transfer is run on top of the TLS/DTLS\nRecord Protocol, which uses a keyed-hash Message Authenticity Code (MAC), or a\nHash-based MAC (HMAC), to protect the message data integrity. From the TLS RFC:\n\"A Message Authentication Code is a one-way hash computed from a message and\nsome secret data. It is difficult to forge without knowing the secret data. Its\npurpose is to detect if the message has been altered.\"","ref":"ssl_protocol.html#data-privacy-and-integrity"},{"type":"extras","title":"Digital Certificates - TLS/DTLS and TLS Predecessor, SSL","doc":"A certificate is similar to a driver's license, or a passport. The holder of the\ncertificate is called the _subject_. The certificate is signed with the private\nkey of the issuer of the certificate. A chain of trust is built by having the\nissuer in its turn being certified by another certificate, and so on, until you\nreach the so called root certificate, which is self-signed, that is, issued by\nitself.\n\nCertificates are issued by Certification Authorities (CAs) only. A handful of\ntop CAs in the world issue root certificates. You can examine several of these\ncertificates by clicking through the menus of your web browser.","ref":"ssl_protocol.html#digital-certificates"},{"type":"extras","title":"Peer Authentication - TLS/DTLS and TLS Predecessor, SSL","doc":"Authentication of the peer is done by public key path validation as defined in\nRFC 3280. This means basically the following:\n\n- Each certificate in the certificate chain is issued by the previous one.\n- The certificates attributes are valid.\n- The root certificate is a trusted certificate that is present in the trusted\n  certificate database kept by the peer.\n\nThe server always sends a certificate chain as part of the TLS handshake, but\nthe client only sends one if requested by the server. If the client does not\nhave an appropriate certificate, it can send an \"empty\" certificate to the\nserver.\n\nThe client can choose to accept some path evaluation errors, for example, a web\nbrowser can ask the user whether to accept an unknown CA root certificate. The\nserver, if it requests a certificate, does however not accept any path\nvalidation errors. It is configurable if the server is to accept or reject an\n\"empty\" certificate as response to a certificate request.","ref":"ssl_protocol.html#peer-authentication"},{"type":"extras","title":"TLS Sessions - PRE TLS-1.3 - TLS/DTLS and TLS Predecessor, SSL","doc":"From the TLS RFC: \"A TLS session is an association between a client and a\nserver. Sessions are created by the handshake protocol. Sessions define a set of\ncryptographic security parameters, which can be shared among multiple\nconnections. Sessions are used to avoid the expensive negotiation of new\nsecurity parameters for each connection.\"\n\nSession data is by default kept by the SSL application in a memory storage,\nhence session data is lost at application restart or takeover. Users can define\ntheir own callback module to handle session data storage if persistent data\nstorage is required. Session data is also invalidated when session database\nexceeds its limit or 24 hours after being saved (RFC max lifetime\nrecommendation). The amount of time the session data is to be saved can be\nconfigured.\n\nBy default the TLS/DTLS clients try to reuse an available session and by default\nthe TLS/DTLS servers agree to reuse sessions when clients ask for it. See also\n[Session Reuse Pre TLS-1.3](using_ssl.md#session-reuse-pre-tls-1-3)","ref":"ssl_protocol.html#tls-sessions-pre-tls-1-3"},{"type":"extras","title":"TLS-1.3 session tickets - TLS/DTLS and TLS Predecessor, SSL","doc":"In TLS 1.3 the session reuse is replaced by a new session tickets mechanism\nbased on the pre shared key concept. This mechanism also obsoletes the session\ntickets from RFC5077, not implemented by this application. See also\n[Session Tickets and Session Resumption in TLS-1.3](using_ssl.md#session-tickets-and-session-resumption-in-tls-1-3)","ref":"ssl_protocol.html#tls-1-3-session-tickets"},{"type":"extras","title":"Using SSL application API","doc":"# Using SSL application API\n\nTo see relevant version information for ssl, call `ssl:versions/0` .\n\nTo see all supported cipher suites, call\n[`ssl:cipher_suites(all, 'tlsv1.3')` ](`ssl:cipher_suites/2`). The available\ncipher suites for a connection depend on the TLS version and pre TLS-1.3 also on\nthe certificate. To see the default cipher suite list change `all` to `default`.\nNote that TLS 1.3 and previous versions do not have any cipher suites in common,\nfor listing cipher suites for a specific version use\n[`ssl:cipher_suites(exclusive, 'tlsv1.3')` ](`ssl:cipher_suites/2`). Specific\ncipher suites that you want your connection to use can also be specified.\nDefault is to use the strongest available.\n\nThe following sections shows small examples of how to set up client/server\nconnections using the Erlang shell. The returned value of the `sslsocket` is\nabbreviated with `[...]` as it can be fairly large and is opaque to the user\nexcept for the purpose of pattern matching.\n\n> ##","ref":"using_ssl.html"},{"type":"extras","title":"Note {: class=info } - Using SSL application API","doc":">\n> Note that client certificate verification is optional for the server and needs\n> additional conguration on both sides to work. The Certificate and keys, in the\n> examples, are provided using the [certs_keys](`t:ssl:certs_keys/0`) option\n> introduced in OTP-25.","ref":"using_ssl.html#note-class-info"},{"type":"extras","title":"Basic Client - Using SSL application API","doc":"```erlang\n 1 > ssl:start(), ssl:connect(\"google.com\", 443, [{verify, verify_peer},\n    {cacerts, public_key:cacerts_get()}]).\n   {ok,{sslsocket, [...]}}\n```","ref":"using_ssl.html#basic-client"},{"type":"extras","title":"Basic Connection - Using SSL application API","doc":"_Step 1:_ Start the server side:\n\n```erlang\n1 server> ssl:start().\nok\n```\n\n_Step 2:_ with alternative certificates, in this example the EDDSA certificate\nwill be preferred if TLS-1.3 is negotiated and the RSA certificate will always\nbe used for TLS-1.2 as it does not support the EDDSA algorithm:\n\n```erlang\n2 server> {ok, ListenSocket} =\nssl:listen(9999, [{certs_keys, [#{certfile => \"eddsacert.pem\",\n                                  keyfile => \"eddsakey.pem\"},\n\t\t\t        #{certfile => \"rsacert.pem\",\n                                  keyfile => \"rsakey.pem\",\n\t\t\t          password => \"foobar\"}\n\t\t\t       ]},{reuseaddr, true}]).\n{ok,{sslsocket, [...]}}\n```\n\n_Step 3:_ Do a transport accept on the TLS listen socket:\n\n```erlang\n3 server> {ok, TLSTransportSocket} = ssl:transport_accept(ListenSocket).\n{ok,{sslsocket, [...]}}\n```\n\n> ##","ref":"using_ssl.html#basic-connection"},{"type":"extras","title":"Note {: class=info } - Using SSL application API","doc":">\n> ssl:transport_accept/1 and ssl:handshake/2 are separate functions so that the\n> handshake part can be called in a new erlang process dedicated to handling the\n> connection\n\n_Step 4:_ Start the client side:\n\n```erlang\n1 client> ssl:start().\nok\n```\n\nBe sure to configure trusted certificates to use for server certificate\nverification.\n\n```erlang\n2 client> {ok, Socket} = ssl:connect(\"localhost\", 9999,\n      [{verify, verify_peer},\n      {cacertfile, \"cacerts.pem\"}, {active, once}], infinity).\n{ok,{sslsocket, [...]}}\n```\n\n_Step 5:_ Do the TLS handshake:\n\n```erlang\n4 server> {ok, Socket} = ssl:handshake(TLSTransportSocket).\n{ok,{sslsocket, [...]}}\n```\n\n> ##","ref":"using_ssl.html#note-class-info"},{"type":"extras","title":"Note {: class=info } - Using SSL application API","doc":">\n> A real server should use ssl:handshake/2 that has a timeout to avoid DoS\n> attacks. In the example the timeout defaults to infinty.\n\n_Step 6:_ Send a message over TLS:\n\n```erlang\n5 server> ssl:send(Socket, \"foo\").\nok\n```\n\n_Step 7:_ Flush the shell message queue to see that the message sent on the\nserver side is recived by the client side:\n\n```erlang\n3 client> flush().\nShell got {ssl,{sslsocket,[...]},\"foo\"}\nok\n```","ref":"using_ssl.html#note-class-info"},{"type":"extras","title":"Upgrade Example - TLS only - Using SSL application API","doc":"Upgrading a a TCP/IP connection to a TLS connections is mostly used when there\nis a desire have unencrypted communication first and then later secure the\ncommunication channel by using TLS. Note that the client and server need to\nagree to do the upgrade in the protocol doing the communication. This is concept\nis often referenced as `STARTLS` and used in many protocols such as `SMTP`,\n`FTPS` and `HTTPS` via a proxy.\n\n> ##","ref":"using_ssl.html#upgrade-example-tls-only"},{"type":"extras","title":"Warning {: class=warning } - Using SSL application API","doc":">\n> Maximum security recommendations are however moving away from such solutions.\n\nTo upgrade to a TLS connection:\n\n_Step 1:_ Start the server side:\n\n```erlang\n1 server> ssl:start().\n  ok\n```\n\n_Step 2:_ Create a normal TCP listen socket and ensure `active` is set to\n`false` and not set to any active mode otherwise TLS handshake messages can be\ndelivered to the wrong process.\n\n```erlang\n2 server> {ok, ListenSocket} = gen_tcp:listen(9999, [{reuseaddr, true},\n  {active, false}]).\n  {ok, #Port<0.475>}\n```\n\n_Step 3:_ Accept client connection:\n\n```erlang\n3 server> {ok, Socket} = gen_tcp:accept(ListenSocket).\n  {ok, #Port<0.476>}\n```\n\n_Step 4:_ Start the client side:\n\n```erlang\n1 client> ssl:start().\n  ok\n```\n\n```erlang\n2 client> {ok, Socket} = gen_tcp:connect(\"localhost\", 9999,  [], infinity).\n```\n\n_Step 5:_ Do the TLS handshake:\n\n```erlang\n4 server> {ok, TLSSocket} = ssl:handshake(Socket, [{verify, verify_peer},\n  {fail_if_no_peer_cert, true},\n  {cacertfile, \"cacerts.pem\"},\n  {certs_keys, [#{certfile => \"cert.pem\", keyfile => \"key.pem\"}]}]).\n  {ok,{sslsocket,[...]}}\n```\n\n_Step 6:_ Upgrade to a TLS connection. The client and server must agree upon the\nupgrade. The server must be prepared to be a TLS server before the client can do\na successful connect.\n\n```erlang\n3 client>{ok, TLSSocket} = ssl:connect(Socket, [{verify, verify_peer},\n  {cacertfile, \"cacerts.pem\"},\n  {certs_keys, [#{certfile => \"cert.pem\", keyfile => \"key.pem\"}]}], infinity).\n{ok,{sslsocket,[...]}}\n```\n\n_Step 7:_ Send a message over TLS:\n\n```erlang\n4 client> ssl:send(TLSSocket, \"foo\").\n      ok\n```\n\n_Step 8:_ Set `active once` on the TLS socket:\n\n```erlang\n5 server> ssl:setopts(TLSSocket, [{active, once}]).\n      ok\n```\n\n_Step 9:_ Flush the shell message queue to see that the message sent on the\nclient side is recived by the server side:\n\n```erlang\n5 server> flush().\n      Shell got {ssl,{sslsocket,[...]},\"foo\"}\n      ok\n```","ref":"using_ssl.html#warning-class-warning"},{"type":"extras","title":"Customizing cipher suites - Using SSL application API","doc":"Fetch default cipher suite list for a TLS/DTLS version. Change default to all to\nget all possible cipher suites.\n\n```erlang\n1>  Default = ssl:cipher_suites(default, 'tlsv1.2').\n    [#{cipher => aes_256_gcm,key_exchange => ecdhe_ecdsa,\n    mac => aead,prf => sha384}, ....]\n```\n\nIn OTP 20 it is desirable to remove all cipher suites that uses rsa key exchange\n(removed from default in 21)\n\n```erlang\n2> NoRSA =\n    ssl:filter_cipher_suites(Default,\n                            [{key_exchange, fun(rsa) -> false;\n\t\t\t                        (_) -> true\n\t\t\t                    end}]).\n    [...]\n```\n\nPick just a few suites\n\n```erlang\n 3> Suites =\n    ssl:filter_cipher_suites(Default,\n                            [{key_exchange, fun(ecdh_ecdsa) -> true;\n\t\t\t                        (_) -> false\n\t\t\t                    end},\n                             {cipher, fun(aes_128_cbc) -> true;\n\t\t\t                  (_) ->false\n\t\t\t              end}]).\n    [#{cipher => aes_128_cbc,key_exchange => ecdh_ecdsa,\n     mac => sha256,prf => sha256},\n     #{cipher => aes_128_cbc,key_exchange => ecdh_ecdsa,mac => sha,\n     prf => default_prf}]\n```\n\nMake some particular suites the most preferred, or least preferred by changing\nprepend to append.\n\n```erlang\n 4>ssl:prepend_cipher_suites(Suites, Default).\n  [#{cipher => aes_128_cbc,key_exchange => ecdh_ecdsa,\n     mac => sha256,prf => sha256},\n   #{cipher => aes_128_cbc,key_exchange => ecdh_ecdsa,mac => sha,\n     prf => default_prf},\n   #{cipher => aes_256_cbc,key_exchange => ecdhe_ecdsa,\n     mac => sha384,prf => sha384}, ...]\n```","ref":"using_ssl.html#customizing-cipher-suites"},{"type":"extras","title":"Customizing signature algorithms(TLS-1.2)/schemes(TLS-1.3) - Using SSL application API","doc":"Starting from TLS-1.2 signature algorithms (called signature schemes in TLS-1.3)\nis something that can be negotiated and hence also configured. These\nalgorithms/schemes will be used for digital signatures in protocol messages and\nin certificates.\n\n> ##","ref":"using_ssl.html#customizing-signature-algorithms-tls-1-2-schemes-tls-1-3"},{"type":"extras","title":"Note {: class=info } - Using SSL application API","doc":">\n> TLS-1.3 schemes have atom names whereas TLS-1.2 configuration is two element\n> tuples composed by one hash algorithm and one signature algorithm. When both\n> versions are supported the configuration can be a mix of these as both\n> versions might be negotiated. All `rsa_pss` based schemes are back ported to\n> TLS-1.2 and can be used also in a TLS-1.2 configuration. In TLS-1.2 the\n> signature algorithms chosen by the server will also be affected by the chiper\n> suite that is chosen, which is not the case in TLS-1.3.\n\nUsing the function `ssl:signature_algs/2` will let you inspect diffrent aspects\nof possible configurations for your system. For example if TLS-1.3 and TLS-1.2\nis supported the default signature_algorithm list in OTP-26 and cryptolib from\nOpenSSL 3.0.2 would look like:\n\n```erlang\n 1>  ssl:signature_algs(default, 'tlsv1.3').\n %% TLS-1.3 schemes\n [eddsa_ed25519,eddsa_ed448,ecdsa_secp521r1_sha512,\n  ecdsa_secp384r1_sha384,ecdsa_secp256r1_sha256,\n  rsa_pss_pss_sha512,rsa_pss_pss_sha384,rsa_pss_pss_sha256,\n  rsa_pss_rsae_sha512,rsa_pss_rsae_sha384,rsa_pss_rsae_sha256,\n  %% Legacy schemes only valid for certificate signatures in TLS-1.3\n  %% (would have a tuple name in TLS-1.2 only configuration)\n  rsa_pkcs1_sha512,rsa_pkcs1_sha384,rsa_pkcs1_sha256\n  %% TLS 1.2 algorithms\n  {sha512,ecdsa},\n  {sha384,ecdsa},\n  {sha256,ecdsa}]\n```\n\nIf you want to add support for non default supported algorithms you should\nappend them to the default list as the configuration is in prefered order,\nsomething like this:\n\n```text\n    MySignatureAlgs = ssl:signature_algs(default, 'tlsv1.3') ++ [{sha, rsa}, {sha, dsa}],\n    ssl:connect(Host,Port,[{signature_algs, MySignatureAlgs,...]}),\n    ...\n```\n\nSee also `ssl:signature_algs/2` and [sign_algo()](`t:ssl:signature_algs/0`)","ref":"using_ssl.html#note-class-info"},{"type":"extras","title":"Using an Engine Stored Key - Using SSL application API","doc":"Erlang ssl application is able to use private keys provided by OpenSSL engines\nusing the following mechanism:\n\n```erlang\n1> ssl:start().\nok\n```\n\nLoad a crypto engine, should be done once per engine used. For example\ndynamically load the engine called `MyEngine`:\n\n```erlang\n2> {ok, EngineRef} =\ncrypto:engine_load(<<\"dynamic\">>,\n[{<<\"SO_PATH\">>, \"/tmp/user/engines/MyEngine\"},<<\"LOAD\">>],\n[]).\n{ok,#Ref<0.2399045421.3028942852.173962>}\n```\n\nCreate a map with the engine information and the algorithm used by the engine:\n\n```erlang\n3> PrivKey =\n #{algorithm => rsa,\n   engine => EngineRef,\n   key_id => \"id of the private key in Engine\"}.\n```\n\nUse the map in the ssl key option:\n\n```erlang\n4> {ok, SSLSocket} =\nssl:connect(\"localhost\", 9999,\n            [{cacertfile, \"cacerts.pem\"},\n\t    {certs_keys, [#{certfile => \"cert.pem\", key => PrivKey}]}\n\t    ], infinity).\n```\n\nSee also [crypto documentation](`e:crypto:engine_load.md#engine_load`)","ref":"using_ssl.html#using-an-engine-stored-key"},{"type":"extras","title":"NSS keylog - Using SSL application API","doc":"The NSS keylog debug feature can be used by authorized users to for instance\nenable wireshark to decrypt TLS packets.\n\n_Server (with NSS key logging)_\n\n```text\n    server() ->\n        application:load(ssl),\n        {ok, _} = application:ensure_all_started(ssl),\n        Port = 11029,\n        LOpts = [{certs_keys, [#{certfile => \"cert.pem\", keyfile => \"key.pem\"}]},\n        {reuseaddr, true},\n        {versions, ['tlsv1.2','tlsv1.3']},\n        {keep_secrets, true} %% Enable NSS key log (debug option)\n        ],\n        {ok, LSock} = ssl:listen(Port, LOpts),\n        {ok, ASock} = ssl:transport_accept(LSock),\n        {ok, CSock} = ssl:handshake(ASock).\n```\n\n_Exporting the secrets_\n\n```text\n      {ok, [{keylog, KeylogItems}]} = ssl:connection_information(CSock, [keylog]).\n      file:write_file(\"key.log\", [[KeylogItem,$\\n] || KeylogItem <- KeylogItems]).\n```","ref":"using_ssl.html#nss-keylog"},{"type":"extras","title":"Session Reuse pre TLS 1.3 - Using SSL application API","doc":"Clients can request to reuse a session established by a previous full handshake\nbetween that client and server by sending the id of the session in the initial\nhandshake message. The server may or may not agree to reuse it. If agreed the\nserver will send back the id and if not it will send a new id. The ssl\napplication has several options for handling session reuse.\n\nOn the client side the ssl application will save session data to try to automate\nsession reuse on behalf of the client processes on the Erlang node. Note that\nonly verified sessions will be saved for security reasons, that is session\nresumption relies on the certificate validation to have been run in the original\nhandshake. To minimize memory consumption only unique sessions will be saved\nunless the special `save` value is specified for the following option\n`{reuse_sessions, boolean() | save}` in which case a full handshake will be\nperformed and that specific session will have been saved before the handshake\nreturns. The session id and even an opaque binary containing the session data\ncan be retrieved using `ssl:connection_information/1` function. A saved session\n(guaranteed by the save option) can be explicitly reused using\n`{reuse_session, SessionId}`. Also it is possible for the client to reuse a\nsession that is not saved by the ssl application using\n`{reuse_session, {SessionId, SessionData}}`.\n\n> ##","ref":"using_ssl.html#session-reuse-pre-tls-1-3"},{"type":"extras","title":"Note {: class=info } - Using SSL application API","doc":">\n> When using explicit session reuse, it is up to the client to make sure that\n> the session being reused is for the correct server and has been verified.\n\nHere follows a client side example, divide into several steps for readability.\n\nStep 1 - Automated Session Reuse\n\n```erlang\n1> ssl:start().\nok\n\n2> {ok, C1} = ssl:connect(\"localhost\", 9999, [{verify, verify_peer},\n\t\t\t\t\t      {versions, ['tlsv1.2']},\n\t\t\t\t\t      {cacertfile, \"cacerts.pem\"}]).\n{ok,{sslsocket,{gen_tcp,#Port<0.7>,tls_connection,undefined}, ...}}\n\n3> ssl:connection_information(C1, [session_id]).\n{ok,[{session_id,<<95,32,43,22,35,63,249,22,26,36,106,\n                   152,49,52,124,56,130,192,137,161,\n                   146,145,164,232,...>>}]}\n\n%% Reuse session if possible, note that if C2 is really fast the session\n%% data might not be available for reuse.\n4> {ok, C2} = ssl:connect(\"localhost\", 9999, [{verify, verify_peer},\n\t\t\t\t\t      {versions, ['tlsv1.2']},\n\t\t\t\t\t      {cacertfile, \"cacerts.pem\"},\n\t\t\t\t\t      {reuse_sessions, true}]).\n{ok,{sslsocket,{gen_tcp,#Port<0.8>,tls_connection,undefined}, ...]}}\n\n%% C2 got same session ID as client one, session was automatically reused.\n5> ssl:connection_information(C2, [session_id]).\n{ok,[{session_id,<<95,32,43,22,35,63,249,22,26,36,106,\n                   152,49,52,124,56,130,192,137,161,\n                   146,145,164,232,...>>}]}\n```\n\nStep 2- Using `save` Option\n\n```erlang\n%% We want save this particular session for\n%% reuse although it has the same basis as C1\n6> {ok, C3} = ssl:connect(\"localhost\", 9999, [{verify, verify_peer},\n\t\t\t\t\t      {versions, ['tlsv1.2']},\n\t\t\t\t\t      {cacertfile, \"cacerts.pem\"},\n\t\t\t\t\t      {reuse_sessions, save}]).\n{ok,{sslsocket,{gen_tcp,#Port<0.9>,tls_connection,undefined}, ...]}}\n\n%% A full handshake is performed and we get a new session ID\n7> {ok, [{session_id, ID}]} = ssl:connection_information(C3, [session_id]).\n{ok,[{session_id,<<91,84,27,151,183,39,84,90,143,141,\n                   121,190,66,192,10,1,27,192,33,95,78,\n                   8,34,180,...>>}]}\n\n%% Use automatic session reuse\n8> {ok, C4} = ssl:connect(\"localhost\", 9999, [{verify, verify_peer},\n\t\t\t\t\t      {versions, ['tlsv1.2']},\n\t\t\t\t\t      {cacertfile, \"cacerts.pem\"},\n\t\t\t\t\t      {reuse_sessions, true}]).\n{ok,{sslsocket,{gen_tcp,#Port<0.10>,tls_connection,\n                        undefined}, ...]}}\n\n%% The \"saved\" one happened to be selected, but this is not a guarantee\n9> ssl:connection_information(C4, [session_id]).\n{ok,[{session_id,<<91,84,27,151,183,39,84,90,143,141,\n                   121,190,66,192,10,1,27,192,33,95,78,\n                   8,34,180,...>>}]}\n\n%% Make sure to reuse the \"saved\" session\n10> {ok, C5} = ssl:connect(\"localhost\", 9999, [{verify, verify_peer},\n\t\t\t\t\t       {versions, ['tlsv1.2']},\n\t\t\t\t\t       {cacertfile, \"cacerts.pem\"},\n\t\t\t\t\t       {reuse_session, ID}]).\n{ok,{sslsocket,{gen_tcp,#Port<0.11>,tls_connection,\n                        undefined}, ...]}}\n\n11> ssl:connection_information(C5, [session_id]).\n{ok,[{session_id,<<91,84,27,151,183,39,84,90,143,141,\n                   121,190,66,192,10,1,27,192,33,95,78,\n                   8,34,180,...>>}]}\n```\n\nStep 3 - Explicit Session Reuse\n\n```erlang\n%% Perform a full handshake and the session will not be saved for reuse\n12> {ok, C9} =\nssl:connect(\"localhost\", 9999, [{verify, verify_peer},\n\t\t\t\t{versions, ['tlsv1.2']},\n\t\t                {cacertfile, \"cacerts.pem\"},\n                                {reuse_sessions, false},\n\t                        {server_name_indication, disable}]).\n{ok,{sslsocket,{gen_tcp,#Port<0.14>,tls_connection, ...}}\n\n%% Fetch session ID and data for C9 connection\n12> {ok, [{session_id, ID1}, {session_data, SessData}]} =\n\tssl:connection_information(C9, [session_id, session_data]).\n{ok,[{session_id,<<9,233,4,54,170,88,170,180,17,96,202,\n                   85,85,99,119,47,9,68,195,50,120,52,\n                   130,239,...>>},\n     {session_data,<<131,104,13,100,0,7,115,101,115,115,105,\n                     111,110,109,0,0,0,32,9,233,4,54,170,...>>}]}\n\n%% Explicitly reuse the session from C9\n13> {ok, C10} = ssl:connect(\"localhost\", 9999, [{verify, verify_peer},\n\t\t\t\t\t\t{versions, ['tlsv1.2']},\n\t\t\t\t\t\t{cacertfile, \"cacerts.pem\"},\n\t\t\t\t\t\t{reuse_session, {ID1, SessData}}]).\n{ok,{sslsocket,{gen_tcp,#Port<0.15>,tls_connection,\n                        undefined}, ...}}\n\n14> ssl:connection_information(C10, [session_id]).\n{ok,[{session_id,<<9,233,4,54,170,88,170,180,17,96,202,\n                   85,85,99,119,47,9,68,195,50,120,52,\n                   130,239,...>>}]}\n```\n\nStep 4 - Not Possible to Reuse Explicit Session by ID Only\n\n```erlang\n%% Try to reuse the session from C9 using only the id\n15> {ok, E} = ssl:connect(\"localhost\", 9999, [{verify, verify_peer},\n\t\t\t\t              {versions, ['tlsv1.2']},\n\t\t\t\t              {cacertfile, \"cacerts.pem\"},\n\t\t\t\t\t      {reuse_session, ID1}]).\n{ok,{sslsocket,{gen_tcp,#Port<0.18>,tls_connection,\n                        undefined}, ...}}\n\n%% This will fail (as it is not saved for reuse)\n%% and a full handshake will be performed, we get a new id.\n16>  ssl:connection_information(E, [session_id]).\n{ok,[{session_id,<<87,46,43,126,175,68,160,153,37,29,\n                   196,240,65,160,254,88,65,224,18,63,\n                   18,17,174,39,...>>}]}\n```\n\nOn the server side the the `{reuse_sessions, boolean()}` option determines if\nthe server will save session data and allow session reuse or not. This can be\nfurther customized by the option `{reuse_session, fun()}` that may introduce a\nlocal policy for session reuse.","ref":"using_ssl.html#note-class-info"},{"type":"extras","title":"Session Tickets and Session Resumption in TLS 1.3 - Using SSL application API","doc":"TLS 1.3 introduces a new secure way of resuming sessions by using session\ntickets. A session ticket is an opaque data structure that is sent in the\npre_shared_key extension of a ClientHello, when a client attempts to resume a\nsession with keying material from a previous successful handshake.\n\nSession tickets can be stateful or stateless. A stateful session ticket is a\ndatabase reference (session ticket store) and used with stateful servers, while\na stateless ticket is a self-encrypted and self-authenticated data structure\nwith cryptographic keying material and state data, enabling session resumption\nwith stateless servers.\n\nThe choice between stateful or stateless depends on the server requirements as\nthe session tickets are opaque for the clients. Generally, stateful tickets are\nsmaller and the server can guarantee that tickets are only used once. Stateless\ntickets contain additional data, require less storage on the server side, but\nthey offer different guarantees against anti-replay. See also\n[Anti-Replay Protection in TLS 1.3](using_ssl.md#anti-replay-protection-in-tls-1-3)\n\nSession tickets are sent by servers on newly established TLS connections. The\nnumber of tickets sent and their lifetime are configurable by application\nvariables. See also [SSL's configuration](ssl_app.md#configuration).\n\nSession tickets are protected by application traffic keys, and in stateless\ntickets, the opaque data structure itself is self-encrypted.\n\nAn example with automatic and manual session resumption:\n\n```erlang\n      {ok, _} = application:ensure_all_started(ssl).\n      LOpts = [{certs_keys, [#{certfile => \"cert.pem\",\n                               keyfile => \"key.pem\"}]},\n               {versions, ['tlsv1.2','tlsv1.3']},\n               {session_tickets, stateless}].\n      {ok, LSock} = ssl:listen(8001, LOpts).\n      {ok, ASock} = ssl:transport_accept(LSock).\n```\n\n_Step 2 (client):_ Start the client and connect to server:\n\n```erlang\n      {ok, _} = application:ensure_all_started(ssl).\n      COpts = [{cacertfile, \"cert.pem\"},\n               {versions, ['tlsv1.2','tlsv1.3']},\n               {log_level, debug},\n               {session_tickets, auto}].\n      ssl:connect(\"localhost\", 8001, COpts).\n```\n\n_Step 3 (server):_ Start the TLS handshake:\n\n```erlang\n      {ok, CSocket} = ssl:handshake(ASock).\n```\n\nA connection is established using a full handshake. Below is a summary of the\nexchanged messages:\n\n```erlang\n      >>> TLS 1.3 Handshake, ClientHello ...\n      << >> Handshake, Finished ...\n      << >> TLS 1.3 Handshake, ClientHello ...\n      << >> Handshake, Finished ...\n      <<  TicketData end.\n```\n\n_Step 11 (server):_ Accept a new connection on the server:\n\n```erlang\n      {ok, ASock4} = ssl:transport_accept(LSock).\n```\n\n_Step 12 (client):_ Initiate a new connection to the server with the session\nticket received in Step 10:\n\n```erlang\n      {ok, _} = application:ensure_all_started(ssl).\n      COpts2 = [{cacertfile, \"cert.pem\"},\n                {versions, ['tlsv1.2','tlsv1.3']},\n                {log_level, debug},\n                {session_tickets, manual},\n                {use_ticket, [Ticket]}].\n      ssl:connect(\"localhost\", 8001, COpts).\n```\n\n_Step 13 (server):_ Start the handshake:\n\n```erlang\n      {ok, CSock4} = ssl:handshake(ASock4).\n```","ref":"using_ssl.html#session-tickets-and-session-resumption-in-tls-1-3"},{"type":"extras","title":"Early Data in TLS-1.3 - Using SSL application API","doc":"TLS 1.3 allows clients to send data on the first flight if the endpoints have a\nshared crypographic secret (pre-shared key). This means that clients can send\nearly data if they have a valid session ticket received in a previous successful\nhandshake. For more information about session resumption see\n[Session Tickets and Session Resumption in TLS 1.3](using_ssl.md#session-tickets-and-session-resumption-in-tls-1-3).\n\nThe security properties of Early Data are weaker than other kinds of TLS data.\nThis data is not forward secret, and it is vulnerable to replay attacks. For\navailable mitigation strategies see\n[Anti-Replay Protection in TLS 1.3](using_ssl.md#anti-replay-protection-in-tls-1-3).\n\nIn normal operation, clients will not know which, if any, of the available\nmitigation strategies servers actually implement, and hence must only send early\ndata which they deem safe to be replayed. For example, idempotent HTTP\noperations, such as HEAD and GET, can usually be regarded as safe but even they\ncan be exploited by a large number of replays causing resource limit exhaustion\nand other similar problems.\n\nAn example of sending early data with automatic and manual session ticket\nhandling:\n\n_Server_\n\n```text\n    early_data_server() ->\n        application:load(ssl),\n        {ok, _} = application:ensure_all_started(ssl),\n        Port = 11029,\n        LOpts = [{certs_keys, [#{certfile => \"cert.pem\", keyfile => \"key.pem\"}]},\n        {reuseaddr, true},\n        {versions, ['tlsv1.2','tlsv1.3']},\n        {session_tickets, stateless},\n        {early_data, enabled},\n        ],\n        {ok, LSock} = ssl:listen(Port, LOpts),\n        %% Accept first connection\n        {ok, ASock0} = ssl:transport_accept(LSock),\n        {ok, CSock0} = ssl:handshake(ASock0),\n        %% Accept second connection\n        {ok, ASock1} = ssl:transport_accept(LSock),\n        {ok, CSock1} = ssl:handshake(ASock1),\n        Sock.\n```\n\n_Client (automatic ticket handling):_\n\n```erlang\n    early_data_auto() ->\n        %% First handshake 1-RTT - get session tickets\n\tapplication:load(ssl),\n\t{ok, _} = application:ensure_all_started(ssl),\n\tPort = 11029,\n\tData = <<\"HEAD / HTTP/1.1\\r\\nHost: \\r\\nConnection: close\\r\\n\">>,\n\tCOpts0 = [{cacertfile, \"cacerts.pem\"},\n\t          {versions, ['tlsv1.2', 'tlsv1.3']},\n\t          {session_tickets, auto}],\n        {ok, Sock0} = ssl:connect(\"localhost\", Port, COpts0),\n\n        %% Wait for session tickets\n\ttimer:sleep(500),\n\t%% Close socket if server cannot handle multiple\n        %% connections e.g. openssl s_server\n\tssl:close(Sock0),\n\n        %% Second handshake 0-RTT\n\tCOpts1 = [{cacertfile,  \"cacerts.pem\"},\n\t          {versions, ['tlsv1.2', 'tlsv1.3']},\n\t\t  {session_tickets, auto},\n\t\t  {early_data, Data}],\n        {ok, Sock} = ssl:connect(\"localhost\", Port, COpts1),\n\tSock.\n```\n\n_Client (manual ticket handling):_\n\n```erlang\n    early_data_manual() ->\n        %% First handshake 1-RTT - get session tickets\n\tapplication:load(ssl),\n\t{ok, _} = application:ensure_all_started(ssl),\n\tPort = 11029,\n\tData = <<\"HEAD / HTTP/1.1\\r\\nHost: \\r\\nConnection: close\\r\\n\">>,\n\tCOpts0 = [{cacertfile, \"cacerts.pem\"},\n\t          {versions, ['tlsv1.2', 'tlsv1.3']},\n\t          {session_tickets, manual}],\n        {ok, Sock0} = ssl:connect(\"localhost\", Port, COpts0),\n\n        %% Wait for session tickets\n\tTicket =\n\t    receive\n\t        {ssl, session_ticket, Ticket0} ->\n\t\t    Ticket0\n            end,\n\n       %% Close socket if server cannot handle multiple connections\n       %% e.g. openssl s_server\n       ssl:close(Sock0),\n\n       %% Second handshake 0-RTT\n       COpts1 = [{cacertfile, \"cacerts.pem\"},\n                 {versions, ['tlsv1.2', 'tlsv1.3']},\n\t\t {session_tickets, manual},\n\t\t {use_ticket, [Ticket]},\n\t\t {early_data, Data}],\n       {ok, Sock} = ssl:connect(\"localhost\", Port, COpts1),\n       Sock.\n```","ref":"using_ssl.html#early-data-in-tls-1-3"},{"type":"extras","title":"Anti-Replay Protection in TLS 1.3 - Using SSL application API","doc":"The TLS 1.3 protocol does not provide inherent protection for replay of 0-RTT\ndata but describes mechanisms that SHOULD be implemented by compliant server\nimplementations. The implementation of TLS 1.3 in the SSL application employs\nall standard methods to prevent potential threats.\n\n_Single-use tickets_\n\nThis mechanism is available with stateful session tickets. Session tickets can\nonly be used once, subsequent use of the same ticket results in a full\nhandshake. Stateful servers enforce this rule by maintaining a database of\noutstanding valid tickets.\n\n_Client Hello Recording_\n\nThis mechanism is available with stateless session tickets. The server records a\nunique value derived from the ClientHello (PSK binder) in a given time window.\nThe ticket's age is verified by using both the \"obsfuscated_ticket_age\" and an\nadditional timestamp encrypted in the ticket data. As the used datastore allows\nfalse positives, apparent replays will be answered by doing a full 1-RTT\nhandshake.\n\n_Freshness Checks_\n\nThis mechanism is available with the stateless session tickets. As the ticket\ndata has an embedded timestamp, the server can determine if a ClientHello was\nsent reasonably recently and accept the 0-RTT handshake, otherwise if falls back\nto a full 1-RTT handshake. This mechanism is tightly coupled with the previous\none, it prevents storing an unlimited number of ClientHellos.\n\nThe current implementation uses a pair of Bloom filters to implement the last\ntwo mechanisms. Bloom filters are fast, memory-efficient, probabilistic data\nstructures that can tell if an element may be in a set or if it is definitely\nnot in the set.\n\nIf the option [anti_replay](`t:ssl:anti_replay/0`) is defined in the server, a\npair of Bloom filters (_current_ and _old_) are used to record incoming\nClientHello messages (it is the unique binder value that is actually stored).\nThe _current_ Bloom filter is used for `WindowSize` seconds to store new\nelements. At the end of the time window the Bloom filters are rotated (the\n_current_ Bloom filter becomes the _old_ and an empty Bloom filter is set as\n_current_.\n\nThe Anti-Replay protection feature in stateless servers executes in the\nfollowing steps when a new ClientHello is received:\n\n- Reported ticket age (obfuscated ticket age) shall be less than ticket\n  lifetime.\n- Actual ticket age shall be less than the ticket lifetime (stateless session\n  tickets contain the servers timestamp when the ticket was issued).\n- ClientHello created with the ticket shall be sent relatively recently\n  (freshness checks).\n- If all above checks passed both _current_ and _old_ Bloom filters are checked\n  to detect if binder was already seen. Being a probabilistic data structure,\n  false positives can occur and they trigger a full handshake.\n- If the binder is not seen, the binder is validated. If the binder is valid,\n  the server proceeds with the 0-RTT handshake.","ref":"using_ssl.html#anti-replay-protection-in-tls-1-3"},{"type":"extras","title":"Using DTLS - Using SSL application API","doc":"Using DTLS has basically the same API as TLS. You need to add the option\n\\{protocol, dtls\\} to the connect and listen functions. For example\n\n```erlang\n client> {ok, Socket} = ssl:connect(\"localhost\", 9999, [{protocol, dtls},\n{verify, verify_peer},{cacertfile, \"cacerts.pem\"}], infinity).\n{ok,{sslsocket, [...]}}\n```","ref":"using_ssl.html#using-dtls"},{"type":"extras","title":"Using TLS for Erlang Distribution","doc":"# Using TLS for Erlang Distribution\n\nThis section describes how the Erlang distribution can use TLS to get extra\nverification and security.\n\nThe Erlang distribution can in theory use almost any connection-based protocol\nas bearer. However, a module that implements the protocol-specific parts of the\nconnection setup is needed. The default distribution module is `inet_tcp_dist`\nin the Kernel application. When starting an Erlang node distributed,\n`net_kernel` uses this module to set up listen ports and connections.\n\nIn the SSL application, an extra distribution module, `inet_tls_dist`, can be\nused as an alternative. All distribution connections will use TLS and all\nparticipating Erlang nodes in a distributed system must use this distribution\nmodule.\n\nThe security level depends on the parameters provided to the TLS connection\nsetup. Erlang node cookies are however always used, as they can be used to\ndifferentiate between two different Erlang networks.\n\nTo set up Erlang distribution over TLS:\n\n- _Step 1:_ Build boot scripts including the SSL application.\n- _Step 2:_ Specify the distribution module for `net_kernel`.\n- _Step 3:_ Specify the security options and other SSL options.\n- _Step 4:_ Set up the environment to always use TLS.\n\nThe following sections describe these steps.","ref":"ssl_distribution.html"},{"type":"extras","title":"Building Boot Scripts Including the SSL Application - Using TLS for Erlang Distribution","doc":"Boot scripts are built using the `systools` utility in the SASL application. For\nmore information on `systools`, see the SASL documentation. This is only an\nexample of what can be done.\n\nThe simplest boot script possible includes only the Kernel and STDLIB\napplications. Such a script is located in the `bin` directory of the Erlang\ndistribution. The source for the script is found under the Erlang installation\ntop directory under `releases/ /start_clean.rel`.\n\nDo the following:\n\n- Copy that script to another location (and preferably another name).\n- Add the applications Crypto, Public Key, and SSL with their current version\n  numbers after the STDLIB application.\n\nThe following shows an example `.rel` file with TLS added:\n\n```text\n      {release, {\"OTP  APN 181 01\",\"R15A\"}, {erts, \"5.9\"},\n      [{kernel,\"2.15\"},\n      {stdlib,\"1.18\"},\n      {crypto, \"2.0.3\"},\n      {public_key, \"0.12\"},\n      {asn1, \"4.0\"},\n      {ssl, \"5.0\"}\n      ]}.\n```\n\nThe version numbers differ in your system. Whenever one of the applications\nincluded in the script is upgraded, change the script.\n\nDo the following:\n\n- Build the boot script.\n\n  Assuming the `.rel file` is stored in a file `start_ssl.rel` in the current\n  directory, a boot script can be built as follows:\n\n```text\n   1> systools:make_script(\"start_ssl\",[]).\n```\n\nThere is now a `start_ssl.boot` file in the current directory.\n\nDo the following:\n\n- Test the boot script. To do this, start Erlang with the `-boot` command-line\n  parameter specifying this boot script (with its full path, but without the\n  `.boot` suffix). In UNIX it can look as follows:\n\n```text\n$ erl -boot /home/me/ssl/start_ssl\nErlang (BEAM) emulator version 5.0\n\nEshell V5.0  (abort with ^G)\n1> whereis(ssl_manager).\n<0.41.0>\n```\n\nThe `whereis` function-call verifies that the SSL application is started.\n\nAs an alternative to building a bootscript, you can explicitly add the path to\nthe SSL `ebin` directory on the command line. This is done with command-line\noption `-pa`. This works as the SSL application does not need to be started for\nthe distribution to come up, as a clone of the SSL application is hooked into\nthe Kernel application. So, as long as the SSL application code can be reached,\nthe distribution starts. The `-pa` method is only recommended for testing\npurposes.\n\n> ##","ref":"ssl_distribution.html#building-boot-scripts-including-the-ssl-application"},{"type":"extras","title":"Note {: class=info } - Using TLS for Erlang Distribution","doc":">\n> The clone of the SSL application must enable the use of the SSL code in such\n> an early bootstage as needed to set up the distribution. However, this makes\n> it impossible to soft upgrade the SSL application.","ref":"ssl_distribution.html#note-class-info"},{"type":"extras","title":"Specifying Distribution Module for net_kernel - Using TLS for Erlang Distribution","doc":"The distribution module for TLS is named `inet_tls_dist` and is specified on the\ncommand line with option `-proto_dist`. The argument to `-proto_dist` is to be\nthe module name without suffix `_dist`. So, this distribution module is\nspecified with `-proto_dist inet_tls` on the command line.\n\nExtending the command line gives the following:\n\n```text\n$ erl -boot /home/me/ssl/start_ssl -proto_dist inet_tls\n```\n\nFor the distribution to be started, give the emulator a name as well:\n\n```text\n$ erl -boot /home/me/ssl/start_ssl -proto_dist inet_tls -sname ssl_test\nErlang (BEAM) emulator version 5.0 [source]\n\nEshell V5.0  (abort with ^G)\n(ssl_test@myhost)1>\n```\n\nHowever, a node started in this way refuses to talk to other nodes, as no TLS\nparameters are supplied (see the next section).","ref":"ssl_distribution.html#specifying-distribution-module-for-net_kernel"},{"type":"extras","title":"Specifying TLS Options - Using TLS for Erlang Distribution","doc":"The TLS distribution options can be written into a file that is consulted when\nthe node is started. This file name is then specified with the command line\nargument `-ssl_dist_optfile`.\n\nAny available TLS option can be specified in an options file, but note that\noptions that take a `fun()` has to use the syntax `fun Mod:Func/Arity` since a\nfunction body cannot be compiled when consulting a file.\n\nDo not tamper with the socket options `list`, `binary`, `active`, `packet`,\n`nodelay` and `deliver` since they are used by the distribution protocol handler\nitself. Other raw socket options such as `packet_size` may interfere severely,\nso beware\\!\n\nFor TLS to work, at least a public key and a certificate must be specified for\nthe server side. In the following example, the PEM file\n`\"/home/me/ssl/erlserver.pem\"` contains both the server certificate and its\nprivate key.\n\nCreate a file named for example `\"/home/me/ssl/ssl_test@myhost.conf\"`:\n\n```text\n[{server,\n  [{certfile, \"/home/me/ssl/erlserver.pem\"},\n   {secure_renegotiate, true}]},\n {client,\n  [{secure_renegotiate, true}]}].\n```\n\nAnd then start the node like this (line breaks in the command are for\nreadability, and shall not be there when typed):\n\n```text\n$ erl -boot /home/me/ssl/start_ssl -proto_dist inet_tls\n  -ssl_dist_optfile \"/home/me/ssl/ssl_test@myhost.conf\"\n  -sname ssl_test\n```\n\nThe options in the `{server, Opts}` tuple are used when calling\n`ssl:handshake/3`, and the options in the `{client, Opts}` tuple are used when\ncalling `ssl:connect/4`.\n\nFor the client, the option `{server_name_indication, atom_to_list(TargetNode)}`\nis added when connecting. This makes it possible to use the client option\n`{verify, verify_peer}`, and the client will verify that the certificate matches\nthe node name you are connecting to. This only works if the the server\ncertificate is issued to the name `atom_to_list(TargetNode)`.\n\nFor the server it is also possible to use the option `{verify, verify_peer}` and\nthe server will only accept client connections with certificates that are\ntrusted by a root certificate that the server knows. A client that presents an\nuntrusted certificate will be rejected. This option is preferably combined with\n`{fail_if_no_peer_cert, true}` or a client will still be accepted if it does not\npresent any certificate.\n\nA node started in this way is fully functional, using TLS as the distribution\nprotocol.","ref":"ssl_distribution.html#specifying-tls-options"},{"type":"extras","title":"Specifying TLS Options (Legacy) - Using TLS for Erlang Distribution","doc":"As in the previous section the PEM file `\"/home/me/ssl/erlserver.pem\"` contains\nboth the server certificate and its private key.\n\nOn the `erl` command line you can specify options that the TLS distribution adds\nwhen creating a socket.\n\nThe simplest TLS options in the following list can be specified by adding the\nprefix `server_` or `client_` to the option name:\n\n- `certfile`\n- `keyfile`\n- `password`\n- `cacertfile`\n- `verify`\n- `verify_fun` (write as `{Module, Function, InitialUserState}`)\n- `crl_check`\n- `crl_cache` (write as Erlang term)\n- `reuse_sessions`\n- `secure_renegotiate`\n- `depth`\n- `hibernate_after`\n- `ciphers` (use old string format)\n\nNote that `verify_fun` needs to be written in a different form than the\ncorresponding TLS option, since funs are not accepted on the command line.\n\nThe server can also take the options `dhfile` and `fail_if_no_peer_cert` (also\nprefixed).\n\n`client_`\\-prefixed options are used when the distribution initiates a\nconnection to another node. `server_`\\-prefixed options are used when accepting\na connection from a remote node.\n\nRaw socket options, such as `packet` and `size` must not be specified on the\ncommand line.\n\nThe command-line argument for specifying the TLS options is named\n`-ssl_dist_opt` and is to be followed by pairs of SSL options and their values.\nArgument `-ssl_dist_opt` can be repeated any number of times.\n\nAn example command line doing the same as the example in the previous section\ncan now look as follows (line breaks in the command are for readability, and\nshall not be there when typed):\n\n```text\n$ erl -boot /home/me/ssl/start_ssl -proto_dist inet_tls\n  -ssl_dist_opt server_certfile \"/home/me/ssl/erlserver.pem\"\n  -ssl_dist_opt server_secure_renegotiate true client_secure_renegotiate true\n  -sname ssl_test\nErlang (BEAM) emulator version 5.0 [source]\n\nEshell V5.0  (abort with ^G)\n(ssl_test@myhost)1>\n```","ref":"ssl_distribution.html#specifying-tls-options-legacy"},{"type":"extras","title":"Setting up Environment to Always Use TLS (Legacy) - Using TLS for Erlang Distribution","doc":"A convenient way to specify arguments to Erlang is to use environment variable\n`ERL_FLAGS`. All the flags needed to use the TLS distribution can be specified\nin that variable and are then interpreted as command-line arguments for all\nsubsequent invocations of Erlang.\n\nIn a Unix (Bourne) shell, it can look as follows (line breaks are for\nreadability, they are not to be there when typed):\n\n```text\n$ ERL_FLAGS=\"-boot /home/me/ssl/start_ssl -proto_dist inet_tls\n  -ssl_dist_opt server_certfile /home/me/ssl/erlserver.pem\n  -ssl_dist_opt server_secure_renegotiate true client_secure_renegotiate true\"\n$ export ERL_FLAGS\n$ erl -sname ssl_test\nErlang (BEAM) emulator version 5.0 [source]\n\nEshell V5.0  (abort with ^G)\n(ssl_test@myhost)1> init:get_arguments().\n[{root,[\"/usr/local/erlang\"]},\n {progname,[\"erl \"]},\n {sname,[\"ssl_test\"]},\n {boot,[\"/home/me/ssl/start_ssl\"]},\n {proto_dist,[\"inet_tls\"]},\n {ssl_dist_opt,[\"server_certfile\",\"/home/me/ssl/erlserver.pem\"]},\n {ssl_dist_opt,[\"server_secure_renegotiate\",\"true\",\n                \"client_secure_renegotiate\",\"true\"]\n {home,[\"/home/me\"]}]\n```\n\nThe `init:get_arguments()` call verifies that the correct arguments are supplied\nto the emulator.","ref":"ssl_distribution.html#setting-up-environment-to-always-use-tls-legacy"},{"type":"extras","title":"Using TLS distribution over IPv6 - Using TLS for Erlang Distribution","doc":"It is possible to use TLS distribution over IPv6 instead of IPv4. To do this,\npass the option `-proto_dist inet6_tls` instead of `-proto_dist inet_tls` when\nstarting Erlang, either on the command line or in the `ERL_FLAGS` environment\nvariable.\n\nAn example command line with this option would look like this:\n\n```text\n$ erl -boot /home/me/ssl/start_ssl -proto_dist inet6_tls\n  -ssl_dist_optfile \"/home/me/ssl/ssl_test@myhost.conf\"\n  -sname ssl_test\n```\n\nA node started in this way will only be able to communicate with other nodes\nusing TLS distribution over IPv6.","ref":"ssl_distribution.html#using-tls-distribution-over-ipv6"},{"type":"extras","title":"Standards Compliance","doc":"# Standards Compliance","ref":"standards_compliance.html"},{"type":"extras","title":"Purpose - Standards Compliance","doc":"This section describes the current state of standards compliance of the ssl\napplication.","ref":"standards_compliance.html#purpose"},{"type":"extras","title":"Common (pre TLS 1.3) - Standards Compliance","doc":"- For security reasons RSA key exchange cipher suites are no longer supported by\n  default, but can be configured. (OTP 21)\n- For security reasons DES cipher suites are no longer supported by default, but\n  can be configured. (OTP 20)\n- For security reasons 3DES cipher suites are no longer supported by default,\n  but can be configured. (OTP 21)\n- Renegotiation Indication Extension\n  [RFC 5746](http://www.ietf.org/rfc/rfc5746.txt) is supported\n- Ephemeral Diffie-Hellman cipher suites are supported, but not Diffie Hellman\n  Certificates cipher suites.\n- Elliptic Curve cipher suites are supported if the Crypto application supports\n  it and named curves are used.\n- Export cipher suites are not supported as the U.S. lifted its export\n  restrictions in early 2000.\n- IDEA cipher suites are not supported as they have become deprecated by the TLS\n  1.2 specification so it is not motivated to implement them.\n- Compression is not supported.","ref":"standards_compliance.html#common-pre-tls-1-3"},{"type":"extras","title":"Common - Standards Compliance","doc":"- CRL validation is supported.\n- Policy certificate extensions are not supported.\n- 'Server Name Indication' extension\n  ([RFC 6066](http://www.ietf.org/rfc/rfc6066.txt)) is supported.\n- Application Layer Protocol Negotiation (ALPN) and its successor Next Protocol\n  Negotiation (NPN) are supported.\n- It is possible to use Pre-Shared Key (PSK) and Secure Remote Password (SRP)\n  cipher suites, but they are not enabled by default.","ref":"standards_compliance.html#common"},{"type":"extras","title":"SSL 2.0 - Standards Compliance","doc":"For security reasons SSL-2.0 is not supported. Interoperability with SSL-2.0\nenabled clients dropped. (OTP 21)","ref":"standards_compliance.html#ssl-2-0"},{"type":"extras","title":"SSL 3.0 - Standards Compliance","doc":"For security reasons SSL-3.0 is no longer supported at all. (OTP 23)\n\nFor security reasons SSL-3.0 is no longer supported by default, but can be\nconfigured. (OTP 19)","ref":"standards_compliance.html#ssl-3-0"},{"type":"extras","title":"TLS 1.0 - Standards Compliance","doc":"For security reasons TLS-1.0 is no longer supported by default, but can be\nconfigured. (OTP 22)","ref":"standards_compliance.html#tls-1-0"},{"type":"extras","title":"TLS 1.1 - Standards Compliance","doc":"For security reasons TLS-1.1 is no longer supported by default, but can be\nconfigured. (OTP 22)","ref":"standards_compliance.html#tls-1-1"},{"type":"extras","title":"TLS 1.2 - Standards Compliance","doc":"Supported","ref":"standards_compliance.html#tls-1-2"},{"type":"extras","title":"DTLS 1.0 - Standards Compliance","doc":"For security reasons DTLS-1.0 (based on TLS 1.1) is no longer supported by\ndefault, but can be configured. (OTP 22)","ref":"standards_compliance.html#dtls-1-0"},{"type":"extras","title":"DTLS 1.2 - Standards Compliance","doc":"Supported (based on TLS 1.2)","ref":"standards_compliance.html#dtls-1-2"},{"type":"extras","title":"DTLS 1.3 - Standards Compliance","doc":"Not yet supported","ref":"standards_compliance.html#dtls-1-3"},{"type":"extras","title":"TLS 1.3 - Standards Compliance","doc":"OTP-22 introduces support for TLS 1.3. The current implementation supports a\nselective set of cryptographic algorithms:\n\n- Key Exchange: ECDHE\n- Groups: all standard groups supported for the Diffie-Hellman key exchange\n- Ciphers: all cipher suites are supported\n- Signature Algorithms: All algorithms form RFC 8446\n- Certificates: RSA, ECDSA and EDDSA keys\n\nOther notable features:\n\n- PSK and session resumption is supported (stateful and stateless tickets)\n- Anti-replay protection using Bloom-filters with stateless tickets\n- Early data and 0-RTT is supported\n- Key and Initialization Vector Update is supported\n\nFor more detailed information see the\n[Standards Compliance](standards_compliance.md#soc_table) below.\n\nThe following table describes the current state of standards compliance for TLS\n1.3.\n\n(_C_ = Compliant, _NC_ = Non-Compliant, _PC_ = Partially-Compliant, _NA_ = Not\nApplicable)\n\n| _Section_                                                                                                       | _Feature_                                                                                                                                                                                                                                                                                                 | _State_ | _Since_ |\n| --------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- | ------- | --- |\n| [1\\.3. Updates Affecting TLS 1.2](https://tools.ietf.org/html/rfc8446#section-1.2)                              |                                                                                                                                                                                                                                                                                                           | _C_     | _24\\.1_ |\n|                                                                                                                 | Version downgrade protection mechanism                                                                                                                                                                                                                                                                    | _C_     | _22_    |\n|                                                                                                                 | RSASSA-PSS signature schemes                                                                                                                                                                                                                                                                              | _C_     | _24\\.1_ |\n|                                                                                                                 | supported_versions (ClientHello) extension                                                                                                                                                                                                                                                                | _C_     | _22_    |\n|                                                                                                                 | signature_algorithms_cert extension                                                                                                                                                                                                                                                                       | _C_     | _24\\.1_ |\n| [2\\. Protocol Overview](https://tools.ietf.org/html/rfc8446#section/2)                                          |                                                                                                                                                                                                                                                                                                           | _PC_    | _22_    |\n|                                                                                                                 | (EC)DHE                                                                                                                                                                                                                                                                                                   | _C_     | _22_    |\n|                                                                                                                 | PSK-only                                                                                                                                                                                                                                                                                                  | _NC_    |         |\n|                                                                                                                 | PSK with (EC)DHE                                                                                                                                                                                                                                                                                          | _C_     | _22\\.2_ |\n| [2\\.1. Incorrect DHE share](https://tools.ietf.org/html/rfc8446#section-2.1)                                    | HelloRetryRequest                                                                                                                                                                                                                                                                                         | _C_     | _22_    |\n| [2\\.2. Resumption and Pre-Shared Key (PSK)](https://tools.ietf.org/html/rfc8446#section-2.2)                    |                                                                                                                                                                                                                                                                                                           | _C_     | _22\\.2_ |\n| [2\\.3. 0-RTT Data](https://tools.ietf.org/html/rfc8446#section-2.3)                                             |                                                                                                                                                                                                                                                                                                           | _PC_    | _23\\.3_ |\n| [4\\.1.1. Cryptographic Negotiation](https://tools.ietf.org/html/rfc8446#section-4.1.1)                          |                                                                                                                                                                                                                                                                                                           | _C_     | _22\\.2_ |\n|                                                                                                                 | supported_groups extension                                                                                                                                                                                                                                                                                | _C_     | _22_    |\n|                                                                                                                 | signature_algorithms extension                                                                                                                                                                                                                                                                            | _C_     | _22_    |\n|                                                                                                                 | pre_shared_key extension                                                                                                                                                                                                                                                                                  | _C_     | _22\\.2_ |\n| [4\\.1.2. Client Hello](https://tools.ietf.org/html/rfc8446#section-4.1.2)                                       | _Client_                                                                                                                                                                                                                                                                                                  | _PC_    | _22\\.1_ |\n|                                                                                                                 | server_name (RFC6066)                                                                                                                                                                                                                                                                                     | _C_     | _23\\.2_ |\n|                                                                                                                 | max_fragment_length (RFC6066)                                                                                                                                                                                                                                                                             | _C_     | _23\\.0_ |\n|                                                                                                                 | status_request (RFC6066)                                                                                                                                                                                                                                                                                  | _NC_    |         |\n|                                                                                                                 | supported_groups (RFC7919)                                                                                                                                                                                                                                                                                | _C_     | _22\\.1_ |\n|                                                                                                                 | signature_algorithms (RFC8446)                                                                                                                                                                                                                                                                            | _C_     | _22\\.1_ |\n|                                                                                                                 | use_srtp (RFC5764)                                                                                                                                                                                                                                                                                        | _C_     | 26\\.0   |\n|                                                                                                                 | heartbeat (RFC6520)                                                                                                                                                                                                                                                                                       | _NC_    |         |\n|                                                                                                                 | application_layer_protocol_negotiation (RFC7301)                                                                                                                                                                                                                                                          | _C_     | _22\\.1_ |\n|                                                                                                                 | signed_certificate_timestamp (RFC6962)                                                                                                                                                                                                                                                                    | _NC_    |         |\n|                                                                                                                 | client_certificate_type (RFC7250)                                                                                                                                                                                                                                                                         | _NC_    |         |\n|                                                                                                                 | server_certificate_type (RFC7250)                                                                                                                                                                                                                                                                         | _NC_    |         |\n|                                                                                                                 | padding (RFC7685)                                                                                                                                                                                                                                                                                         | _NC_    |         |\n|                                                                                                                 | key_share (RFC8446)                                                                                                                                                                                                                                                                                       | _C_     | _22\\.1_ |\n|                                                                                                                 | pre_shared_key (RFC8446)                                                                                                                                                                                                                                                                                  | _C_     | _22\\.2_ |\n|                                                                                                                 | psk_key_exchange_modes (RFC8446)                                                                                                                                                                                                                                                                          | _C_     | _22\\.2_ |\n|                                                                                                                 | early_data (RFC8446)                                                                                                                                                                                                                                                                                      | _C_     | _23\\.3_ |\n|                                                                                                                 | cookie (RFC8446)                                                                                                                                                                                                                                                                                          | _C_     | _23\\.1_ |\n|                                                                                                                 | supported_versions (RFC8446)                                                                                                                                                                                                                                                                              | _C_     | _22\\.1_ |\n|                                                                                                                 | certificate_authorities (RFC8446)                                                                                                                                                                                                                                                                         | _C_     | 24\\.3   |\n|                                                                                                                 | oid_filters (RFC8446)                                                                                                                                                                                                                                                                                     | _NC_    |         |\n|                                                                                                                 | post_handshake_auth (RFC8446)                                                                                                                                                                                                                                                                             | _NC_    |         |\n|                                                                                                                 | signature_algorithms_cert (RFC8446)                                                                                                                                                                                                                                                                       | _C_     | _22\\.1_ |\n|                                                                                                                 | _Server_                                                                                                                                                                                                                                                                                                  | _PC_    | _22_    |\n|                                                                                                                 | server_name (RFC6066)                                                                                                                                                                                                                                                                                     | _C_     | _23\\.2_ |\n|                                                                                                                 | max_fragment_length (RFC6066)                                                                                                                                                                                                                                                                             | _C_     | _23\\.0_ |\n|                                                                                                                 | status_request (RFC6066)                                                                                                                                                                                                                                                                                  | _NC_    |         |\n|                                                                                                                 | supported_groups (RFC7919)                                                                                                                                                                                                                                                                                | _C_     | _22_    |\n|                                                                                                                 | signature_algorithms (RFC8446)                                                                                                                                                                                                                                                                            | _C_     | _22_    |\n|                                                                                                                 | use_srtp (RFC5764)                                                                                                                                                                                                                                                                                        | _C_     | 26\\.0   |\n|                                                                                                                 | heartbeat (RFC6520)                                                                                                                                                                                                                                                                                       | _NC_    |         |\n|                                                                                                                 | application_layer_protocol_negotiation (RFC7301)                                                                                                                                                                                                                                                          | _C_     | _22\\.1_ |\n|                                                                                                                 | signed_certificate_timestamp (RFC6962)                                                                                                                                                                                                                                                                    | _NC_    |         |\n|                                                                                                                 | client_certificate_type (RFC7250)                                                                                                                                                                                                                                                                         | _NC_    |         |\n|                                                                                                                 | server_certificate_type (RFC7250)                                                                                                                                                                                                                                                                         | _NC_    |         |\n|                                                                                                                 | padding (RFC7685)                                                                                                                                                                                                                                                                                         | _NC_    |         |\n|                                                                                                                 | key_share (RFC8446)                                                                                                                                                                                                                                                                                       | _C_     | _22_    |\n|                                                                                                                 | pre_shared_key (RFC8446)                                                                                                                                                                                                                                                                                  | _C_     | _22\\.2_ |\n|                                                                                                                 | psk_key_exchange_modes (RFC8446)                                                                                                                                                                                                                                                                          | _C_     | _22\\.2_ |\n|                                                                                                                 | early_data (RFC8446)                                                                                                                                                                                                                                                                                      | _C_     | _23\\.3_ |\n|                                                                                                                 | cookie (RFC8446)                                                                                                                                                                                                                                                                                          | _C_     | _23\\.1_ |\n|                                                                                                                 | supported_versions (RFC8446)                                                                                                                                                                                                                                                                              | _C_     | _22_    |\n|                                                                                                                 | oid_filters (RFC8446)                                                                                                                                                                                                                                                                                     | _NC_    |         |\n|                                                                                                                 | post_handshake_auth (RFC8446)                                                                                                                                                                                                                                                                             | _NC_    |         |\n|                                                                                                                 | signature_algorithms_cert (RFC8446)                                                                                                                                                                                                                                                                       | _C_     | _22_    |\n| [4\\.1.3. Server Hello](https://tools.ietf.org/html/rfc8446#section-4.1.3)                                       | _Client_                                                                                                                                                                                                                                                                                                  | _C_     | _22\\.2_ |\n|                                                                                                                 | Version downgrade protection                                                                                                                                                                                                                                                                              | _C_     | _22\\.1_ |\n|                                                                                                                 | key_share (RFC8446)                                                                                                                                                                                                                                                                                       | _C_     | _22\\.1_ |\n|                                                                                                                 | pre_shared_key (RFC8446)                                                                                                                                                                                                                                                                                  | _C_     | _22\\.2_ |\n|                                                                                                                 | supported_versions (RFC8446)                                                                                                                                                                                                                                                                              | _C_     | _22\\.1_ |\n|                                                                                                                 | use_srtp (RFC5764)                                                                                                                                                                                                                                                                                        | _C_     | 26\\.0   |\n|                                                                                                                 | _Server_                                                                                                                                                                                                                                                                                                  | _C_     | _22\\.2_ |\n|                                                                                                                 | Version downgrade protection                                                                                                                                                                                                                                                                              | _C_     | _22_    |\n|                                                                                                                 | key_share (RFC8446)                                                                                                                                                                                                                                                                                       | _C_     | _22_    |\n|                                                                                                                 | pre_shared_key (RFC8446)                                                                                                                                                                                                                                                                                  | _C_     | _22\\.2_ |\n|                                                                                                                 | supported_versions (RFC8446)                                                                                                                                                                                                                                                                              | _C_     | _22_    |\n|                                                                                                                 | use_srtp (RFC5764)                                                                                                                                                                                                                                                                                        | _C_     | 26\\.0   |\n| [4\\.1.4. Hello Retry Request](https://tools.ietf.org/html/rfc8446#section-4.1.4)                                | _Server_                                                                                                                                                                                                                                                                                                  | _C_     | _22_    |\n|                                                                                                                 | key_share (RFC8446)                                                                                                                                                                                                                                                                                       | _C_     | _22_    |\n|                                                                                                                 | cookie (RFC8446)                                                                                                                                                                                                                                                                                          | _C_     | _23\\.1_ |\n|                                                                                                                 | supported_versions (RFC8446)                                                                                                                                                                                                                                                                              | _C_     | _22_    |\n| [4\\.2.1. Supported Versions](https://tools.ietf.org/html/rfc8446#section-4.2.1)                                 | _Client_                                                                                                                                                                                                                                                                                                  | _C_     | _22\\.1_ |\n|                                                                                                                 | _Server_                                                                                                                                                                                                                                                                                                  | _C_     | _22_    |\n| [4\\.2.2. Cookie](https://tools.ietf.org/html/rfc8446#section-4.2.2)                                             | _Client_                                                                                                                                                                                                                                                                                                  | _C_     | _23\\.1_ |\n|                                                                                                                 | _Server_                                                                                                                                                                                                                                                                                                  | _C_     | _23\\.1_ |\n| [4\\.2.3. Signature Algorithms](https://tools.ietf.org/html/rfc8446#section-4.2.3)                               | _Client_                                                                                                                                                                                                                                                                                                  | _C_     | _24_    |\n|                                                                                                                 | rsa_pkcs1_sha256                                                                                                                                                                                                                                                                                          | _C_     | _22\\.1_ |\n|                                                                                                                 | rsa_pkcs1_sha384                                                                                                                                                                                                                                                                                          | _C_     | _22\\.1_ |\n|                                                                                                                 | rsa_pkcs1_sha512                                                                                                                                                                                                                                                                                          | _C_     | _22\\.1_ |\n|                                                                                                                 | ecdsa_secp256r1_sha256                                                                                                                                                                                                                                                                                    | _C_     | _22\\.1_ |\n|                                                                                                                 | ecdsa_secp384r1_sha384                                                                                                                                                                                                                                                                                    | _C_     | _22\\.1_ |\n|                                                                                                                 | ecdsa_secp521r1_sha512                                                                                                                                                                                                                                                                                    | _C_     | _22\\.1_ |\n|                                                                                                                 | rsa_pss_rsae_sha256                                                                                                                                                                                                                                                                                       | _C_     | _22\\.1_ |\n|                                                                                                                 | rsa_pss_rsae_sha384                                                                                                                                                                                                                                                                                       | _C_     | _22\\.1_ |\n|                                                                                                                 | rsa_pss_rsae_sha512                                                                                                                                                                                                                                                                                       | _C_     | _22\\.1_ |\n|                                                                                                                 | ed25519                                                                                                                                                                                                                                                                                                   | _C_     | _24_    |     |\n|                                                                                                                 | ed448                                                                                                                                                                                                                                                                                                     | _C_     | _24_    |     |\n|                                                                                                                 | rsa_pss_pss_sha256                                                                                                                                                                                                                                                                                        | _C_     | _23_    |\n|                                                                                                                 | rsa_pss_pss_sha384                                                                                                                                                                                                                                                                                        | _C_     | _23_    |\n|                                                                                                                 | rsa_pss_pss_sha512                                                                                                                                                                                                                                                                                        | _C_     | _23_    |\n|                                                                                                                 | rsa_pkcs1_sha1                                                                                                                                                                                                                                                                                            | _C_     | _22\\.1_ |\n|                                                                                                                 | ecdsa_sha1                                                                                                                                                                                                                                                                                                | _C_     | _22\\.1_ |\n|                                                                                                                 | _Server_                                                                                                                                                                                                                                                                                                  | _C_     | _24_    |\n|                                                                                                                 | rsa_pkcs1_sha256                                                                                                                                                                                                                                                                                          | _C_     | _22_    |\n|                                                                                                                 | rsa_pkcs1_sha384                                                                                                                                                                                                                                                                                          | _C_     | _22_    |\n|                                                                                                                 | rsa_pkcs1_sha512                                                                                                                                                                                                                                                                                          | _C_     | _22_    |\n|                                                                                                                 | ecdsa_secp256r1_sha256                                                                                                                                                                                                                                                                                    | _C_     | _22\\.1_ |\n|                                                                                                                 | ecdsa_secp384r1_sha384                                                                                                                                                                                                                                                                                    | _C_     | _22\\.1_ |\n|                                                                                                                 | ecdsa_secp521r1_sha512                                                                                                                                                                                                                                                                                    | _C_     | _22\\.1_ |\n|                                                                                                                 | rsa_pss_rsae_sha256                                                                                                                                                                                                                                                                                       | _C_     | _22_    |\n|                                                                                                                 | rsa_pss_rsae_sha384                                                                                                                                                                                                                                                                                       | _C_     | _22_    |\n|                                                                                                                 | rsa_pss_rsae_sha512                                                                                                                                                                                                                                                                                       | _C_     | _22_    |\n|                                                                                                                 | ed25519                                                                                                                                                                                                                                                                                                   | _C_     | _24_    |     |\n|                                                                                                                 | ed448                                                                                                                                                                                                                                                                                                     | _C_     | _24_    |     |\n|                                                                                                                 | rsa_pss_pss_sha256                                                                                                                                                                                                                                                                                        | _C_     | _23_    |\n|                                                                                                                 | rsa_pss_pss_sha384                                                                                                                                                                                                                                                                                        | _C_     | _23_    |\n|                                                                                                                 | rsa_pss_pss_sha512                                                                                                                                                                                                                                                                                        | _C_     | _23_    |\n|                                                                                                                 | rsa_pkcs1_sha1                                                                                                                                                                                                                                                                                            | _C_     | _22_    |\n|                                                                                                                 | ecdsa_sha1                                                                                                                                                                                                                                                                                                | _C_     | _22_    |\n| [4\\.2.4. Certificate Authorities](https://tools.ietf.org/html/rfc8446#section-4.2.4)                            | _Client_                                                                                                                                                                                                                                                                                                  | _C_     | 24\\.3   |\n|                                                                                                                 | _Server_                                                                                                                                                                                                                                                                                                  | _C_     | _24\\.3_ |\n| [4\\.2.5. OID Filters](https://tools.ietf.org/html/rfc8446#section-4.2.5)                                        | _Client_                                                                                                                                                                                                                                                                                                  | _NC_    |         |\n|                                                                                                                 | _Server_                                                                                                                                                                                                                                                                                                  | _NC_    |         |\n| [4\\.2.6. Post-Handshake Client Authentication](https://tools.ietf.org/html/rfc8446#section-4.2.6)               | _Client_                                                                                                                                                                                                                                                                                                  | _NC_    |         |\n|                                                                                                                 | _Server_                                                                                                                                                                                                                                                                                                  | _NC_    |         |\n| [4\\.2.7. Supported Groups](https://tools.ietf.org/html/rfc8446#section-4.2.7)                                   | _Client_                                                                                                                                                                                                                                                                                                  | _C_     | _22\\.1_ |\n|                                                                                                                 | secp256r1                                                                                                                                                                                                                                                                                                 | _C_     | _22\\.1_ |\n|                                                                                                                 | secp384r1                                                                                                                                                                                                                                                                                                 | _C_     | _22\\.1_ |\n|                                                                                                                 | secp521r1                                                                                                                                                                                                                                                                                                 | _C_     | _22\\.1_ |\n|                                                                                                                 | x25519                                                                                                                                                                                                                                                                                                    | _C_     | _22\\.1_ |\n|                                                                                                                 | x448                                                                                                                                                                                                                                                                                                      | _C_     | _22\\.1_ |\n|                                                                                                                 | ffdhe2048                                                                                                                                                                                                                                                                                                 | _C_     | _22\\.1_ |\n|                                                                                                                 | ffdhe3072                                                                                                                                                                                                                                                                                                 | _C_     | _22\\.1_ |\n|                                                                                                                 | ffdhe4096                                                                                                                                                                                                                                                                                                 | _C_     | _22\\.1_ |\n|                                                                                                                 | ffdhe6144                                                                                                                                                                                                                                                                                                 | _C_     | _22\\.1_ |\n|                                                                                                                 | ffdhe8192                                                                                                                                                                                                                                                                                                 | _C_     | _22\\.1_ |\n|                                                                                                                 | _Server_                                                                                                                                                                                                                                                                                                  | _C_     | _22_    |\n|                                                                                                                 | secp256r1                                                                                                                                                                                                                                                                                                 | _C_     | _22_    |\n|                                                                                                                 | secp384r1                                                                                                                                                                                                                                                                                                 | _C_     | _22_    |\n|                                                                                                                 | secp521r1                                                                                                                                                                                                                                                                                                 | _C_     | _22_    |\n|                                                                                                                 | x25519                                                                                                                                                                                                                                                                                                    | _C_     | _22_    |\n|                                                                                                                 | x448                                                                                                                                                                                                                                                                                                      | _C_     | _22_    |\n|                                                                                                                 | ffdhe2048                                                                                                                                                                                                                                                                                                 | _C_     | _22_    |\n|                                                                                                                 | ffdhe3072                                                                                                                                                                                                                                                                                                 | _C_     | _22_    |\n|                                                                                                                 | ffdhe4096                                                                                                                                                                                                                                                                                                 | _C_     | _22_    |\n|                                                                                                                 | ffdhe6144                                                                                                                                                                                                                                                                                                 | _C_     | _22_    |\n|                                                                                                                 | ffdhe8192                                                                                                                                                                                                                                                                                                 | _C_     | _22_    |\n| [4\\.2.8. Key Share](https://tools.ietf.org/html/rfc8446#section-4.2.8)                                          | _Client_                                                                                                                                                                                                                                                                                                  | _C_     | _22\\.1_ |\n|                                                                                                                 | _Server_                                                                                                                                                                                                                                                                                                  | _C_     | _22_    |\n| [4\\.2.9. Pre-Shared Key Exchange Modes](https://tools.ietf.org/html/rfc8446#section-4.2.9)                      | _Client_                                                                                                                                                                                                                                                                                                  | _C_     | _22\\.2_ |\n|                                                                                                                 | _Server_                                                                                                                                                                                                                                                                                                  | _C_     | _22\\.2_ |\n| [4\\.2.10. Early Data Indication](https://tools.ietf.org/html/rfc8446#section-4.2.10)                            | _Client_                                                                                                                                                                                                                                                                                                  | _C_     | _23\\.3_ |\n|                                                                                                                 | _Server_                                                                                                                                                                                                                                                                                                  | _C_     | _23\\.3_ |\n| [4\\.2.11. Pre-Shared Key Extension](https://tools.ietf.org/html/rfc8446#section-4.2.11)                         | _Client_                                                                                                                                                                                                                                                                                                  | _C_     | _22\\.2_ |\n|                                                                                                                 | _Server_                                                                                                                                                                                                                                                                                                  | _C_     | _22\\.2_ |\n| [4\\.2.11.1. Ticket Age](https://tools.ietf.org/html/rfc8446#section-4.2.11.1)                                   | _Client_                                                                                                                                                                                                                                                                                                  | _C_     | _22\\.2_ |\n|                                                                                                                 | _Server_                                                                                                                                                                                                                                                                                                  | _C_     | _22\\.2_ |\n| [4\\.2.11.2. PSK Binder](https://tools.ietf.org/html/rfc8446#section-4.2.11.2)                                   | _Client_                                                                                                                                                                                                                                                                                                  | _C_     | _22\\.2_ |\n|                                                                                                                 | _Server_                                                                                                                                                                                                                                                                                                  | _C_     | _22\\.2_ |\n| [4\\.2.11.3. Processing Order](https://tools.ietf.org/html/rfc8446#section-4.2.11.3)                             | _Client_                                                                                                                                                                                                                                                                                                  | _NC_    |         |\n|                                                                                                                 | _Server_                                                                                                                                                                                                                                                                                                  | _NC_    |         |\n| [4\\.3.1. Encrypted Extensions](https://tools.ietf.org/html/rfc8446#section-4.3.1)                               | _Client_                                                                                                                                                                                                                                                                                                  | _PC_    | _22\\.1_ |\n|                                                                                                                 | server_name (RFC6066)                                                                                                                                                                                                                                                                                     | _C_     | _23\\.2_ |\n|                                                                                                                 | max_fragment_length (RFC6066)                                                                                                                                                                                                                                                                             | _C_     | _23\\.0_ |\n|                                                                                                                 | supported_groups (RFC7919)                                                                                                                                                                                                                                                                                | _NC_    |         |\n|                                                                                                                 | use_srtp (RFC5764)                                                                                                                                                                                                                                                                                        | _NC_    |         |\n|                                                                                                                 | heartbeat (RFC6520)                                                                                                                                                                                                                                                                                       | _NC_    |         |\n|                                                                                                                 | application_layer_protocol_negotiation (RFC7301)                                                                                                                                                                                                                                                          | _C_     | 23\\.0   |\n|                                                                                                                 | client_certificate_type (RFC7250)                                                                                                                                                                                                                                                                         | _NC_    |         |\n|                                                                                                                 | server_certificate_type (RFC7250)                                                                                                                                                                                                                                                                         | _NC_    |         |\n|                                                                                                                 | early_data (RFC8446)                                                                                                                                                                                                                                                                                      | _C_     | _23\\.3_ |\n|                                                                                                                 | _Server_                                                                                                                                                                                                                                                                                                  | _PC_    | _22_    |\n|                                                                                                                 | server_name (RFC6066)                                                                                                                                                                                                                                                                                     | _C_     | _23\\.2_ |\n|                                                                                                                 | max_fragment_length (RFC6066)                                                                                                                                                                                                                                                                             | _C_     | _23\\.0_ |\n|                                                                                                                 | supported_groups (RFC7919)                                                                                                                                                                                                                                                                                | _NC_    |         |\n|                                                                                                                 | use_srtp (RFC5764)                                                                                                                                                                                                                                                                                        | _NC_    |         |\n|                                                                                                                 | heartbeat (RFC6520)                                                                                                                                                                                                                                                                                       | _NC_    |         |\n|                                                                                                                 | application_layer_protocol_negotiation (RFC7301)                                                                                                                                                                                                                                                          | _C_     | 23\\.0   |\n|                                                                                                                 | client_certificate_type (RFC7250)                                                                                                                                                                                                                                                                         | _NC_    |         |\n|                                                                                                                 | server_certificate_type (RFC7250)                                                                                                                                                                                                                                                                         | _NC_    |         |\n|                                                                                                                 | early_data (RFC8446)                                                                                                                                                                                                                                                                                      | _C_     | _23\\.3_ |\n| [4\\.3.2. Certificate Request](https://tools.ietf.org/html/rfc8446#section-4.3.2)                                | _Client_                                                                                                                                                                                                                                                                                                  | _PC_    | _22\\.1_ |\n|                                                                                                                 | status_request (RFC6066)                                                                                                                                                                                                                                                                                  | _NC_    |         |\n|                                                                                                                 | signature_algorithms (RFC8446)                                                                                                                                                                                                                                                                            | _C_     | _22\\.1_ |\n|                                                                                                                 | signed_certificate_timestamp (RFC6962)                                                                                                                                                                                                                                                                    | _NC_    |         |\n|                                                                                                                 | certificate_authorities (RFC8446)                                                                                                                                                                                                                                                                         | _C_     | 24\\.3   |\n|                                                                                                                 | oid_filters (RFC8446)                                                                                                                                                                                                                                                                                     | _NC_    |         |\n|                                                                                                                 | signature_algorithms_cert (RFC8446)                                                                                                                                                                                                                                                                       | _C_     | _22\\.1_ |\n|                                                                                                                 | _Server_                                                                                                                                                                                                                                                                                                  | _PC_    | _22_    |\n|                                                                                                                 | status_request (RFC6066)                                                                                                                                                                                                                                                                                  | _NC_    |         |\n|                                                                                                                 | signature_algorithms (RFC8446)                                                                                                                                                                                                                                                                            | _C_     | _22_    |\n|                                                                                                                 | signed_certificate_timestamp (RFC6962)                                                                                                                                                                                                                                                                    | _NC_    |         |\n|                                                                                                                 | certificate_authorities (RFC8446)                                                                                                                                                                                                                                                                         | _C_     | 24\\.3   |\n|                                                                                                                 | oid_filters (RFC8446)                                                                                                                                                                                                                                                                                     | _NC_    |         |\n|                                                                                                                 | signature_algorithms_cert (RFC8446)                                                                                                                                                                                                                                                                       | _C_     | _22_    |\n| [4\\.4.1. The Transcript Hash](https://tools.ietf.org/html/rfc8446#section-4.4.1)                                |                                                                                                                                                                                                                                                                                                           | _C_     | _22_    |\n| [4\\.4.2. Certificate](https://tools.ietf.org/html/rfc8446#section-4.4.2)                                        | _Client_                                                                                                                                                                                                                                                                                                  | _PC_    | _22\\.1_ |\n|                                                                                                                 | Arbitrary certificate chain orderings                                                                                                                                                                                                                                                                     | _C_     | _22\\.2_ |\n|                                                                                                                 | Extraneous certificates in chain                                                                                                                                                                                                                                                                          | _C_     | _23\\.2_ |\n|                                                                                                                 | status_request (RFC6066)                                                                                                                                                                                                                                                                                  | _NC_    |         |\n|                                                                                                                 | signed_certificate_timestamp (RFC6962)                                                                                                                                                                                                                                                                    | _NC_    |         |\n|                                                                                                                 | _Server_                                                                                                                                                                                                                                                                                                  | _PC_    | _22_    |\n|                                                                                                                 | status_request (RFC6066)                                                                                                                                                                                                                                                                                  | _NC_    |         |\n|                                                                                                                 | signed_certificate_timestamp (RFC6962)                                                                                                                                                                                                                                                                    | _NC_    |         |\n| [4\\.4.2.1. OCSP Status and SCT Extensions](https://tools.ietf.org/html/rfc8446#section-4.4.2.1)                 | _Client_                                                                                                                                                                                                                                                                                                  | _NC_    |         |\n|                                                                                                                 | _Server_                                                                                                                                                                                                                                                                                                  | _NC_    |         |\n| [4\\.4.2.2. Server Certificate Selection](https://tools.ietf.org/html/rfc8446#section-4.4.2.2)                   |                                                                                                                                                                                                                                                                                                           | _C_     | _24\\.3_ |\n|                                                                                                                 | The certificate type MUST be X.509v3, unless explicitly negotiated otherwise                                                                                                                                                                                                                              | _C_     | _22_    |\n|                                                                                                                 | The server's end-entity certificate's public key (and associated restrictions) MUST be compatible with the selected authentication algorithm from the client's \"signature_algorithms\" extension (currently RSA, ECDSA, or EdDSA).                                                                         | _C_     | _22_    |\n|                                                                                                                 | The certificate MUST allow the key to be used for signing with a signature scheme indicated in the client's \"signature_algorithms\"/\"signature_algorithms_cert\" extensions                                                                                                                                 | _C_     | _22_    |\n|                                                                                                                 | The \"server_name\" and \"certificate_authorities\" extensions are used to guide certificate selection. As servers MAY require the presence of the \"server_name\" extension, clients SHOULD send this extension, when applicable.                                                                              | _C_     | _24\\.3_ |\n| [4\\.4.2.3. Client Certificate Selection](https://tools.ietf.org/html/rfc8446#section-4.4.2.3)                   |                                                                                                                                                                                                                                                                                                           | _PC_    | _22\\.1_ |\n|                                                                                                                 | The certificate type MUST be X.509v3, unless explicitly negotiated otherwise                                                                                                                                                                                                                              | _C_     | _22\\.1_ |\n|                                                                                                                 | If the \"certificate_authorities\" extension in the CertificateRequest message was present, at least one of the certificates in the certificate chain SHOULD be issued by one of the listed CAs.                                                                                                            | _C_     | _24\\.3_ |\n|                                                                                                                 | The certificates MUST be signed using an acceptable signature algorithm                                                                                                                                                                                                                                   | _C_     | _22\\.1_ |\n|                                                                                                                 | If the CertificateRequest message contained a non-empty \"oid_filters\" extension, the end-entity certificate MUST match the extension OIDs that are recognized by the client                                                                                                                               | _NC_    |         |\n| [4\\.4.2.4. Receiving a Certificate Message](https://tools.ietf.org/html/rfc8446#section-4.4.2.4)                | _Client_                                                                                                                                                                                                                                                                                                  | _C_     | _22\\.1_ |\n|                                                                                                                 | _Server_                                                                                                                                                                                                                                                                                                  | _C_     | _22_    |\n| [4\\.4.3. Certificate Verify](https://tools.ietf.org/html/rfc8446#section-4.4.3)                                 | _Client_                                                                                                                                                                                                                                                                                                  | _C_     | _22\\.1_ |\n|                                                                                                                 | _Server_                                                                                                                                                                                                                                                                                                  | _C_     | _22_    |\n| [4\\.4.4. Finished](https://tools.ietf.org/html/rfc8446#section-4.4.4)                                           | _Client_                                                                                                                                                                                                                                                                                                  | _C_     | _22\\.1_ |\n|                                                                                                                 | _Server_                                                                                                                                                                                                                                                                                                  | _C_     | _22_    |\n| [4\\.5. End of Early Data](https://tools.ietf.org/html/rfc8446#section-4.5)                                      | _Client_                                                                                                                                                                                                                                                                                                  | _C_     | _23\\.3_ |\n|                                                                                                                 | _Server_                                                                                                                                                                                                                                                                                                  | _C_     | _23\\.3_ |\n| [4\\.6.1. New Session Ticket Message](https://tools.ietf.org/html/rfc8446#section-4.6.1)                         | _Client_                                                                                                                                                                                                                                                                                                  | _C_     | _23\\.3_ |\n|                                                                                                                 | early_data (RFC8446)                                                                                                                                                                                                                                                                                      | _C_     | _23\\.3_ |\n|                                                                                                                 | _Server_                                                                                                                                                                                                                                                                                                  | _C_     | _23\\.3_ |\n|                                                                                                                 | early_data (RFC8446)                                                                                                                                                                                                                                                                                      | _C_     | _23\\.3_ |\n| [4\\.6.2. Post-Handshake Authentication](https://tools.ietf.org/html/rfc8446#section-4.6.2)                      | _Client_                                                                                                                                                                                                                                                                                                  | _NC_    |         |\n|                                                                                                                 | _Server_                                                                                                                                                                                                                                                                                                  | _NC_    |         |\n| [4\\.6.3. Key and Initialization Vector Update](https://tools.ietf.org/html/rfc8446#section-4.6.3)               | _Client_                                                                                                                                                                                                                                                                                                  | _C_     | _22\\.3_ |\n|                                                                                                                 | _Server_                                                                                                                                                                                                                                                                                                  | _C_     | _22\\.3_ |\n| [5\\.1. Record Layer](https://tools.ietf.org/html/rfc8446#section-5.1)                                           |                                                                                                                                                                                                                                                                                                           | _C_     | _22_    |\n|                                                                                                                 | MUST NOT be interleaved with other record types                                                                                                                                                                                                                                                           | _C_     | _22_    |\n|                                                                                                                 | MUST NOT span key changes                                                                                                                                                                                                                                                                                 | _C_     | _22_    |\n|                                                                                                                 | MUST NOT send zero-length fragments                                                                                                                                                                                                                                                                       | _C_     | _22_    |\n|                                                                                                                 | Alert messages MUST NOT be fragmented                                                                                                                                                                                                                                                                     | _C_     | _22_    |\n| [5\\.2. Record Payload Protection](https://tools.ietf.org/html/rfc8446#section-5.2)                              |                                                                                                                                                                                                                                                                                                           | _C_     | _22_    |\n| [5\\.3. Per-Record Nonce](https://tools.ietf.org/html/rfc8446#section-5.3)                                       |                                                                                                                                                                                                                                                                                                           | _C_     | _22_    |\n| [5\\.4. Record Padding](https://tools.ietf.org/html/rfc8446#section-5.4)                                         |                                                                                                                                                                                                                                                                                                           | _PC_    | _22_    |\n|                                                                                                                 | MAY choose to pad                                                                                                                                                                                                                                                                                         | _NC_    |         |\n|                                                                                                                 | MUST NOT send Handshake and Alert records that have a zero-length TLSInnerPlaintext.content                                                                                                                                                                                                               | _NC_    |         |\n|                                                                                                                 | The padding sent is automatically verified                                                                                                                                                                                                                                                                | _C_     | _22_    |\n| [5\\.5. Limits on Key Usage](https://tools.ietf.org/html/rfc8446#section-5.5)                                    |                                                                                                                                                                                                                                                                                                           | _C_     | _22\\.3_ |\n| [6\\.1. Closure Alerts](https://tools.ietf.org/html/rfc8446#section-6.1)                                         |                                                                                                                                                                                                                                                                                                           | _22_    |         |\n|                                                                                                                 | close_notify                                                                                                                                                                                                                                                                                              | _C_     | _22_    |     |\n|                                                                                                                 | user_cancelled                                                                                                                                                                                                                                                                                            | _C_     | _22_    |     |\n| [6\\.2. Error Alerts](https://tools.ietf.org/html/rfc8446#section-6.2)                                           |                                                                                                                                                                                                                                                                                                           | _PC_    | _22_    |\n| [7\\.1. Key Schedule](https://tools.ietf.org/html/rfc8446#section-7.1)                                           |                                                                                                                                                                                                                                                                                                           | _C_     | _22_    |\n| [7\\.2. Updating Traffic Secrets](https://tools.ietf.org/html/rfc8446#section-7.2)                               |                                                                                                                                                                                                                                                                                                           | _C_     | _22_    |\n| [7\\.3. Traffic Key Calculation](https://tools.ietf.org/html/rfc8446#section-7.3)                                |                                                                                                                                                                                                                                                                                                           | _C_     | _22_    |\n| [7\\.5. Exporters](https://tools.ietf.org/html/rfc8446#section-7.5)                                              |                                                                                                                                                                                                                                                                                                           | _NC_    |         |\n| [8\\. 0-RTT and Anti-Replay](https://tools.ietf.org/html/rfc8446#section/8)                                      |                                                                                                                                                                                                                                                                                                           | _C_     | _22\\.2_ |\n| [8\\.1. Single-Use Tickets](https://tools.ietf.org/html/rfc8446#section-8.1)                                     |                                                                                                                                                                                                                                                                                                           | _C_     | _22\\.2_ |\n| [8\\.2. Client Hello Recording](https://tools.ietf.org/html/rfc8446#section-8.2)                                 |                                                                                                                                                                                                                                                                                                           | _C_     | _22\\.2_ |\n| [8\\.3. Freshness Checks](https://tools.ietf.org/html/rfc8446#section-8.3)                                       |                                                                                                                                                                                                                                                                                                           | _C_     | _22\\.2_ |\n| [9\\.1. Mandatory-to-Implement Cipher Suites](https://tools.ietf.org/html/rfc8446#section-9.1)                   |                                                                                                                                                                                                                                                                                                           | _C_     | _22\\.1_ |\n|                                                                                                                 | MUST implement the TLS_AES_128_GCM_SHA256                                                                                                                                                                                                                                                                 | _C_     | _22_    |\n|                                                                                                                 | SHOULD implement the TLS_AES_256_GCM_SHA384                                                                                                                                                                                                                                                               | _C_     | _22_    |\n|                                                                                                                 | SHOULD implement the TLS_CHACHA20_POLY1305_SHA256                                                                                                                                                                                                                                                         | _C_     | _22_    |\n|                                                                                                                 | _Digital signatures_                                                                                                                                                                                                                                                                                      | _C_     | _22\\.1_ |\n|                                                                                                                 | MUST support rsa_pkcs1_sha256 (for certificates)                                                                                                                                                                                                                                                          | _C_     | _22_    |\n|                                                                                                                 | MUST support rsa_pss_rsae_sha256 (for CertificateVerify and certificates)                                                                                                                                                                                                                                 | _C_     | _22_    |\n|                                                                                                                 | MUST support ecdsa_secp256r1_sha256                                                                                                                                                                                                                                                                       | _C_     | _22\\.1_ |\n|                                                                                                                 | _Key Exchange_                                                                                                                                                                                                                                                                                            | _C_     | _22_    |\n|                                                                                                                 | MUST support key exchange with secp256r1                                                                                                                                                                                                                                                                  | _C_     | _22_    |\n|                                                                                                                 | SHOULD support key exchange with X25519                                                                                                                                                                                                                                                                   | _C_     | _22_    |\n| [9\\.2. Mandatory-to-Implement Extensions](https://tools.ietf.org/html/rfc8446#section-9.2)                      |                                                                                                                                                                                                                                                                                                           | _C_     | _23\\.2_ |\n|                                                                                                                 | Supported Versions                                                                                                                                                                                                                                                                                        | _C_     | _22_    |\n|                                                                                                                 | Cookie                                                                                                                                                                                                                                                                                                    | _C_     | _23\\.1_ |\n|                                                                                                                 | Signature Algorithms                                                                                                                                                                                                                                                                                      | _C_     | _22_    |\n|                                                                                                                 | Signature Algorithms Certificate                                                                                                                                                                                                                                                                          | _C_     | _22_    |\n|                                                                                                                 | Negotiated Groups                                                                                                                                                                                                                                                                                         | _C_     | _22_    |\n|                                                                                                                 | Key Share                                                                                                                                                                                                                                                                                                 | _C_     | _22_    |\n|                                                                                                                 | Server Name Indication                                                                                                                                                                                                                                                                                    | _C_     | _23\\.2_ |\n|                                                                                                                 | _MUST send and use these extensions_                                                                                                                                                                                                                                                                      | _C_     | _22\\.2_ |\n|                                                                                                                 | \"supported_versions\" is REQUIRED for ClientHello, ServerHello and HelloRetryRequest                                                                                                                                                                                                                       | _C_     | _22\\.1_ |\n|                                                                                                                 | \"signature_algorithms\" is REQUIRED for certificate authentication                                                                                                                                                                                                                                         | _C_     | _22_    |\n|                                                                                                                 | \"supported_groups\" is REQUIRED for ClientHello messages using (EC)DHE key exchange                                                                                                                                                                                                                        | _C_     | _22_    |\n|                                                                                                                 | \"key_share\" is REQUIRED for (EC)DHE key exchange                                                                                                                                                                                                                                                          | _C_     | _22_    |\n|                                                                                                                 | \"pre_shared_key\" is REQUIRED for PSK key agreement                                                                                                                                                                                                                                                        | _C_     | _22\\.2_ |\n|                                                                                                                 | \"psk_key_exchange_modes\" is REQUIRED for PSK key agreement                                                                                                                                                                                                                                                | _C_     | _22\\.2_ |\n|                                                                                                                 | _TLS 1.3 ClientHello_                                                                                                                                                                                                                                                                                     | _C_     | _22\\.1_ |\n|                                                                                                                 | If not containing a \"pre_shared_key\" extension, it MUST contain both a \"signature_algorithms\" extension and a \"supported_groups\" extension.                                                                                                                                                               | _C_     | _22\\.1_ |\n|                                                                                                                 | If containing a \"supported_groups\" extension, it MUST also contain a \"key_share\" extension, and vice versa. An empty KeyShare.client_shares vector is permitted.                                                                                                                                          | _C_     | _22\\.1_ |\n|                                                                                                                 | _TLS 1.3 ServerHello_                                                                                                                                                                                                                                                                                     | _C_     | _23\\.2_ |\n|                                                                                                                 | MUST support the use of the \"server_name\" extension                                                                                                                                                                                                                                                       | _C_     | _23\\.2_ |\n| [9\\.3. Protocol Invariants](https://tools.ietf.org/html/rfc8446#section-9.3)                                    |                                                                                                                                                                                                                                                                                                           | _C_     | _22\\.1_ |\n|                                                                                                                 | _MUST correctly handle extensible fields_                                                                                                                                                                                                                                                                 | _C_     | _22\\.1_ |\n|                                                                                                                 | A client sending a ClientHello MUST support all parameters advertised in it. Otherwise, the server may fail to interoperate by selecting one of those parameters.                                                                                                                                         | _C_     | _22\\.1_ |\n|                                                                                                                 | A server receiving a ClientHello MUST correctly ignore all unrecognized cipher suites, extensions, and other parameters. Otherwise, it may fail to interoperate with newer clients. In TLS 1.3, a client receiving a CertificateRequest or NewSessionTicket MUST also ignore all unrecognized extensions. | _C_     | _22\\.1_ |\n|                                                                                                                 | A middlebox which terminates a TLS connection MUST behave as a compliant TLS server                                                                                                                                                                                                                       | _NA_    |         |\n|                                                                                                                 | A middlebox which forwards ClientHello parameters it does not understand MUST NOT process any messages beyond that ClientHello. It MUST forward all subsequent traffic unmodified. Otherwise, it may fail to interoperate with newer clients and servers.                                                 | _NA_    |         |\n| [B.4. Cipher Suites](https://tools.ietf.org/html/rfc8446#section-B.4)                                           |                                                                                                                                                                                                                                                                                                           | _C_     | _23_    |\n|                                                                                                                 | TLS_AES_128_GCM_SHA256                                                                                                                                                                                                                                                                                    | _C_     | _22_    |\n|                                                                                                                 | TLS_AES_256_GCM_SHA384                                                                                                                                                                                                                                                                                    | _C_     | _22_    |\n|                                                                                                                 | TLS_CHACHA20_POLY1305_SHA256                                                                                                                                                                                                                                                                              | _C_     | _22_    |\n|                                                                                                                 | TLS_AES_128_CCM_SHA256                                                                                                                                                                                                                                                                                    | _C_     | _22_    |\n|                                                                                                                 | TLS_AES_128_CCM_8_SHA256                                                                                                                                                                                                                                                                                  | _C_     | _23_    |\n| [C.1. Random Number Generation and Seeding](https://tools.ietf.org/html/rfc8446#section-C.1)                    |                                                                                                                                                                                                                                                                                                           | _C_     | _22_    |\n| [C.2. Certificates and Authentication](https://tools.ietf.org/html/rfc8446#section-C.2)                         |                                                                                                                                                                                                                                                                                                           | _C_     | _22_    |\n| [C.3. Implementation Pitfalls](https://tools.ietf.org/html/rfc8446#section-C.3)                                 |                                                                                                                                                                                                                                                                                                           | _PC_    | _22_    |\n| [C.4. Client Tracking Prevention](https://tools.ietf.org/html/rfc8446#section-C.4)                              |                                                                                                                                                                                                                                                                                                           | _C_     | _22\\.2_ |\n| [C.5. Unauthenticated Operation](https://tools.ietf.org/html/rfc8446#section-C.5)                               |                                                                                                                                                                                                                                                                                                           | _C_     | _22_    |\n| [D.1. Negotiating with an Older Server](https://tools.ietf.org/html/rfc8446#section-D.1)                        |                                                                                                                                                                                                                                                                                                           | _C_     | _22\\.2_ |\n| [D.2. Negotiating with an Older Client](https://tools.ietf.org/html/rfc8446#section-D.2)                        |                                                                                                                                                                                                                                                                                                           | _C_     | _22_    |\n| [D.3. 0-RTT Backward Compatibility](https://tools.ietf.org/html/rfc8446#section-D.3)                            |                                                                                                                                                                                                                                                                                                           | _NC_    |         |\n| [D.4. Middlebox Compatibility Mode](https://tools.ietf.org/html/rfc8446#section-D.4)                            |                                                                                                                                                                                                                                                                                                           | _C_     | _23_    |\n| [D.5. Security Restrictions Related to Backward Compatibility](https://tools.ietf.org/html/rfc8446#section-D.5) |                                                                                                                                                                                                                                                                                                           | _C_     | _22_    |\n\n{: id=soc_table }\n\n_Table: Standards Compliance_","ref":"standards_compliance.html#tls-1-3"},{"type":"extras","title":"ssl","doc":"# ssl\n\nThe ssl application provides secure communication over sockets.","ref":"ssl_app.html"},{"type":"extras","title":"Description - ssl","doc":"The ssl application is an implementation of the SSL, TLS and DTLS protocols in\nErlang.\n\nFor current statement of standards compliance see the\n[User's Guide](standards_compliance.md).","ref":"ssl_app.html#description"},{"type":"extras","title":"DEPENDENCIES - ssl","doc":"The SSL application uses the `public_key`, `asn1` and Crypto application to\nhandle public keys and encryption, hence these applications must be loaded for\nthe SSL application to work. In an embedded environment this means they must be\nstarted with `application:start/[1,2]` before the SSL application is started.","ref":"ssl_app.html#dependencies"},{"type":"extras","title":"CONFIGURATION - ssl","doc":"The application environment configuration parameters in this section are defined\nfor the SSL application. For more information about configuration parameters,\nsee the `m:application` manual page in Kernel.\n\nThe environment parameters can be set on the command line, for example:\n\n`erl -ssl protocol_version \"['tlsv1.2', 'tlsv1.1']\"`\n\n- **`protocol_version = `[ssl:tls_version()](`t:ssl:tls_version/0`) |\n  [[ssl:tls_version()](`t:ssl:tls_version/0`)] ` `** - Protocol\n  supported by started clients and servers. If this option is not set, it\n  defaults to all TLS protocols currently supported, more might be configurable,\n  by the SSL application. This option can be overridden by the version option to\n  `ssl:connect/[2,3]` and `ssl:listen/2`.\n\n- **`dtls_protocol_version = `[ssl:dtls_version()](`t:ssl:dtls_version/0`) |\n  [[ssl:dtls_version()](`t:ssl:dtls_version/0`)] ` `** - Protocol\n  supported by started clients and servers. If this option is not set, it\n  defaults to all DTLS protocols currently supported, more might be\n  configurable, by the SSL application. This option can be overridden by the\n  version option to `ssl:connect/[2,3]` and `ssl:listen/2`.\n\n- **`session_lifetime = integer()  `** - Maximum lifetime of the\n  session data in seconds. Defaults to 24 hours which is the maximum recommended\n  lifetime by [RFC 5246](http://www.ietf.org/rfc/5246rfc.txt). However sessions\n  may be invalidated earlier due to the maximum limitation of the session cache\n  table.\n\n- **`session_cb = atom()  `** - Deprecated Since OTP-23.3 replaced by\n  `client_session_cb` and `server_session_cb`\n\n- **`client_session_cb = atom()  `** - Since OTP-23.3 Name client of\n  the session cache callback module that implements the `ssl_session_cache_api`\n  behavior. Defaults to `ssl_client_session_cache_db`.\n\n- **`server_session_cb = atom()  `** - Since OTP-23.3 Name of the\n  server session cache callback module that implements the\n  `ssl_session_cache_api` behavior. Defaults to `ssl_server_session_cache_db`.\n\n- **`session_cb_init_args = proplist:proplist()  `** - Deprecated Since\n  OTP-23.3 replaced by `client_session_cb_init_args` and\n  `server_session_cb_init_args`\n\n- **`client_session_cb_init_args = proplist:proplist()  `** - List of\n  extra user-defined arguments to the `init` function in the session cache\n  callback module. Defaults to `[]`.\n\n- **`server_session_cb_init_args = proplist:proplist()  `** - List of\n  extra user-defined arguments to the `init` function in the session cache\n  callback module. Defaults to `[]`.\n\n- **`session_cache_client_max = integer()  `  \n  **  \n  Limits the growth of the clients session cache, that is how many sessions\n  towards servers that are cached to be used by new client connections. If the\n  maximum number of sessions is reached, the current cache entries will be\n  invalidated regardless of their remaining lifetime. Defaults to 1000.\n  Recommended ssl-8.2.1 or later for this option to work as intended.\n\n- **`session_cache_server_max = integer()  `** - Limits the growth of\n  the servers session cache, that is how many client sessions are cached by the\n  server. If the maximum number of sessions is reached, the current cache\n  entries will be invalidated regardless of their remaining lifetime. Defaults\n  to 1000. Recommended ssl-8.2.1 or later for this option to work as intended.\n\n- **`ssl_pem_cache_clean = integer()  `** - Number of milliseconds\n  between PEM cache validations. Defaults to 2 minutes.\n\n  Note: The cache can be reloaded by calling `ssl:clear_pem_cache/0`.\n\n- **`bypass_pem_cache = boolean()  `** - Introduced in ssl-8.0.2.\n  Disables the PEM-cache. Can be used as a workaround for the PEM-cache\n  bottleneck before ssl-8.1.1. Defaults to false.\n\n- **`alert_timeout = integer()  `** - Number of milliseconds between\n  sending of a fatal alert and closing the connection. Waiting a little while\n  improves the peers chances to properly receiving the alert so it may shutdown\n  gracefully. Defaults to 5000 milliseconds.\n\n- **`internal_active_n = integer()  `** - For TLS connections this\n  value is used to handle the internal socket. As the implementation was changed\n  from an active once to an active N behavior (N = 100), for performance\n  reasons, this option exist for possible tweaking or restoring of the old\n  behavior (internal_active_n = 1) in unforeseen scenarios. The option will not\n  affect erlang distribution over TLS that will always run in active N mode.\n  Added in ssl-9.1 (OTP-21.2).\n\n- **`server_session_tickets_amount = integer()  `** - Number of session\n  tickets sent by the server. It must be greater than 0. Defaults to 3.\n\n- **`server_session_ticket_lifetime = integer()  `** - Lifetime of\n  session tickets sent by the server. Servers must not use any value greater\n  than 604800 seconds (7 days). Expired tickets are automatically removed.\n  Defaults to 7200 seconds (2 hours).\n\n- **`server_session_ticket_store_size = integer()  `** - Sets the\n  maximum size of the server session ticket store (stateful tickets). Defaults\n  to 1000. Size limit is enforced by dropping old tickets.\n\n- **`server_session_ticket_max_early_data = integer()  `** - Sets the\n  maximum size of the early data that the server accepts and also configures its\n  NewSessionTicket messages to include this same size limit in their\n  early_data_indication extension. Defaults to 16384. Size limit is enforced by\n  both client and server.\n\n- **`client_session_ticket_lifetime = integer()  `** - Lifetime of\n  session tickets in the client ticket store. Expired tickets are automatically\n  removed. Defaults to 7200 seconds (2 hours).\n\n- **`client_session_ticket_store_size = integer()  `** - Sets the\n  maximum size of the client session ticket store. Defaults to 1000. Size limit\n  is enforced by dropping old tickets.","ref":"ssl_app.html#configuration"},{"type":"extras","title":"ERROR LOGGER AND EVENT HANDLERS - ssl","doc":"The SSL application uses [OTP logger](`m:logger`). TLS/DTLS alerts are logged on\nnotice level. Unexpected errors are logged on error level. These log entries\nwill by default end up in the default Erlang log. The option `log_level` may be\nused to in run-time to set the log level of a specific TLS connection, which is\nhandy when you want to use level debug to inspect the TLS handshake setup.","ref":"ssl_app.html#error-logger-and-event-handlers"},{"type":"extras","title":"SEE ALSO - ssl","doc":"`m:application`","ref":"ssl_app.html#see-also"}],"content_type":"text/plain"}