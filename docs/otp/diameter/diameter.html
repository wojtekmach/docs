<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.30.9">
    <meta name="project" content="diameter v2.3">


    <title>diameter â€” diameter v2.3</title>
    <link rel="stylesheet" href="dist/html-erlang-QW5RMTQD.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-43PMFBC7.js"></script>
    <script src="dist/sidebar_items-B01FCB41.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/html-LRUIU55G.js"></script>

<style>.dark img { background-color: white; }</style>
  </head>
  <body data-type="modules" class="page-module">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="main">

<button class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="api-reference.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="diameter" />
        </a>

      <div>
        <a href="api-reference.html" class="sidebar-projectName" translate="no">
diameter
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v2.3
        </div>
      </div>
    </div>
    <ul id="sidebar-listNav" class="sidebar-listNav" role="tablist">
      <li>
        <button id="extras-list-tab-button" role="tab" data-type="extras" aria-controls="extras-tab-panel" aria-selected="true" tabindex="0">
Pages
        </button>
      </li>

        <li>
          <button id="modules-list-tab-button" role="tab" data-type="modules" aria-controls="modules-tab-panel" aria-selected="false" tabindex="-1">
            Modules
          </button>
        </li>


    </ul>
  </div>

  <div id="extras-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="extras-list-tab-button">
    <ul id="extras-full-list" class="full-list"></ul>
  </div>

    <div id="modules-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="modules-list-tab-button" hidden>
      <ul id="modules-full-list" class="full-list"></ul>
    </div>


</nav>

<main class="content">
  <output role="status" id="toast"></output>
  <div class="content-outer">
    <div id="content" class="content-inner">
      <div class="top-search">
        <div class="search-settings">
          <form class="search-bar" action="search.html">
            <label class="search-label">
              <span class="sr-only">Search documentation of diameter</span>
              <input name="q" type="text" class="search-input" placeholder="Search Documentation (press /)" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
            </label>
            <button type="submit" class="search-button" aria-label="Submit Search">
              <i class="ri-search-2-line ri-lg" aria-hidden="true" title="Submit search"></i>
            </button>
            <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
              <i class="ri-close-line ri-lg" title="Cancel search"></i>
            </button>
          </form>
          <button class="icon-settings display-settings">
            <i class="ri-settings-3-line"></i>
            <span class="sr-only">Settings</span>
          </button>
        </div>
      </div>
      <div class="autocomplete">
        <div class="autocomplete-results">
        </div>
      </div>

<h1>

    <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/diameter.erl#L21" title="View Source" class="icon-action" rel="help">
      <i class="ri-code-s-slash-line" aria-hidden="true"></i>
      <span class="sr-only">View Source</span>
    </a>

  <span translate="no">diameter</span> 
  <small class="app-vsn" translate="no">(diameter v2.3)</small>

</h1>


  <section id="moduledoc">
<p>Main API of the diameter application.</p><p>This module provides the interface with which a user can implement a Diameter
node that sends and receives messages using the Diameter protocol as defined in
RFC 6733.</p><p>Basic usage consists of creating a representation of a locally implemented
Diameter node and its capabilities with <a href="#start_service/2"><code class="inline">start_service/2</code></a>, adding transport
capability using <a href="#add_transport/2"><code class="inline">add_transport/2</code></a> and sending Diameter requests and receiving
Diameter answers with <a href="#call/4"><code class="inline">call/4</code></a>. Incoming Diameter requests are communicated as
callbacks to a <a href="diameter_app.html"><code class="inline">diameter_app</code></a> callback modules as specified in the service
configuration.</p><p>Beware the difference between <em>diameter</em> (not capitalized) and <em>Diameter</em>
(capitalized). The former refers to the Erlang application named diameter whose
main api is defined here, the latter to Diameter protocol in the sense of
RFC 6733.</p><p>The diameter application must be started before calling most functions in this
module.</p><h2 id="module-data-types" class="section-heading">
  <a href="#module-data-types" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">DATA TYPES</span>
</h2>
<ul><li><p><strong><code class="inline">Address()</code></strong></p></li><li><p><strong><code class="inline">DiameterIdentity()</code></strong></p></li><li><p><strong><code class="inline">Grouped()</code></strong></p></li><li><p><strong><code class="inline">OctetString()</code></strong></p></li><li><p><strong><code class="inline">Time()</code></strong></p></li><li><p><strong><code class="inline">Unsigned32()</code></strong></p></li><li><p><strong><code class="inline">UTF8String()</code></strong> - Types corresponding to RFC 6733 AVP Data Formats. Defined
in <a href="diameter_dict.html#DATA_TYPES">diameter_dict(4)</a>.</p><p><a href="" id="application_alias"></a></p></li><li><p><strong><code class="inline">application_alias() = term()</code></strong> - Name identifying a Diameter application
in service configuration. Passed to <a href="#call/4"><code class="inline">call/4</code></a> when sending requests defined by
the application.</p><p><a href="" id="application_module"></a></p></li><li><p><strong><code class="inline">application_module() = Mod | [Mod | ExtraArgs] | #diameter_callback{}</code></strong></p><pre><code class="text">Mod = atom()
ExtraArgs = list()</code></pre><p>Module implementing the callback interface defined in <a href="diameter_app.html"><code class="inline">diameter_app</code></a>, along
with any extra arguments to be appended to those documented. Note that extra
arguments specific to an outgoing request can be specified to <a href="#call/4"><code class="inline">call/4</code></a>, in
which case those are appended to any module-specific extra arguments.</p><p>Specifying a <code class="inline">#diameter_callback{}</code> record allows individual functions to be
configured in place of the usual <a href="diameter_app.html"><code class="inline">diameter_app</code></a> callbacks. See
<code class="inline">diameter_callback.erl</code> for details.</p><p><a href="" id="application_opt"></a></p></li><li><p><strong><code class="inline">application_opt()</code></strong> - Options defining a Diameter application. Has one of
the following types.</p><ul><li><p><strong><code class="inline">{alias,</code><a href="diameter.html#application_alias"><code class="inline">application_alias()</code></a><code class="inline">}</code></strong> -
Unique identifier for the application in the scope of the service. Defaults
to the value of the <code class="inline">dictionary</code> option.</p></li><li><p><strong><code class="inline">{dictionary, atom()}</code></strong> - Name of an encode/decode module for the
Diameter messages defined by the application. These modules are generated
from files whose format is documented in
<a href="diameter_dict.html">diameter_dict(4)</a>.</p></li><li><p><strong><code class="inline">{module,</code><a href="diameter.html#application_module"><code class="inline">application_module()</code></a><code class="inline">}</code></strong> -
Callback module in which messages of the Diameter application are handled.
See <a href="diameter_app.html"><code class="inline">diameter_app</code></a> for the required interface and semantics.</p></li><li><p><strong><code class="inline">{state, term()}</code></strong> - Initial callback state. The prevailing state is
passed to some <a href="diameter_app.html"><code class="inline">diameter_app</code></a> callbacks, which can then return a new
state. Defaults to the value of the <code class="inline">alias</code> option.</p></li><li><p><strong><code class="inline">{call_mutates_state, true|false}</code></strong> - Whether or not the
<a href="diameter_app.html#c:pick_peer/4">pick_peer/4</a> application callback can modify
the application state. Defaults to <code class="inline">false</code>.</p><blockquote><h4 class="warning">Warning</h4><p><a href="diameter_app.html#c:pick_peer/4">pick_peer/4</a> callbacks are serialized when
this option is <code class="inline">true</code>, which is a potential performance bottleneck. A
simple Diameter client may suffer no ill effects from using mutable state
but a server or agent that responds to incoming request should probably
avoid it.</p></blockquote></li><li><p><strong><code class="inline">{answer_errors, callback|report|discard}</code></strong> - Manner in which incoming
answer messages containing decode errors are handled.</p><p>If <code class="inline">callback</code> then errors result in a
<a href="diameter_app.html#c:handle_answer/4">handle_answer/4</a> callback in the same
fashion as for <a href="diameter_app.html#c:handle_request/3">handle_request/3</a>, with
errors communicated in the <code class="inline">errors</code> field of the <code class="inline">#diameter_packet{}</code> passed
to the callback. If <code class="inline">report</code> then an answer containing errors is discarded
without a callback and a warning report is written to the log. If <code class="inline">discard</code>
then an answer containing errors is silently discarded without a callback.
In both the <code class="inline">report</code> and <code class="inline">discard</code> cases the return value for the <a href="#call/4"><code class="inline">call/4</code></a>
invocation in question is as if a callback had taken place and returned
<code class="inline">{error, failure}</code>.</p><p>Defaults to <code class="inline">discard</code>.</p></li><li><p><strong><code class="inline">{request_errors, answer_3xxx|answer|callback}</code></strong> - Manner in which
incoming requests are handled when an error other than 3007
(DIAMETER_APPLICATION_UNSUPPORTED, which cannot be associated with an
application callback module), is detected.</p><p>If <code class="inline">answer_3xxx</code> then requests are answered without a
<a href="diameter_app.html#c:handle_request/3">handle_request/3</a> callback taking place.
If <code class="inline">answer</code> then even 5xxx errors are answered without a callback unless the
connection in question has configured the RFC 3588 common dictionary as
noted below. If <code class="inline">callback</code> then a
<a href="diameter_app.html#c:handle_request/3">handle_request/3</a> callback always takes
place and its return value determines the answer sent to the peer, if any.</p><p>Defaults to <code class="inline">answer_3xxx</code>.</p><blockquote><h4 class="info">Note</h4><p>Answers sent by diameter set the E-bit in the Diameter Header. Since RFC
3588 allows only 3xxx result codes in an <code class="inline">answer-message</code>, <code class="inline">answer</code> has
the same semantics as <code class="inline">answer_3xxx</code> when the transport in question has
been configured with <code class="inline">diameter_gen_base_rfc3588</code> as its common dictionary.
Since RFC 6733 allows both 3xxx and 5xxx result codes in an
<code class="inline">answer-message</code>, a transport with <code class="inline">diameter_gen_base_rfc6733</code> as its
common dictionary does distinguish between <code class="inline">answer_3xxx</code> and <code class="inline">answer</code>.</p></blockquote></li></ul><p><a href="" id="call_opt"></a></p></li><li><p><strong><code class="inline">call_opt()</code></strong> - Options available to <a href="#call/4"><code class="inline">call/4</code></a> when sending an outgoing
Diameter request. Has one of the following types.</p><ul><li><p><strong><code class="inline">{extra, list()}</code></strong> - Extra arguments to append to callbacks to the
callback module in question. These are appended to any extra arguments
configured on the callback itself. Multiple options append to the argument
list.</p></li><li><p><strong><code class="inline">{filter,</code><a href="diameter.html#peer_filter"><code class="inline">peer_filter()</code></a><code class="inline">}</code></strong> - Filter to
apply to the list of available peers before passing it to the
<a href="diameter_app.html#c:pick_peer/4">pick_peer/4</a> callback for the application in
question. Multiple options are equivalent a single <code class="inline">all</code> filter on the
corresponding list of filters. Defaults to <code class="inline">none</code>.</p></li><li><p><strong><code class="inline">{peer,</code><a href="diameter_app.html#peer_ref"><code class="inline">diameter_app:peer_ref()</code></a><code class="inline">}</code></strong> -
Peer to which the request in question can be sent, preempting the selection
of peers having advertised support for the Diameter application in question.
Multiple options can be specified, and their order is respected in the
candidate lists passed to a subsequent
<a href="diameter_app.html#c:pick_peer/4">pick_peer/4</a> callback.</p></li><li><p><strong><code class="inline">{timeout,</code><a href="diameter_dict.html#DATA_TYPES"><code class="inline">Unsigned32()</code></a><code class="inline">}</code></strong> - Number of
milliseconds after which the request should timeout. Defaults to 5000.</p></li><li><p><strong><code class="inline">detach</code></strong> - Cause <a href="#call/4"><code class="inline">call/4</code></a> to return <code class="inline">ok</code> as soon as the request in
question has been encoded, instead of waiting for and returning the result
from a subsequent <a href="diameter_app.html#c:handle_answer/4">handle_answer/4</a> or
<a href="diameter_app.html#c:handle_error/4">handle_error/4</a> callback.</p></li></ul><p>An invalid option will cause <a href="#call/4"><code class="inline">call/4</code></a> to fail.</p><p><a href="" id="capability"></a></p></li><li><p><strong><code class="inline">capability()</code></strong> - AVP values sent in outgoing CER or CEA messages during
capabilities exchange. Can be configured both on a service and a transport,
values on the latter taking precedence. Has one of the following types.</p><ul><li><p><strong><code class="inline">{'Origin-Host',</code><a href="diameter_dict.html#DATA_TYPES"><code class="inline">DiameterIdentity()</code></a><code class="inline">}</code></strong></p></li><li><p><strong><code class="inline">{'Origin-Realm',</code><a href="diameter_dict.html#DATA_TYPES"><code class="inline">DiameterIdentity()</code></a><code class="inline">}</code></strong></p></li><li><p><strong><code class="inline">{'Host-IP-Address', [</code><a href="diameter_dict.html#DATA_TYPES"><code class="inline">Address()</code></a><code class="inline">]}</code></strong> -
An address list is available to the start function of a
<a href="diameter_transport.html">transport module</a>, which can return a new list for
use in the subsequent CER or CEA. Host-IP-Address need not be specified if
the transport module in question communicates an address list as described
in <a href="diameter_transport.html"><code class="inline">diameter_transport</code></a></p></li><li><p><strong><code class="inline">{'Vendor-Id',</code><a href="diameter_dict.html#DATA_TYPES"><code class="inline">Unsigned32()</code></a><code class="inline">}</code></strong></p></li><li><p><strong><code class="inline">{'Product-Name',</code><a href="diameter_dict.html#DATA_TYPES"><code class="inline">UTF8String()</code></a><code class="inline">}</code></strong></p></li><li><p><strong><code class="inline">{'Origin-State-Id',</code><a href="diameter_dict.html#DATA_TYPES"><code class="inline">Unsigned32()</code></a><code class="inline">}</code></strong> -
Origin-State-Id is optional but, if configured, will be included in outgoing
CER/CEA and DWR/DWA messages. Setting a value of <code class="inline">0</code> (zero) is equivalent to
not setting a value, as documented in RFC 6733. The function
<a href="#origin_state_id/0"><code class="inline">origin_state_id/0</code></a> can be used as to retrieve a value that is computed when
the diameter application is started.</p></li><li><p><strong><code class="inline">{'Supported-Vendor-Id', [</code><a href="diameter_dict.html#DATA_TYPES"><code class="inline">Unsigned32()</code></a><code class="inline">]}</code></strong></p></li><li><p><strong><code class="inline">{'Auth-Application-Id', [</code><a href="diameter_dict.html#DATA_TYPES"><code class="inline">Unsigned32()</code></a><code class="inline">]}</code></strong></p></li><li><p><strong><code class="inline">{'Inband-Security-Id', [</code><a href="diameter_dict.html#DATA_TYPES"><code class="inline">Unsigned32()</code></a><code class="inline">]}</code></strong> -
Inband-Security-Id defaults to the empty list, which is equivalent to a list
containing only 0 (NO_INBAND_SECURITY). If 1 (TLS) is specified then TLS is
selected if the CER/CEA received from the peer offers it.</p></li><li><p><strong><code class="inline">{'Acct-Application-Id', [</code><a href="diameter_dict.html#DATA_TYPES"><code class="inline">Unsigned32()</code></a><code class="inline">]}</code></strong></p></li><li><p><strong><code class="inline">{'Vendor-Specific-Application-Id', [</code><a href="diameter_dict.html#DATA_TYPES"><code class="inline">Grouped()</code></a><code class="inline">]}</code></strong></p></li><li><p><strong><code class="inline">{'Firmware-Revision',</code><a href="diameter_dict.html#DATA_TYPES"><code class="inline">Unsigned32()</code></a><code class="inline">}</code></strong></p></li></ul><p>Note that each tuple communicates one or more AVP values. It is an error to
specify duplicate tuples.</p><p><a href="" id="eval"></a></p></li><li><p><strong><code class="inline">eval() = {M,F,A} | fun() | [eval() | A]</code></strong> - An expression that can be
evaluated as a function in the following sense.</p><pre><code class="text">eval([{M,F,A} | T]) -&gt;
    apply(M, F, T ++ A);
eval([[F|A] | T]) -&gt;
    eval([F | T ++ A]);
eval([F|A]) -&gt;
    apply(F, A);
eval(F) -&gt;
    eval([F]).</code></pre><p>Applying an <a href="diameter.html#eval"><code class="inline">eval()</code></a> <code class="inline">E</code> to an argument list <code class="inline">A</code> is meant
in the sense of <code class="inline">eval([E|A])</code>.</p><blockquote><h4 class="warning">Warning</h4><p>Beware of using fun expressions of the form <code class="inline">fun Name/Arity</code> in situations
in which the fun is not short-lived and code is to be upgraded at runtime
since any processes retaining such a fun will have a reference to old code.
In particular, such a value is typically inappropriate in configuration
passed to <a href="#start_service/2"><code class="inline">start_service/2</code></a> or <a href="#add_transport/2"><code class="inline">add_transport/2</code></a>.</p></blockquote><p><a href="" id="peer_filter"></a></p></li><li><p><strong><code class="inline">peer_filter() = term()</code></strong> - Filter passed to <a href="#call/4"><code class="inline">call/4</code></a> in order to select
candidate peers for a <a href="diameter_app.html#c:pick_peer/4">pick_peer/4</a> callback.
Has one of the following types.</p><ul><li><p><strong><code class="inline">none</code></strong> - Matches any peer. This is a convenience that provides a filter
equivalent to no filter.</p></li><li><p><strong><code class="inline">host</code></strong> - Matches only those peers whose Origin-Host has the same value
as Destination-Host in the outgoing request in question, or any peer if the
request does not contain a Destination-Host AVP.</p></li><li><p><strong><code class="inline">realm</code></strong> - Matches only those peers whose Origin-Realm has the same value
as Destination-Realm in the outgoing request in question, or any peer if the
request does not contain a Destination-Realm AVP.</p></li><li><p><strong><code class="inline">{host, any|</code><a href="diameter_dict.html#DATA_TYPES"><code class="inline">DiameterIdentity()</code></a><code class="inline">}</code></strong> -
Matches only those peers whose Origin-Host has the specified value, or all
peers if the atom <code class="inline">any</code>.</p></li><li><p><strong><code class="inline">{realm, any|</code><a href="diameter_dict.html#DATA_TYPES"><code class="inline">DiameterIdentity()</code></a><code class="inline">}</code></strong> -
Matches only those peers whose Origin-Realm has the specified value, or all
peers if the atom <code class="inline">any</code>.</p></li><li><p><strong><code class="inline">{eval,</code><a href="diameter.html#eval"><code class="inline">eval()</code></a><code class="inline">}</code></strong> - Matches only those peers for
which the specified <a href="diameter.html#eval"><code class="inline">eval()</code></a> returns <code class="inline">true</code> when
applied to the connection's <code class="inline">diameter_caps</code> record. Any other return value
or exception is equivalent to <code class="inline">false</code>.</p></li><li><p><strong><code class="inline">{neg,</code><a href="diameter.html#peer_filter"><code class="inline">peer_filter()</code></a><code class="inline">}</code></strong> - Matches only
those peers not matched by the specified filter.</p></li><li><p><strong><code class="inline">{all, [</code><a href="diameter.html#peer_filter"><code class="inline">peer_filter()</code></a><code class="inline">]}</code></strong> - Matches only
those peers matched by each filter in the specified list.</p></li><li><p><strong><code class="inline">{any, [</code><a href="diameter.html#peer_filter"><code class="inline">peer_filter()</code></a><code class="inline">]}</code></strong> - Matches only
those peers matched by at least one filter in the specified list. The
resulting list will be in match order, peers matching the first filter of
the list sorting before those matched by the second, and so on.</p></li><li><p><strong><code class="inline">{first, [</code><a href="diameter.html#peer_filter"><code class="inline">peer_filter()</code></a><code class="inline">]}</code></strong> - Like <code class="inline">any</code>,
but stops at the first filter for which there are matches, which can be much
more efficient when there are many peers. For example, the following filter
causes only peers best matching both the host and realm filters to be
presented.</p><pre><code class="text">{first, [{all, [host, realm]}, realm]}</code></pre></li></ul><p>An invalid filter is equivalent to <code class="inline">{any,[]}</code>, a filter that matches no peer.</p><blockquote><h4 class="info">Note</h4><p>The <code class="inline">host</code> and <code class="inline">realm</code> filters cause the Destination-Host and
Destination-Realm AVPs to be extracted from the outgoing request, assuming
it to be a record- or list-valued
<a href="diameter_codec.html#message"><code class="inline">diameter_codec:message()</code></a>, and assuming at
most one of each AVP. If this is not the case then the
<code class="inline">{host|realm,</code><a href="diameter_dict.html#DATA_TYPES"><code class="inline">DiameterIdentity()</code></a><code class="inline">}</code>
filters must be used to achieve the desired result. An empty
<a href="diameter_dict.html#DATA_TYPES"><code class="inline">DiameterIdentity()</code></a> (which should not be
typical) matches all hosts/realms for the purposes of filtering.</p></blockquote><blockquote><h4 class="warning">Warning</h4><p>A <code class="inline">host</code> filter is not typically desirable when setting Destination-Host
since it will remove peer agents from the candidates list.</p></blockquote><p><a href="" id="service_event"></a></p></li><li><p><strong><code class="inline">service_event() = #diameter_event{service =</code><a href="diameter.html#service_name"><code class="inline">service_name()</code></a><code class="inline">, info =</code><a href="diameter.html#service_event_info"><code class="inline">service_event_info()</code></a><code class="inline">}</code></strong> -
An event message sent to processes that have subscribed to these using
<a href="#subscribe/1"><code class="inline">subscribe/1</code></a>.</p><p><a href="" id="service_event_info"></a></p></li><li><p><strong><code class="inline">service_event_info() = term()</code></strong> - The <code class="inline">info</code> field of a
<a href="diameter.html#service_event">service_event()</a> record. Can have one of the
following types.</p><ul><li><p><strong><code class="inline">start</code></strong></p></li><li><p><strong><code class="inline">stop</code></strong> - The service is being started or stopped. No event precedes a
<code class="inline">start</code> event. No event follows a <code class="inline">stop</code> event, and this event implies the
termination of all transport processes.</p></li><li><p><strong><code class="inline">{up, Ref, Peer, Config, Pkt}</code></strong></p></li><li><p><strong><code class="inline">{up, Ref, Peer, Config}</code></strong></p></li><li><p><strong><code class="inline">{down, Ref, Peer, Config}</code></strong></p><pre><code class="text">Ref    = transport_ref()
Peer   = diameter_app:peer()
Config = {connect|listen, [transport_opt()]}
Pkt    = #diameter_packet{}</code></pre><p>The RFC 3539 watchdog state machine has transitioned into (<code class="inline">up</code>) or out of
(<code class="inline">down</code>) the OKAY state. If a <code class="inline">#diameter_packet{}</code> is present in an <code class="inline">up</code>
event then there has been a capabilities exchange on a newly established
transport connection and the record contains the received CER or CEA.</p><p>Note that a single <code class="inline">up</code> or <code class="inline">down</code> event for a given peer corresponds to
multiple <a href="diameter_app.html#c:peer_up/3">peer_up/3</a> or
<a href="diameter_app.html#c:peer_down/3">peer_down/3</a> callbacks, one for each of the
Diameter applications negotiated during capabilities exchange. That is, the
event communicates connectivity with the peer as a whole while the callbacks
communicate connectivity with respect to individual Diameter applications.</p></li><li><p><strong><code class="inline">{reconnect, Ref, Opts}</code></strong></p><pre><code class="text">Ref  = transport_ref()
Opts = [transport_opt()]</code></pre><p>A connecting transport is attempting to establish/reestablish a transport
connection with a peer following <a href="diameter.html#connect_timer">connect_timer</a>
or <a href="diameter.html#watchdog_timer">watchdog_timer</a> expiry.</p></li><li><p><strong><code class="inline">{closed, Ref, Reason, Config}</code></strong></p><pre><code class="text">Ref = transport_ref()
Config = {connect|listen, [transport_opt()]}</code></pre><p>Capabilities exchange has failed. <code class="inline">Reason</code> can have one of the following
types.</p><ul><li><p><strong><code class="inline">{'CER', Result, Caps, Pkt}</code></strong></p><pre><code class="text">Result = ResultCode | {capabilities_cb, CB, ResultCode|discard}
Caps = #diameter_caps{}
Pkt  = #diameter_packet{}
ResultCode = integer()
CB = eval()</code></pre><p>An incoming CER has been answered with the indicated result code, or
discarded. <code class="inline">Caps</code> contains pairs of values, for the local node and remote
peer respectively. <code class="inline">Pkt</code> contains the CER in question. In the case of
rejection by a capabilities callback, the tuple contains the rejecting
callback.</p></li><li><p><strong><code class="inline">{'CER', Caps, {ResultCode, Pkt}}</code></strong></p><pre><code class="text">ResultCode = integer()
Caps = #diameter_caps{}
Pkt  = #diameter_packet{}</code></pre><p>An incoming CER contained errors and has been answered with the indicated
result code. <code class="inline">Caps</code> contains values for the local node only. <code class="inline">Pkt</code>
contains the CER in question.</p></li><li><p><strong><code class="inline">{'CER', timeout}</code></strong> - An expected CER was not received within
<a href="diameter.html#capx_timeout">capx_timeout</a> of connection establishment.</p></li><li><p><strong><code class="inline">{'CEA', Result, Caps, Pkt}</code></strong></p><pre><code class="text">Result = ResultCode | atom() | {capabilities_cb, CB, ResultCode|discard}
Caps = #diameter_caps{}
Pkt  = #diameter_packet{}
ResultCode = integer()</code></pre><p>An incoming CEA has been rejected for the indicated reason. An
integer-valued <code class="inline">Result</code> indicates the result code sent by the peer. <code class="inline">Caps</code>
contains pairs of values for the local node and remote peer. <code class="inline">Pkt</code>
contains the CEA in question. In the case of rejection by a capabilities
callback, the tuple contains the rejecting callback.</p></li><li><p><strong><code class="inline">{'CEA', Caps, Pkt}</code></strong></p><pre><code class="text">Caps = #diameter_caps{}
Pkt  = #diameter_packet{}</code></pre><p>An incoming CEA contained errors and has been rejected. <code class="inline">Caps</code> contains
only values for the local node. <code class="inline">Pkt</code> contains the CEA in question.</p></li><li><p><strong><code class="inline">{'CEA', timeout}</code></strong> - An expected CEA was not received within
<a href="diameter.html#capx_timeout">capx_timeout</a> of connection establishment.</p></li></ul></li><li><p><strong><code class="inline">{watchdog, Ref, PeerRef, {From, To}, Config}</code></strong></p><pre><code class="text">Ref = transport_ref()
PeerRef = diameter_app:peer_ref()
From, To = initial | okay | suspect | down | reopen
Config = {connect|listen, [transport_opt()]}</code></pre><p>An RFC 3539 watchdog state machine has changed state.</p></li><li><p><strong><code class="inline">t:any()</code></strong> - For forward compatibility, a subscriber should be prepared
to receive info fields of forms other than the above.</p></li></ul><p><a href="" id="service_name"></a></p></li><li><p><strong><code class="inline">service_name() = term()</code></strong> - Name of a service as passed to
<a href="#start_service/2"><code class="inline">start_service/2</code></a> and with which the service is identified. There can be at
most one service with a given name on a given node. Note that
<a href="../../../../lib/../erts/doc/html/erlang.html#make_ref/0"><code class="inline">erlang:make_ref/0</code></a> can be used to generate a service name that is somewhat
unique.</p><p><a href="" id="service_opt"></a></p></li><li><p><strong><code class="inline">service_opt()</code></strong> - Option passed to <a href="#start_service/2"><code class="inline">start_service/2</code></a>. Can be any
<a href="diameter.html#capability"><code class="inline">capability()</code></a> as well as the following.</p><ul><li><p><strong><code class="inline">{application, [</code><a href="diameter.html#application_opt"><code class="inline">application_opt()</code></a><code class="inline">]}</code></strong> -
A Diameter application supported by the service.</p><p>A service must configure one tuple for each Diameter application it intends
to support. For an outgoing request, the relevant
<a href="diameter.html#application_alias"><code class="inline">application_alias()</code></a> is passed to
<a href="#call/4"><code class="inline">call/4</code></a>, while for an incoming request the application identifier in the
message header determines the application, the identifier being specified in
the application's <a href="diameter_dict.html">dictionary</a> file.</p><blockquote><h4 class="warning">Warning</h4><p>The capabilities advertised by a node must match its configured
applications. In particular, <code class="inline">application</code> configuration must be matched
by corresponding <a href="diameter.html#capability">capability()</a> configuration, of
*-Application-Id AVPs in particular.</p></blockquote></li><li><p><strong><code class="inline" id="decode_format">{decode_format, record | list | map | none}</code></strong> - The
format of decoded messages and grouped AVPs in the <code class="inline">msg</code> field of
diameter_packet records and <code class="inline">value</code> field of diameter_avp records
respectively. If <code class="inline">record</code> then a record whose definition is generated from
the dictionary file in question. If <code class="inline">list</code> or <code class="inline">map</code> then a <code class="inline">[Name | Avps]</code>
pair where <code class="inline">Avps</code> is a list of AVP name/values pairs or a map keyed on AVP
names respectively. If <code class="inline">none</code> then the atom-value message name, or
<code class="inline">undefined</code> for a Grouped AVP. See also
<a href="diameter_codec.html#message">diameter_codec:message()</a>.</p><p>Defaults to <code class="inline">record</code>.</p><blockquote><h4 class="info">Note</h4><p>AVPs are decoded into a list of diameter_avp records in <code class="inline">avps</code> field of
diameter_packet records independently of <code class="inline">decode_format</code>.</p></blockquote></li><li><p><strong><code class="inline">{restrict_connections, false | node | nodes | [node()] | eval()}</code></strong> - The
degree to which the service allows multiple transport connections to the
same peer, as identified by its Origin-Host at capabilities exchange.</p><p>If <code class="inline">[node()]</code> then a connection is rejected if another already exists on any
of the specified nodes. Types <code class="inline">false</code>, <code class="inline">node</code>, <code class="inline">nodes</code> and
<a href="diameter.html#eval">eval()</a> are equivalent to <code class="inline">[]</code>, <code class="inline">[node()]</code>,
<code class="inline">[node()|nodes()]</code> and the evaluated value respectively, evaluation of each
expression taking place whenever a new connection is to be established. Note
that <code class="inline">false</code> allows an unlimited number of connections to be established
with the same peer.</p><p>Multiple connections are independent and governed by their own peer and
watchdog state machines.</p><p>Defaults to <code class="inline">nodes</code>.</p></li><li><p><strong><code class="inline">{sequence, {H,N} |</code><a href="diameter.html#eval"><code class="inline">eval()</code></a><code class="inline">}</code></strong> - A constant value
<code class="inline">H</code> for the topmost <code class="inline">32-N</code> bits of of 32-bit End-to-End and Hop-by-Hop
Identifiers generated by the service, either explicitly or as a return value
of a function to be evaluated at <a href="#start_service/2"><code class="inline">start_service/2</code></a>. In particular, an
identifier <code class="inline">Id</code> is mapped to a new identifier as follows.</p><pre><code class="text">(H bsl N) bor (Id band ((1 bsl N) - 1))</code></pre><p>Note that RFC 6733 requires that End-to-End Identifiers remain unique for a
period of at least 4 minutes and that this and the call rate places a lower
bound on appropriate values of <code class="inline">N</code>: at a rate of <code class="inline">R</code> requests per second, an
<code class="inline">N</code>-bit counter traverses all of its values in <code class="inline">(1 bsl N) div (R*60)</code>
minutes, so the bound is <code class="inline">4*R*60 =&lt; 1 bsl N</code>.</p><p><code class="inline">N</code> must lie in the range <code class="inline">0..32</code> and <code class="inline">H</code> must be a non-negative integer
less than <code class="inline">1 bsl (32-N)</code>.</p><p>Defaults to <code class="inline">{0,32}</code>.</p><blockquote><h4 class="warning">Warning</h4><p>Multiple Erlang nodes implementing the same Diameter node should be
configured with different sequence masks to ensure that each node uses a
unique range of End-to-End and Hop-by-Hop Identifiers for outgoing
requests.</p></blockquote></li><li><p><strong><code class="inline">{share_peers, boolean() | [node()] | eval()}</code></strong> - Nodes to which peer
connections established on the local Erlang node are communicated. Shared
peers become available in the remote candidates list passed to
<a href="diameter_app.html#c:pick_peer/4">pick_peer/4</a> callbacks on remote nodes whose
services are configured to use them: see <code class="inline">use_shared_peers</code> below.</p><p>If <code class="inline">false</code> then peers are not shared. If <code class="inline">[node()]</code> then peers are shared
with the specified list of nodes. If <code class="inline">eval()</code> then peers are shared with the
nodes returned by the specified function, evaluated whenever a peer
connection becomes available or a remote service requests information about
local connections. The value <code class="inline">true</code> is equivalent to <code class="inline">fun ``erlang:nodes/0</code>.
The value <code class="inline">node()</code> in a list is ignored, so a collection of services can all
be configured to share with the same list of nodes.</p><p>Defaults to <code class="inline">false</code>.</p><blockquote><h4 class="info">Note</h4><p>Peers are only shared with services of the same name for the purpose of
sending outgoing requests. Since the value of the
<a href="diameter.html#application_opt">application_opt()</a> <code class="inline">alias</code>, passed to
<a href="#call/4"><code class="inline">call/4</code></a>, is the handle for identifying a peer as a suitable candidate,
services that share peers must use the same aliases to identify their
supported applications. They should typically also configure identical
<a href="diameter.html#capabilities">capabilities()</a>, since by sharing peer
connections they are distributing the implementation of a single Diameter
node across multiple Erlang nodes.</p></blockquote></li><li><p><strong><code class="inline" id="strict_arities">{strict_arities, boolean() | encode | decode}</code></strong> -
Whether or not to require that the number of AVPs in a message or grouped
AVP agree with those specified in the dictionary in question when passing
messages to <a href="diameter_app.html"><code class="inline">diameter_app</code></a> callbacks. If <code class="inline">true</code> then mismatches in an
outgoing messages cause message encoding to fail, while mismatches in an
incoming message are reported as 5005/5009 errors in the errors field of the
diameter_packet record passed to
<a href="diameter_app.html#c:handle_request/3">handle_request/3</a> or
<a href="diameter_app.html#c:handle_answer/4">handle_answer/4</a> callbacks. If <code class="inline">false</code>
then neither error is enforced/detected. If <code class="inline">encode</code> or <code class="inline">decode</code> then errors
are only enforced/detected on outgoing or incoming messages respectively.</p><p>Defaults to <code class="inline">true</code>.</p><blockquote><h4 class="info">Note</h4><p>Disabling arity checks affects the form of messages at encode/decode. In
particular, decoded AVPs are represented as lists of values, regardless of
the AVP's arity (ie. expected number in the message/AVP grammar in
question), and values are expected to be supplied as lists at encode. This
differs from the historic decode behaviour of representing AVPs of arity 1
as bare values, not wrapped in a list.</p></blockquote></li><li><p><strong><code class="inline" id="string_decode">{string_decode, boolean()}</code></strong> - Whether or not to
decode AVPs of type <a href="diameter_dict.html#DATA_TYPES">OctetString()</a> and its
derived types <a href="diameter_dict.html#DATA_TYPES">DiameterIdentity()</a>,
<a href="diameter_dict.html#DATA_TYPES">DiameterURI()</a>,
<a href="diameter_dict.html#DATA_TYPES">IPFilterRule()</a>,
<a href="diameter_dict.html#DATA_TYPES">QoSFilterRule()</a>, and
<a href="diameter_dict.html#DATA_TYPES">UTF8String()</a>. If <code class="inline">true</code> then AVPs of these
types are decoded to string(). If <code class="inline">false</code> then values are retained as
binary().</p><p>Defaults to <code class="inline">true</code>.</p><blockquote><h4 class="warning">Warning</h4><p>This option should be set to <code class="inline">false</code> since a sufficiently malicious peer
can otherwise cause large amounts of memory to be consumed when decoded
Diameter messages are passed between processes. The default value is for
backwards compatibility.</p></blockquote></li><li><p><strong><code class="inline" id="traffic_counters">{traffic_counters, boolean()}</code></strong> - Whether or not
to count application-specific messages; those for which <a href="diameter_app.html"><code class="inline">diameter_app</code></a>
callbacks take place. If false then only messages handled by diameter itself
are counted: CER/CEA, DWR/DWA, DPR/DPA.</p><p>Defaults to <code class="inline">true</code>.</p><blockquote><h4 class="info">Note</h4><p>Disabling counters is a performance improvement, but means that the
omitted counters are not returned by <a href="#service_info/2"><code class="inline">service_info/2</code></a>.</p></blockquote></li><li><p><strong><code class="inline">{use_shared_peers, boolean() | [node()] | eval()}</code></strong> - Nodes from which
communicated peers are made available in the remote candidates list of
<a href="diameter_app.html#c:pick_peer/4">pick_peer/4</a> callbacks.</p><p>If <code class="inline">false</code> then remote peers are not used. If <code class="inline">[node()]</code> then only peers
from the specified list of nodes are used. If <code class="inline">eval()</code> then only peers
returned by the specified function are used, evaluated whenever a remote
service communicates information about an available peer connection. The
value <code class="inline">true</code> is equivalent to <code class="inline">fun ``erlang:nodes/0</code>. The value <code class="inline">node()</code> in
a list is ignored.</p><p>Defaults to <code class="inline">false</code>.</p><blockquote><h4 class="info">Note</h4><p>A service that does not use shared peers will always pass the empty list
as the second argument of <a href="diameter_app.html#c:pick_peer/4">pick_peer/4</a>
callbacks.</p></blockquote><blockquote><h4 class="warning">Warning</h4><p>Sending a request over a peer connection on a remote node is less
efficient than sending it over a local connection. It may be preferable to
make use of the <a href="diameter.html#service_opt">service_opt()</a>
<code class="inline">restrict_connections</code> and maintain a dedicated connection on each node
from which requests are sent.</p></blockquote></li><li><p><strong><a href="diameter.html#transport_opt"><code class="inline">transport_opt()</code></a></strong> - Any transport option
except <code class="inline">applications</code>, <code class="inline">capabilities</code>, <code class="inline">transport_config</code>, and
<code class="inline">transport_module</code>. Used as defaults for transport configuration, values
passed to <a href="#add_transport/2"><code class="inline">add_transport/2</code></a> overriding values configured on the service.</p></li></ul><p><a href="" id="transport_opt"></a></p></li><li><p><strong><code class="inline">transport_opt()</code></strong> - Option passed to <a href="#add_transport/2"><code class="inline">add_transport/2</code></a>. Has one of the
following types.</p><ul><li><p><strong><code class="inline" id="applications">{applications, [</code><a href="diameter.html#application_alias"><code class="inline" id="applications">application_alias()</code></a><code class="inline" id="applications">]}</code></strong> - Diameter applications to which the transport should be
restricted. Defaults to all applications configured on the service in
question. Applications not configured on the service in question are
ignored.</p><blockquote><h4 class="warning">Warning</h4><p>The capabilities advertised by a node must match its configured
applications. In particular, setting <code class="inline">applications</code> on a transport
typically implies having to set matching *-Application-Id AVPs in a
<a href="diameter.html#capabilities">capabilities()</a> tuple.</p></blockquote></li><li><p><strong><code class="inline" id="avp_dictionaries">{avp_dictionaries, [module()]}</code></strong> - A list of
alternate dictionary modules with which to encode/decode AVPs that are not
defined by the dictionary of the application in question. At decode, such
AVPs are represented as diameter_avp records in the <code class="inline">'AVP'</code> field of a
decoded message or Grouped AVP, the first alternate that succeeds in
decoding the AVP setting the record's value field. At encode, values in an
<code class="inline">'AVP'</code> list can be passed as AVP name/value 2-tuples, and it is an encode
error for no alternate to define the AVP of such a tuple.</p><p>Defaults to the empty list.</p><blockquote><h4 class="info">Note</h4><p>The motivation for alternate dictionaries is RFC 7683, Diameter Overload
Indication Conveyance (DOIC), which defines AVPs to be piggybacked onto
existing application messages rather than defining an application of its
own. The DOIC dictionary is provided by the diameter application, as
module <code class="inline">diameter_gen_doic_rfc7683</code>, but alternate dictionaries can be used
to encode/decode any set of AVPs not known to an application dictionary.</p></blockquote></li><li><p><strong><code class="inline" id="capabilities">{capabilities, [</code><a href="diameter.html#capability"><code class="inline" id="capabilities">capability()</code></a><code class="inline" id="capabilities">]}</code></strong> - AVPs used to construct outgoing CER/CEA messages.
Values take precedence over any specified on the service in question.</p><p>Specifying a capability as a transport option may be particularly
appropriate for Inband-Security-Id, in case TLS is desired over TCP as
implemented by <a href="diameter_tcp.html"><code class="inline">diameter_tcp</code></a>.</p></li><li><p><strong><code class="inline" id="capabilities_cb">{capabilities_cb,</code><a href="diameter.html#eval"><code class="inline" id="capabilities_cb">eval()</code></a><code class="inline" id="capabilities_cb">}</code></strong> - Callback invoked upon reception of CER/CEA during
capabilities exchange in order to ask whether or not the connection should
be accepted. Applied to the <a href="diameter.html#transport_ref"><code class="inline">transport_ref()</code></a>
and <code class="inline">#diameter_caps{}</code> record of the connection.</p><p>The return value can have one of the following types.</p><ul><li><p><strong><code class="inline">ok</code></strong> - Accept the connection.</p></li><li><p><strong><code class="inline">t:integer()</code></strong> - Causes an incoming CER to be answered with the
specified Result-Code.</p></li><li><p><strong><code class="inline">discard</code></strong> - Causes an incoming CER to be discarded without CEA being
sent.</p></li><li><p><strong><code class="inline">unknown</code></strong> - Equivalent to returning <code class="inline">3010</code>, DIAMETER_UNKNOWN_PEER.</p></li></ul><p>Returning anything but <code class="inline">ok</code> or a 2xxx series result code causes the
transport connection to be broken. Multiple
<a href="diameter.html#capabilities_cb">capabilities_cb</a> options can be specified, in
which case the corresponding callbacks are applied until either all return
<code class="inline">ok</code> or one does not.</p></li><li><p><strong><code class="inline" id="capx_timeout">{capx_timeout,</code><a href="diameter_dict.html#DATA_TYPES"><code class="inline" id="capx_timeout">Unsigned32()</code></a><code class="inline" id="capx_timeout">}</code></strong> - Number of milliseconds after which a transport process
having an established transport connection will be terminated if the
expected capabilities exchange message (CER or CEA) is not received from the
peer. For a connecting transport, the timing of connection attempts is
governed by <a href="diameter.html#connect_timer">connect_timer</a> or
<a href="diameter.html#watchdog_timer">watchdog_timer</a> expiry. For a listening
transport, the peer determines the timing.</p><p>Defaults to 10000.</p></li><li><p><strong><code class="inline" id="connect_timer">{connect_timer, Tc}</code></strong></p><pre><code class="text">Tc = Unsigned32()</code></pre><p>For a connecting transport, the RFC 6733 Tc timer, in milliseconds. This
timer determines the frequency with which a transport attempts to establish
an initial connection with its peer following transport configuration. Once
an initial connection has been established,
<a href="diameter.html#watchdog_timer">watchdog_timer</a> determines the frequency of
reconnection attempts, as required by RFC 3539.</p><p>For a listening transport, the timer specifies the time after which a
previously connected peer will be forgotten: a connection after this time is
regarded as an initial connection rather than reestablishment, causing the
RFC 3539 state machine to pass to state OKAY rather than REOPEN. Note that
these semantics are not governed by the RFC and that a listening transport's
<a href="diameter.html#connect_timer">connect_timer</a> should be greater than its
peer's Tw plus jitter.</p><p>Defaults to 30000 for a connecting transport and 60000 for a listening
transport.</p></li><li><p><strong><code class="inline" id="disconnect_cb">{disconnect_cb,</code><a href="diameter.html#eval"><code class="inline" id="disconnect_cb">eval()</code></a><code class="inline" id="disconnect_cb">}</code></strong> - Callback invoked prior to terminating the transport process of a
transport connection having watchdog state <code class="inline">OKAY</code>. Applied to
<code class="inline">application|service|transport</code> and the
<a href="diameter.html#transport_ref"><code class="inline">transport_ref()</code></a> and
<a href="diameter_app.html#peer"><code class="inline">diameter_app:peer()</code></a> in question: <code class="inline">application</code>
indicates that the diameter application is being stopped, <code class="inline">service</code> that the
service in question is being stopped by <a href="#stop_service/1"><code class="inline">stop_service/1</code></a>, and <code class="inline">transport</code>
that the transport in question is being removed by <a href="#remove_transport/2"><code class="inline">remove_transport/2</code></a>.</p><p>The return value can have one of the following types.</p><ul><li><p><strong><code class="inline">{dpr, [option()]}</code></strong> - Send Disconnect-Peer-Request to the peer, the
transport process being terminated following reception of
Disconnect-Peer-Answer or timeout. An <code class="inline">option()</code> can be one of the
following.</p><ul><li><p><strong><code class="inline">{cause, 0|rebooting|1|busy|2|goaway}</code></strong> - Disconnect-Cause to send,
<code class="inline">REBOOTING</code>, <code class="inline">BUSY</code> and <code class="inline">DO_NOT_WANT_TO_TALK_TO_YOU</code> respectively.
Defaults to <code class="inline">rebooting</code> for <code class="inline">Reason=service|application</code> and <code class="inline">goaway</code>
for <code class="inline">Reason=transport</code>.</p></li><li><p><strong><code class="inline">{timeout,</code><a href="diameter_dict.html#DATA_TYPES"><code class="inline">Unsigned32()</code></a><code class="inline">}</code></strong> -
Number of milliseconds after which the transport process is terminated
if DPA has not been received. Defaults to the value of
<a href="diameter.html#dpa_timeout">dpa_timeout</a>.</p></li></ul></li><li><p><strong><code class="inline">dpr</code></strong> - Equivalent to <code class="inline">{dpr, []}</code>.</p></li><li><p><strong><code class="inline">close</code></strong> - Terminate the transport process without
Disconnect-Peer-Request being sent to the peer.</p></li><li><p><strong><code class="inline">ignore</code></strong> - Equivalent to not having configured the callback.</p></li></ul><p>Multiple <a href="diameter.html#disconnect_cb">disconnect_cb</a> options can be
specified, in which case the corresponding callbacks are applied until one
of them returns a value other than <code class="inline">ignore</code>. All callbacks returning
<code class="inline">ignore</code> is equivalent to not having configured them.</p><p>Defaults to a single callback returning <code class="inline">dpr</code>.</p></li><li><p><strong><code class="inline" id="dpa_timeout">{dpa_timeout,</code><a href="diameter_dict.html#DATA_TYPES"><code class="inline" id="dpa_timeout">Unsigned32()</code></a><code class="inline" id="dpa_timeout">}</code></strong> - Number of milliseconds after which a transport
connection is terminated following an outgoing DPR if DPA is not received.</p><p>Defaults to 1000.</p></li><li><p><strong><code class="inline" id="dpr_timeout">{dpr_timeout,</code><a href="diameter_dict.html#DATA_TYPES"><code class="inline" id="dpr_timeout">Unsigned32()</code></a><code class="inline" id="dpr_timeout">}</code></strong> - Number of milliseconds after which a transport
connection is terminated following an incoming DPR if the peer does not
close the connection.</p><p>Defaults to 5000.</p></li><li><p><strong><code class="inline" id="incoming_maxlen">{incoming_maxlen, 0..16777215}</code></strong> - Bound on the
expected size of incoming Diameter messages. Messages larger than the
specified number of bytes are discarded.</p><p>Defaults to <code class="inline">16777215</code>, the maximum value of the 24-bit Message Length field
in a Diameter Header.</p></li><li><p><strong><code class="inline" id="length_errors">{length_errors, exit|handle|discard}</code></strong> - How to
deal with errors in the Message Length field of the Diameter Header in an
incoming message. An error in this context is that the length is not at
least 20 bytes (the length of a Header), is not a multiple of 4 (a valid
length) or is not the length of the message in question, as received over
the transport interface documented in <a href="diameter_transport.html"><code class="inline">diameter_transport</code></a>.</p><p>If <code class="inline">exit</code> then the transport process in question exits. If <code class="inline">handle</code> then the
message is processed as usual, a resulting
<a href="diameter_app.html#c:handle_request/3">handle_request/3</a> or
<a href="diameter_app.html#c:handle_answer/4">handle_answer/4</a> callback (if one takes
place) indicating the <code class="inline">5015</code> error (DIAMETER_INVALID_MESSAGE_LENGTH). If
<code class="inline">discard</code> then the message in question is silently discarded.</p><p>Defaults to <code class="inline">exit</code>.</p><blockquote><h4 class="info">Note</h4><p>The default value reflects the fact that a transport module for a
stream-oriented transport like TCP may not be able to recover from a
message length error since such a transport must use the Message Length
header to divide the incoming byte stream into individual Diameter
messages. An invalid length leaves it with no reliable way to rediscover
message boundaries, which may result in the failure of subsequent
messages. See <a href="diameter_tcp.html"><code class="inline">diameter_tcp</code></a> for the behaviour of that module.</p></blockquote></li><li><p><strong><code class="inline">{pool_size, pos_integer()}</code></strong> - Number of transport processes to start.
For a listening transport, determines the size of the pool of accepting
transport processes, a larger number being desirable for processing multiple
concurrent peer connection attempts. For a connecting transport, determines
the number of connections to the peer in question that will be attempted to
be establshed: the <a href="diameter.html#service_opt">service_opt()</a>:
<code class="inline">restrict_connections</code> should also be configured on the service in question
to allow multiple connections to the same peer.</p></li><li><p><strong><code class="inline" id="spawn_opt">{spawn_opt, [term()] | {M,F,A}}</code></strong> - An options list
passed to <a href="../../../../lib/../erts/doc/html/erlang.html#spawn_opt/2"><code class="inline">erlang:spawn_opt/2</code></a> to spawn a handler process for an incoming
Diameter request on the local node, or an MFA that returns the pid of a
handler process.</p><p>Options <code class="inline">monitor</code> and <code class="inline">link</code> are ignored in the list-valued case. An MFA is
applied with an additional term prepended to its argument list, and should
return either the pid of the handler process that invokes
<code class="inline">diameter_traffic:request/1</code> on the argument in order to process the
request, or the atom <code class="inline">discard</code>. The handler process need not be local, and
diameter need not be started on the remote node, but diameter and relevant
application callbacks must be on the code path.</p><p>Defaults to the empty list.</p></li><li><p><strong><code class="inline" id="strict_capx">{strict_capx, boolean()]}</code></strong> - Whether or not to
enforce the RFC 6733 requirement that any message before capabilities
exchange should close the peer connection. If false then unexpected messages
are discarded.</p><p>Defaults to true. Changing this results in non-standard behaviour, but can
be useful in case peers are known to be behave badly.</p></li><li><p><strong><code class="inline" id="strict_mbit">{strict_mbit, boolean()}</code></strong> - Whether or not to regard
an AVP setting the M-bit as erroneous when the command grammar in question
does not explicitly allow the AVP. If <code class="inline">true</code> then such AVPs are regarded as
5001 errors, DIAMETER_AVP_UNSUPPORTED. If <code class="inline">false</code> then the M-bit is ignored
and policing it becomes the receiver's responsibility.</p><p>Defaults to <code class="inline">true</code>.</p><blockquote><h4 class="warning">Warning</h4><p>RFC 6733 is unclear about the semantics of the M-bit. One the one hand,
the CCF specification in section 3.2 documents AVP in a command grammar as
meaning <em>any</em> arbitrary AVP; on the other hand, 1.3.4 states that AVPs
setting the M-bit cannot be added to an existing command: the modified
command must instead be placed in a new Diameter application.</p><p>The reason for the latter is presumably interoperability: allowing
arbitrary AVPs setting the M-bit in a command makes its interpretation
implementation-dependent, since there's no guarantee that all
implementations will understand the same set of arbitrary AVPs in the
context of a given command. However, interpreting <code class="inline">AVP</code> in a command
grammar as any AVP, regardless of M-bit, renders 1.3.4 meaningless, since
the receiver can simply ignore any AVP it thinks isn't relevant,
regardless of the sender's intent.</p><p>Beware of confusing mandatory in the sense of the M-bit with mandatory in
the sense of the command grammar. The former is a semantic requirement:
that the receiver understand the semantics of the AVP in the context in
question. The latter is a syntactic requirement: whether or not the AVP
must occur in the message in question.</p></blockquote></li><li><p><strong><code class="inline" id="transport_config">{transport_config, term()}</code></strong></p></li><li><p><strong><code class="inline">{transport_config, term(),</code><a href="diameter_dict.html#DATA_TYPES"><code class="inline">Unsigned32()</code></a><code class="inline">| infinity}</code></strong> -
Term passed as the third argument to the
<a href="diameter_transport.html#c:start/3">start/3</a> function of the relevant
<a href="diameter_transport.html">transport module</a> in order to start a transport
process. Defaults to the empty list.</p><p>The 3-tuple form additionally specifies an interval, in milliseconds, after
which a started transport process should be terminated if it has not yet
established a connection. For example, the following options on a connecting
transport request a connection with one peer over SCTP or another (typically
the same) over TCP.</p><pre><code class="text">{transport_module, diameter_sctp}
{transport_config, SctpOpts, 5000}
{transport_module, diameter_tcp}
{transport_config, TcpOpts}</code></pre><p>To listen on both SCTP and TCP, define one transport for each.</p></li><li><p><strong><code class="inline" id="transport_module">{transport_module, atom()}</code></strong> - Module
implementing a transport process as defined in <a href="diameter_transport.html"><code class="inline">diameter_transport</code></a>.
Defaults to <code class="inline">diameter_tcp</code>.</p><p>Multiple <code class="inline">transport_module</code> and
<a href="diameter.html#transport_config">transport_config</a> options are allowed. The
order of these is significant in this case (and only in this case), a
<code class="inline">transport_module</code> being paired with the first
<a href="diameter.html#transport_config">transport_config</a> following it in the
options list, or the default value for trailing modules. Transport starts
will be attempted with each of the modules in order until one establishes a
connection within the corresponding timeout (see below) or all fail.</p></li><li><p><strong><code class="inline" id="watchdog_config">{watchdog_config, [{okay|suspect, non_neg_integer()}]}</code></strong> - Configuration that alters the behaviour of the
watchdog state machine. On key <code class="inline">okay</code>, the non-negative number of answered
DWR messages before transitioning from REOPEN to OKAY. On key <code class="inline">suspect</code>, the
number of watchdog timeouts before transitioning from OKAY to SUSPECT when
DWR is unanswered, or 0 to not make the transition.</p><p>Defaults to <code class="inline">[{okay, 3}, {suspect, 1}]</code>. Not specifying a key is equivalent
to specifying the default value for that key.</p><blockquote><h4 class="warning">Warning</h4><p>The default value is as required by RFC 3539: changing it results in
non-standard behaviour that should only be used to simulate misbehaving
nodes during test.</p></blockquote></li><li><p><strong><code class="inline" id="watchdog_timer">{watchdog_timer, TwInit}</code></strong></p><pre><code class="text">TwInit = Unsigned32()
       | {M,F,A}</code></pre><p>The RFC 3539 watchdog timer. An integer value is interpreted as the RFC's
TwInit in milliseconds, a jitter of Â± 2 seconds being added at each rearming
of the timer to compute the RFC's Tw. An MFA is expected to return the RFC's
Tw directly, with jitter applied, allowing the jitter calculation to be
performed by the callback.</p><p>An integer value must be at least 6000 as required by RFC 3539. Defaults
to 30000.</p></li></ul><p>Unrecognized options are silently ignored but are returned unmodified by
<a href="#service_info/2"><code class="inline">service_info/2</code></a> and can be referred to in predicate functions passed to
<a href="#remove_transport/2"><code class="inline">remove_transport/2</code></a>.</p></li><li><p><strong><code class="inline" id="transport_ref">transport_ref() = reference()</code></strong> - Reference returned
by <a href="#add_transport/2"><code class="inline">add_transport/2</code></a> that identifies the configuration.</p></li></ul><h2 id="module-see-also" class="section-heading">
  <a href="#module-see-also" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">SEE ALSO</span>
</h2>
<p><a href="diameter_app.html"><code class="inline">diameter_app</code></a>, <a href="diameter_transport.html"><code class="inline">diameter_transport</code></a>, <a href="diameter_dict.html">diameter_dict(4)</a></p>
  </section>


  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-types summary">
  <h2>
    <a href="#types">Types</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:Address/0" translate="no">'Address'/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:app_alias/0" translate="no">app_alias/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:app_module/0" translate="no">app_module/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:application_opt/0" translate="no">application_opt/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:call_opt/0" translate="no">call_opt/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:capability/0" translate="no">capability/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:common_opt/0" translate="no">common_opt/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:DiameterIdentity/0" translate="no">'DiameterIdentity'/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:DiameterURI/0" translate="no">'DiameterURI'/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:decode_format/0" translate="no">decode_format/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:Enumerated/0" translate="no">'Enumerated'/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:eval/0" translate="no">eval/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:evaluable/0" translate="no">evaluable/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:Float32/0" translate="no">'Float32'/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:Float64/0" translate="no">'Float64'/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:Grouped/0" translate="no">'Grouped'/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:Integer32/0" translate="no">'Integer32'/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:Integer64/0" translate="no">'Integer64'/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:IPFilterRule/0" translate="no">'IPFilterRule'/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:message_length/0" translate="no">message_length/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:OctetString/0" translate="no">'OctetString'/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:peer_filter/0" translate="no">peer_filter/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:peer_ref/0" translate="no">peer_ref/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:QoSFilterRule/0" translate="no">'QoSFilterRule'/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:remotes/0" translate="no">remotes/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:restriction/0" translate="no">restriction/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:sequence/0" translate="no">sequence/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:service_name/0" translate="no">service_name/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:service_opt/0" translate="no">service_opt/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:strict_arities/0" translate="no">strict_arities/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:Time/0" translate="no">'Time'/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:transport_opt/0" translate="no">transport_opt/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:transport_pred/0" translate="no">transport_pred/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:transport_ref/0" translate="no">transport_ref/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:Unsigned32/0" translate="no">'Unsigned32'/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:Unsigned64/0" translate="no">'Unsigned64'/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:UTF8String/0" translate="no">'UTF8String'/0</a>

      </div>

    </div>

</div>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#add_transport/2" translate="no">add_transport/2</a>

      </div>

        <div class="summary-synopsis"><p>add_transport(SvcName, {connect|listen, [Opt]}) -&gt; {ok, Ref} | {error, Reason}</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#call/4" translate="no">call(SvcName, App, Message, Options)</a>

      </div>

        <div class="summary-synopsis"><p>call(SvcName, App, Request, [Opt]) -&gt; Answer | ok | {error, Reason}</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#origin_state_id/0" translate="no">origin_state_id()</a>

      </div>

        <div class="summary-synopsis"><p>origin_state_id() -&gt; Unsigned32()</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#remove_transport/2" translate="no">remove_transport(SvcName, Pred)</a>

      </div>

        <div class="summary-synopsis"><p>remove_transport(SvcName, Pred) -&gt; ok | {error, Reason}</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#service_info/2" translate="no">service_info(SvcName, Option)</a>

      </div>

        <div class="summary-synopsis"><p>service_info(SvcName, Info) -&gt; term()</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#services/0" translate="no">services()</a>

      </div>

        <div class="summary-synopsis"><p>services() -&gt; [SvcName]</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#session_id/1" translate="no">session_id(Ident)</a>

      </div>

        <div class="summary-synopsis"><p>session_id(Ident) -&gt; OctetString()</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#start/0" translate="no">start()</a>

      </div>

        <div class="summary-synopsis"><p>start() -&gt; ok | {error, Reason}</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#start_service/2" translate="no">start_service(SvcName, Opts)</a>

      </div>

        <div class="summary-synopsis"><p>start_service(SvcName, Options) -&gt; ok | {error, Reason}</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#stop/0" translate="no">stop()</a>

      </div>

        <div class="summary-synopsis"><p>stop() -&gt; ok | {error, Reason}</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#stop_service/1" translate="no">stop_service(SvcName)</a>

      </div>

        <div class="summary-synopsis"><p>stop_service(SvcName) -&gt; ok | {error, Reason}</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#subscribe/1" translate="no">subscribe(SvcName)</a>

      </div>

        <div class="summary-synopsis"><p>subscribe(SvcName) -&gt; true</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#unsubscribe/1" translate="no">unsubscribe(SvcName)</a>

      </div>

        <div class="summary-synopsis"><p>unsubscribe(SvcName) -&gt; true</p></div>

    </div>

</div>

  </section>


  <section id="types" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types</span>
    </h1>
    <div class="types-list">
<section class="detail" id="t:Address/0">

  <div class="detail-header">
    <a href="#t:Address/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">'Address'/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1736" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> 'Address'() :: <a href="../../../../lib/kernel/doc/html/inet.html#t:ip_address/0">inet:ip_address</a>() | <a href="../../../../lib/../erts/doc/html/erlang.html#t:string/0">string</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:app_alias/0">

  <div class="detail-header">
    <a href="#t:app_alias/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">app_alias/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1865" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> app_alias() :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:any/0">any</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:app_module/0">

  <div class="detail-header">
    <a href="#t:app_module/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">app_module/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1868" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> app_module() :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:module/0">module</a>() | <a href="../../../../lib/../erts/doc/html/erlang.html#t:maybe_improper_list/2">maybe_improper_list</a>(<a href="../../../../lib/../erts/doc/html/erlang.html#t:module/0">module</a>(), <a href="../../../../lib/../erts/doc/html/erlang.html#t:list/0">list</a>()) | #diameter_callback{}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:application_opt/0">

  <div class="detail-header">
    <a href="#t:application_opt/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">application_opt/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1856" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> application_opt() ::
    {alias, <a href="#t:app_alias/0">app_alias</a>()} |
    {answer_errors, callback | report | discard} |
    {call_mutates_state, <a href="../../../../lib/../erts/doc/html/erlang.html#t:boolean/0">boolean</a>()} |
    {dictionary, <a href="../../../../lib/../erts/doc/html/erlang.html#t:module/0">module</a>()} |
    {module, <a href="#t:app_module/0">app_module</a>()} |
    {request_errors, answer_3xxx | answer | callback} |
    {state, <a href="../../../../lib/../erts/doc/html/erlang.html#t:any/0">any</a>()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:call_opt/0">

  <div class="detail-header">
    <a href="#t:call_opt/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">call_opt/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1903" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> call_opt() ::
    detach |
    {extra, <a href="../../../../lib/../erts/doc/html/erlang.html#t:list/0">list</a>()} |
    {filter, <a href="#t:peer_filter/0">peer_filter</a>()} |
    {peer, <a href="#t:peer_ref/0">peer_ref</a>()} |
    {timeout, <a href="#t:Unsigned32/0">'Unsigned32'</a>()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:capability/0">

  <div class="detail-header">
    <a href="#t:capability/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">capability/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1756" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> capability() ::
    {'Origin-Host', <a href="#t:DiameterIdentity/0">'DiameterIdentity'</a>()} |
    {'Origin-Realm', <a href="#t:DiameterIdentity/0">'DiameterIdentity'</a>()} |
    {'Host-IP-Address', [<a href="#t:Address/0">'Address'</a>()]} |
    {'Vendor-Id', <a href="#t:Unsigned32/0">'Unsigned32'</a>()} |
    {'Product-Name', <a href="#t:UTF8String/0">'UTF8String'</a>()} |
    {'Supported-Vendor-Id', [<a href="#t:Unsigned32/0">'Unsigned32'</a>()]} |
    {'Auth-Application-Id', [<a href="#t:Unsigned32/0">'Unsigned32'</a>()]} |
    {'Vendor-Specific-Application-Id', [<a href="#t:Grouped/0">'Grouped'</a>()]} |
    {'Firmware-Revision', <a href="#t:Unsigned32/0">'Unsigned32'</a>()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:common_opt/0">

  <div class="detail-header">
    <a href="#t:common_opt/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">common_opt/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1824" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> common_opt() ::
    {avp_dictionaries, [<a href="../../../../lib/../erts/doc/html/erlang.html#t:module/0">module</a>()]} |
    {capabilities_cb, <a href="#t:eval/0">eval</a>()} |
    {capx_timeout, <a href="#t:Unsigned32/0">'Unsigned32'</a>()} |
    {connect_timer, <a href="#t:Unsigned32/0">'Unsigned32'</a>()} |
    {disconnect_cb, <a href="#t:eval/0">eval</a>()} |
    {dpa_timeout, <a href="#t:Unsigned32/0">'Unsigned32'</a>()} |
    {dpr_timeout, <a href="#t:Unsigned32/0">'Unsigned32'</a>()} |
    {incoming_maxlen, <a href="#t:message_length/0">message_length</a>()} |
    {length_errors, exit | handle | discard} |
    {pool_size, <a href="../../../../lib/../erts/doc/html/erlang.html#t:pos_integer/0">pos_integer</a>()} |
    {spawn_opt, <a href="../../../../lib/../erts/doc/html/erlang.html#t:list/0">list</a>() | <a href="../../../../lib/../erts/doc/html/erlang.html#t:mfa/0">mfa</a>()} |
    {strict_capx, <a href="../../../../lib/../erts/doc/html/erlang.html#t:boolean/0">boolean</a>()} |
    {strict_mbit, <a href="../../../../lib/../erts/doc/html/erlang.html#t:boolean/0">boolean</a>()} |
    {watchdog_config, [{okay | suspect, <a href="../../../../lib/../erts/doc/html/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()}]} |
    {watchdog_timer, <a href="#t:Unsigned32/0">'Unsigned32'</a>() | {<a href="../../../../lib/../erts/doc/html/erlang.html#t:module/0">module</a>(), <a href="../../../../lib/../erts/doc/html/erlang.html#t:atom/0">atom</a>(), <a href="../../../../lib/../erts/doc/html/erlang.html#t:list/0">list</a>()}}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:DiameterIdentity/0">

  <div class="detail-header">
    <a href="#t:DiameterIdentity/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">'DiameterIdentity'/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1743" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> 'DiameterIdentity'() :: <a href="#t:OctetString/0">'OctetString'</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:DiameterURI/0">

  <div class="detail-header">
    <a href="#t:DiameterURI/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">'DiameterURI'/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1744" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> 'DiameterURI'() :: <a href="#t:OctetString/0">'OctetString'</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:decode_format/0">

  <div class="detail-header">
    <a href="#t:decode_format/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">decode_format/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1810" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> decode_format() :: record | list | map | none | record_from_map.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:Enumerated/0">

  <div class="detail-header">
    <a href="#t:Enumerated/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">'Enumerated'/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1745" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> 'Enumerated'() :: <a href="#t:Integer32/0">'Integer32'</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:eval/0">

  <div class="detail-header">
    <a href="#t:eval/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">eval/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1784" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> eval() :: {<a href="../../../../lib/../erts/doc/html/erlang.html#t:module/0">module</a>(), <a href="../../../../lib/../erts/doc/html/erlang.html#t:atom/0">atom</a>(), <a href="../../../../lib/../erts/doc/html/erlang.html#t:list/0">list</a>()} | fun() | <a href="../../../../lib/../erts/doc/html/erlang.html#t:maybe_improper_list/2">maybe_improper_list</a>(<a href="#t:eval/0">eval</a>(), <a href="../../../../lib/../erts/doc/html/erlang.html#t:list/0">list</a>()).</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:evaluable/0">

  <div class="detail-header">
    <a href="#t:evaluable/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">evaluable/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1789" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> evaluable() :: <a href="#t:eval/0">eval</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:Float32/0">

  <div class="detail-header">
    <a href="#t:Float32/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">'Float32'/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1730" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> 'Float32'() :: '-infinity' | <a href="../../../../lib/../erts/doc/html/erlang.html#t:float/0">float</a>() | infinity.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:Float64/0">

  <div class="detail-header">
    <a href="#t:Float64/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">'Float64'/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1731" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> 'Float64'() :: '-infinity' | <a href="../../../../lib/../erts/doc/html/erlang.html#t:float/0">float</a>() | infinity.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:Grouped/0">

  <div class="detail-header">
    <a href="#t:Grouped/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">'Grouped'/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1732" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> 'Grouped'() :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:list/0">list</a>() | <a href="../../../../lib/../erts/doc/html/erlang.html#t:tuple/0">tuple</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:Integer32/0">

  <div class="detail-header">
    <a href="#t:Integer32/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">'Integer32'/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1726" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> 'Integer32'() :: -2147483647..2147483647.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:Integer64/0">

  <div class="detail-header">
    <a href="#t:Integer64/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">'Integer64'/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1727" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> 'Integer64'() :: -9223372036854775807..9223372036854775807.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:IPFilterRule/0">

  <div class="detail-header">
    <a href="#t:IPFilterRule/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">'IPFilterRule'/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1746" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> 'IPFilterRule'() :: <a href="#t:OctetString/0">'OctetString'</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:message_length/0">

  <div class="detail-header">
    <a href="#t:message_length/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">message_length/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1807" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> message_length() :: 0..16777215.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:OctetString/0">

  <div class="detail-header">
    <a href="#t:OctetString/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">'OctetString'/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1725" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> 'OctetString'() :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:iolist/0">iolist</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:peer_filter/0">

  <div class="detail-header">
    <a href="#t:peer_filter/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">peer_filter/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1769" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> peer_filter() ::
    none | host | realm |
    {host, any | <a href="#t:DiameterIdentity/0">'DiameterIdentity'</a>()} |
    {realm, any | <a href="#t:DiameterIdentity/0">'DiameterIdentity'</a>()} |
    {eval, <a href="#t:eval/0">eval</a>()} |
    {neg, <a href="#t:peer_filter/0">peer_filter</a>()} |
    {first, [<a href="#t:peer_filter/0">peer_filter</a>()]} |
    {all, [<a href="#t:peer_filter/0">peer_filter</a>()]} |
    {any, [<a href="#t:peer_filter/0">peer_filter</a>()]}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:peer_ref/0">

  <div class="detail-header">
    <a href="#t:peer_ref/0" class="detail-link" title="Link to this opaque">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this opaque</span>
    </a>
    <h1 class="signature" translate="no">peer_ref/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1781" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(opaque)</span>

      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-opaque</span> peer_ref()</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:QoSFilterRule/0">

  <div class="detail-header">
    <a href="#t:QoSFilterRule/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">'QoSFilterRule'/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1747" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> 'QoSFilterRule'() :: <a href="#t:OctetString/0">'OctetString'</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:remotes/0">

  <div class="detail-header">
    <a href="#t:remotes/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">remotes/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1802" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> remotes() :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:boolean/0">boolean</a>() | [<a href="../../../../lib/../erts/doc/html/erlang.html#t:node/0">node</a>()] | <a href="#t:eval/0">eval</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:restriction/0">

  <div class="detail-header">
    <a href="#t:restriction/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">restriction/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1795" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> restriction() :: false | node | nodes | [<a href="../../../../lib/../erts/doc/html/erlang.html#t:node/0">node</a>()] | <a href="#t:eval/0">eval</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:sequence/0">

  <div class="detail-header">
    <a href="#t:sequence/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">sequence/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1792" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> sequence() :: {<a href="#t:Unsigned32/0">'Unsigned32'</a>(), 0..32}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:service_name/0">

  <div class="detail-header">
    <a href="#t:service_name/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">service_name/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1751" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> service_name() :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:any/0">any</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:service_opt/0">

  <div class="detail-header">
    <a href="#t:service_opt/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">service_opt/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1843" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> service_opt() ::
    <a href="#t:capability/0">capability</a>() |
    {application, [<a href="#t:application_opt/0">application_opt</a>()]} |
    {decode_format, <a href="#t:decode_format/0">decode_format</a>()} |
    {restrict_connections, <a href="#t:restriction/0">restriction</a>()} |
    {sequence, <a href="#t:sequence/0">sequence</a>() | <a href="#t:eval/0">eval</a>()} |
    {share_peers, <a href="#t:remotes/0">remotes</a>()} |
    {strict_arities, true | <a href="#t:strict_arities/0">strict_arities</a>()} |
    {string_decode, <a href="../../../../lib/../erts/doc/html/erlang.html#t:boolean/0">boolean</a>()} |
    {traffic_counters, <a href="../../../../lib/../erts/doc/html/erlang.html#t:boolean/0">boolean</a>()} |
    {use_shared_peers, <a href="#t:remotes/0">remotes</a>()} |
    <a href="#t:common_opt/0">common_opt</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:strict_arities/0">

  <div class="detail-header">
    <a href="#t:strict_arities/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">strict_arities/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1817" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> strict_arities() :: false | encode | decode.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:Time/0">

  <div class="detail-header">
    <a href="#t:Time/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">'Time'/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1740" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> 'Time'() :: {{<a href="../../../../lib/../erts/doc/html/erlang.html#t:integer/0">integer</a>(), 1..12, 1..31}, {0..23, 0..59, 0..59}}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:transport_opt/0">

  <div class="detail-header">
    <a href="#t:transport_opt/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">transport_opt/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1880" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> transport_opt() ::
    {applications, [<a href="#t:app_alias/0">app_alias</a>()]} |
    {capabilities, [<a href="#t:capability/0">capability</a>()]} |
    {transport_config, <a href="../../../../lib/../erts/doc/html/erlang.html#t:any/0">any</a>()} |
    {transport_config, <a href="../../../../lib/../erts/doc/html/erlang.html#t:any/0">any</a>(), <a href="#t:Unsigned32/0">'Unsigned32'</a>() | infinity} |
    {transport_module, <a href="../../../../lib/../erts/doc/html/erlang.html#t:atom/0">atom</a>()} |
    <a href="#t:common_opt/0">common_opt</a>() |
    {private, <a href="../../../../lib/../erts/doc/html/erlang.html#t:any/0">any</a>()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:transport_pred/0">

  <div class="detail-header">
    <a href="#t:transport_pred/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">transport_pred/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1891" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> transport_pred() ::
    fun((<a href="#t:transport_ref/0">transport_ref</a>(), connect | listen, <a href="../../../../lib/../erts/doc/html/erlang.html#t:list/0">list</a>()) -> <a href="../../../../lib/../erts/doc/html/erlang.html#t:boolean/0">boolean</a>()) |
    fun((<a href="#t:transport_ref/0">transport_ref</a>(), <a href="../../../../lib/../erts/doc/html/erlang.html#t:list/0">list</a>()) -> <a href="../../../../lib/../erts/doc/html/erlang.html#t:boolean/0">boolean</a>()) |
    fun((<a href="../../../../lib/../erts/doc/html/erlang.html#t:list/0">list</a>()) -> <a href="../../../../lib/../erts/doc/html/erlang.html#t:boolean/0">boolean</a>()) |
    <a href="#t:transport_ref/0">transport_ref</a>() |
    <a href="../../../../lib/../erts/doc/html/erlang.html#t:boolean/0">boolean</a>() |
    <a href="../../../../lib/../erts/doc/html/erlang.html#t:list/0">list</a>() |
    {connect | listen, <a href="#t:transport_pred/0">transport_pred</a>()} |
    {<a href="../../../../lib/../erts/doc/html/erlang.html#t:atom/0">atom</a>(), <a href="../../../../lib/../erts/doc/html/erlang.html#t:atom/0">atom</a>(), <a href="../../../../lib/../erts/doc/html/erlang.html#t:list/0">list</a>()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:transport_ref/0">

  <div class="detail-header">
    <a href="#t:transport_ref/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">transport_ref/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1875" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> transport_ref() :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:reference/0">reference</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:Unsigned32/0">

  <div class="detail-header">
    <a href="#t:Unsigned32/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">'Unsigned32'/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1728" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> 'Unsigned32'() :: 0..4294967295.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:Unsigned64/0">

  <div class="detail-header">
    <a href="#t:Unsigned64/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">'Unsigned64'/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1729" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> 'Unsigned64'() :: 0..18446744073709551615.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:UTF8String/0">

  <div class="detail-header">
    <a href="#t:UTF8String/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">'UTF8String'/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1742" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> 'UTF8String'() :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:iolist/0">iolist</a>().</pre>

      </div>


  </section>
</section>

    </div>
  </section>

  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>
    <div class="functions-list">
<section class="detail" id="add_transport/2">

  <div class="detail-header">
    <a href="#add_transport/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">add_transport/2</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1535" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> add_transport(<a href="#t:service_name/0">service_name</a>(), {listen | connect, [<a href="#t:transport_opt/0">transport_opt</a>()]}) ->
                 {ok, <a href="#t:transport_ref/0">transport_ref</a>()} | {error, <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>()}.</pre>

      </div>

<p>add_transport(SvcName, {connect|listen, [Opt]}) -&gt; {ok, Ref} | {error, Reason}</p><p>Add transport capability to a service.</p><p>The service will start transport processes as required in order to establish a
connection with the peer, either by connecting to the peer (<code class="inline">connect</code>) or by
accepting incoming connection requests (<code class="inline">listen</code>). A connecting transport
establishes transport connections with at most one peer, an listening transport
potentially with many.</p><p>The diameter application takes responsibility for exchanging CER/CEA with the
peer. Upon successful completion of capabilities exchange the service calls each
relevant application module's <a href="diameter_app.html#c:peer_up/3">peer_up/3</a> callback
after which the caller can exchange Diameter messages with the peer over the
transport. In addition to CER/CEA, the service takes responsibility for the
handling of DWR/DWA and required by RFC 3539, as well as for DPR/DPA.</p><p>The returned reference uniquely identifies the transport within the scope of the
service. Note that the function returns before a transport connection has been
established.</p><blockquote><h4 class="info">Note</h4><p>It is not an error to add a transport to a service that has not yet been
configured: a service can be started after configuring its transports.</p></blockquote>
  </section>
</section>
<section class="detail" id="call/4">

  <div class="detail-header">
    <a href="#call/4" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">call(SvcName, App, Message, Options)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1714" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> call(<a href="#t:service_name/0">service_name</a>(), <a href="#t:app_alias/0">app_alias</a>(), <a href="../../../../lib/../erts/doc/html/erlang.html#t:any/0">any</a>(), [<a href="#t:call_opt/0">call_opt</a>()]) -> <a href="../../../../lib/../erts/doc/html/erlang.html#t:any/0">any</a>().</pre>

      </div>

<p>call(SvcName, App, Request, [Opt]) -&gt; Answer | ok | {error, Reason}</p><p>Send a Diameter request message.</p><p><code class="inline">App</code> specifies the Diameter application in which the request is defined and
callbacks to the corresponding callback module will follow as described below
and in <a href="diameter_app.html"><code class="inline">diameter_app</code></a>. Unless the <code class="inline">detach</code> option is specified, the call
returns either when an answer message is received from the peer or an error
occurs. In the answer case, the return value is as returned by a
<a href="diameter_app.html#c:handle_answer/4">handle_answer/4</a> callback. In the error case,
whether or not the error is returned directly by diameter or from a
<a href="diameter_app.html#c:handle_error/4">handle_error/4</a> callback depends on whether or
not the outgoing request is successfully encoded for transmission to the peer,
the cases being documented below.</p><p>If there are no suitable peers, or if
<a href="diameter_app.html#c:pick_peer/4">pick_peer/4</a> rejects them by returning <code class="inline">false</code>,
then <code class="inline">{error,no_connection}</code> is returned. Otherwise
<a href="diameter_app.html#c:pick_peer/4">pick_peer/4</a> is followed by a
<a href="diameter_app.html#c:prepare_request/3">prepare_request/3</a> callback, the message is
encoded and then sent.</p><p>There are several error cases which may prevent an answer from being received
and passed to a <a href="diameter_app.html#c:handle_answer/4">handle_answer/4</a> callback:</p><ul><li>If the initial encode of the outgoing request fails, then the request process
fails and <code class="inline">{error,encode}</code> is returned.</li><li>If the request is successfully encoded and sent but the answer times out then
a <a href="diameter_app.html#c:handle_error/4">handle_error/4</a> callback takes place with
<code class="inline">Reason = timeout</code>.</li><li>If the request is successfully encoded and sent but the service in question is
stopped before an answer is received then a
<a href="diameter_app.html#c:handle_error/4">handle_error/4</a> callback takes place with
<code class="inline">Reason = cancel</code>.</li><li>If the transport connection with the peer goes down after the request has been
sent but before an answer has been received then an attempt is made to resend
the request to an alternate peer. If no such peer is available, or if the
subsequent <a href="diameter_app.html#c:pick_peer/4">pick_peer/4</a> callback rejects the
candidates, then a <a href="diameter_app.html#c:handle_error/4">handle_error/4</a> callback
takes place with <code class="inline">Reason = failover</code>. If a peer is selected then a
<a href="diameter_app.html#c:prepare_retransmit/3">prepare_retransmit/3</a> callback takes
place, after which the semantics are the same as following an initial
<a href="diameter_app.html#c:prepare_request/3">prepare_request/3</a> callback.</li><li>If an encode error takes place during retransmission then the request process
fails and <code class="inline">{error,failure}</code> is returned.</li><li>If an application callback made in processing the request fails (pick_peer,
prepare_request, prepare_retransmit, handle_answer or handle_error) then
either <code class="inline">{error,encode}</code> or <code class="inline">{error,failure}</code> is returned depending on whether
or not there has been an attempt to send the request over the transport.</li></ul><p>Note that <code class="inline">{error,encode}</code> is the only return value which guarantees that the
request has <em>not</em> been sent over the transport connection.</p>
  </section>
</section>
<section class="detail" id="origin_state_id/0">

  <div class="detail-header">
    <a href="#origin_state_id/0" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">origin_state_id()</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1649" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> origin_state_id() -> <a href="#t:Unsigned32/0">'Unsigned32'</a>().</pre>

      </div>

<p>origin_state_id() -&gt; Unsigned32()</p><p>Return a reasonable value for use as Origin-State-Id in outgoing messages.</p><p>The value returned is the number of seconds since 19680120T031408Z, the first
value that can be encoded as a Diameter <a href="diameter_dict.html#DATA_TYPES"><code class="inline">Time()</code></a>,
at the time the diameter application was started.</p>
  </section>
</section>
<section class="detail" id="remove_transport/2">

  <div class="detail-header">
    <a href="#remove_transport/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">remove_transport(SvcName, Pred)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1572" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> remove_transport(<a href="#t:service_name/0">service_name</a>(), <a href="#t:transport_pred/0">transport_pred</a>()) -> ok | {error, <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>()}.</pre>

      </div>

<p>remove_transport(SvcName, Pred) -&gt; ok | {error, Reason}</p><p>Remove previously added transports.</p><p><code class="inline">Pred</code> determines which transports to remove. An arity-3-valued <code class="inline">Pred</code> removes
all transports for which <code class="inline">Pred(Ref, Type, Opts)</code> returns <code class="inline">true</code>, where <code class="inline">Type</code>
and <code class="inline">Opts</code> are as passed to <a href="#add_transport/2"><code class="inline">add_transport/2</code></a> and <code class="inline">Ref</code> is as returned by it.
The remaining forms are equivalent to an arity-3 fun as follows.</p><pre><code class="text">Pred = fun(transport_ref(), list()):  fun(Ref, _, Opts) -&gt; Pred(Ref, Opts) end
Pred = fun(list()):                   fun(_, _, Opts) -&gt; Pred(Opts) end
Pred = transport_ref():               fun(Ref, _, _)  -&gt; Pred == Ref end
Pred = list():                        fun(_, _, Opts) -&gt; [] == Pred -- Opts end
Pred = true:                          fun(_, _, _) -&gt; true end
Pred = false:                         fun(_, _, _) -&gt; false end
Pred = {M,F,A}:  fun(Ref, Type, Opts) -&gt; apply(M, F, [Ref, Type, Opts | A]) end</code></pre><p>Removing a transport causes the corresponding transport processes to be
terminated. Whether or not a DPR message is sent to a peer is controlled by
value of <a href="diameter.html#disconnect_cb">disconnect_cb</a> configured on the
transport.</p>
  </section>
</section>
<section class="detail" id="service_info/2">

  <div class="detail-header">
    <a href="#service_info/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">service_info(SvcName, Option)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1473" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> service_info(<a href="#t:service_name/0">service_name</a>(), Item | [Item]) -> <a href="../../../../lib/../erts/doc/html/erlang.html#t:any/0">any</a>() when Item :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:atom/0">atom</a>() | <a href="#t:peer_ref/0">peer_ref</a>().</pre>

      </div>

<p>service_info(SvcName, Info) -&gt; term()</p><p>Return information about a started service. Requesting info for an unknown
service causes <code class="inline">undefined</code> to be returned. Requesting a list of items causes a
tagged list to be returned.</p><p><code class="inline">Item</code> can be one of the following.</p><ul><li><p><strong><code class="inline">'Origin-Host'</code></strong></p></li><li><p><strong><code class="inline">'Origin-Realm'</code></strong></p></li><li><p><strong><code class="inline">'Vendor-Id'</code></strong></p></li><li><p><strong><code class="inline">'Product-Name'</code></strong></p></li><li><p><strong><code class="inline">'Origin-State-Id'</code></strong></p></li><li><p><strong><code class="inline">'Host-IP-Address'</code></strong></p></li><li><p><strong><code class="inline">'Supported-Vendor'</code></strong></p></li><li><p><strong><code class="inline">'Auth-Application-Id'</code></strong></p></li><li><p><strong><code class="inline">'Inband-Security-Id'</code></strong></p></li><li><p><strong><code class="inline">'Acct-Application-Id'</code></strong></p></li><li><p><strong><code class="inline">'Vendor-Specific-Application-Id'</code></strong></p></li><li><p><strong><code class="inline">'Firmware-Revision'</code></strong> - Return a capability value as configured with
<a href="#start_service/2"><code class="inline">start_service/2</code></a>.</p></li><li><p><strong><code class="inline">applications</code></strong> - Return the list of applications as configured with
<a href="#start_service/2"><code class="inline">start_service/2</code></a>.</p></li><li><p><strong><code class="inline">capabilities</code></strong> - Return a tagged list of all capabilities values as
configured with <a href="#start_service/2"><code class="inline">start_service/2</code></a>.</p></li><li><p><strong><code class="inline">transport</code></strong> - Return a list containing one entry for each of the service's
transport as configured with <a href="#add_transport/2"><code class="inline">add_transport/2</code></a>. Each entry is a tagged list
containing both configuration and information about established peer
connections. An example return value with for a client service with
Origin-Host &quot;client.example.com&quot; configured with a single transport connected
to &quot;server.example.com&quot; might look as follows.</p><pre><code class="text">[[{ref,#Ref&lt;0.0.0.93&gt;},
  {type,connect},
  {options,[{transport_module,diameter_tcp},
            {transport_config,[{ip,{127,0,0,1}},
                               {raddr,{127,0,0,1}},
                               {rport,3868},
                               {reuseaddr,true}]}]},
  {watchdog,{&lt;0.66.0&gt;,-576460736368485571,okay}},
  {peer,{&lt;0.67.0&gt;,-576460736357885808}},
  {apps,[{0,common}]},
  {caps,[{origin_host,{&quot;client.example.com&quot;,&quot;server.example.com&quot;}},
         {origin_realm,{&quot;example.com&quot;,&quot;example.com&quot;}},
         {host_ip_address,{[{127,0,0,1}],[{127,0,0,1}]}},
         {vendor_id,{0,193}},
         {product_name,{&quot;Client&quot;,&quot;Server&quot;}},
         {origin_state_id,{[],[]}},
         {supported_vendor_id,{[],[]}},
         {auth_application_id,{[0],[0]}},
         {inband_security_id,{[],[0]}},
         {acct_application_id,{[],[]}},
         {vendor_specific_application_id,{[],[]}},
         {firmware_revision,{[],[]}},
         {avp,{[],[]}}]},
  {port,[{owner,&lt;0.69.0&gt;},
         {module,diameter_tcp},
         {socket,{{127,0,0,1},48758}},
         {peer,{{127,0,0,1},3868}},
         {statistics,[{recv_oct,656},
                      {recv_cnt,6},
                      {recv_max,148},
                      {recv_avg,109},
                      {recv_dvi,19},
                      {send_oct,836},
                      {send_cnt,6},
                      {send_max,184},
                      {send_avg,139},
                      {send_pend,0}]}]},
  {statistics,[{{{0,258,0},recv},3},
               {{{0,258,1},send},3},
               {{{0,258,0},recv,{'Result-Code',2001}},3},
               {{{0,257,0},recv},1},
               {{{0,257,1},send},1},
               {{{0,257,0},recv,{'Result-Code',2001}},1},
               {{{0,280,1},recv},2},
               {{{0,280,0},send},2},
               {{{0,280,0},send,{'Result-Code',2001}},2}]}]]</code></pre><p>Here <code class="inline">ref</code> is a <a href="diameter.html#transport_ref"><code class="inline">transport_ref()</code></a> and <code class="inline">options</code>
the corresponding <a href="diameter.html#transport_opt"><code class="inline">transport_opt()</code></a> list passed
to <a href="#add_transport/2"><code class="inline">add_transport/2</code></a>. The <code class="inline">watchdog</code> entry shows the state of a connection's
RFC 3539 watchdog state machine. The <code class="inline">peer</code> entry identifies the
<a href="diameter_app.html#peer_ref"><code class="inline">diameter_app:peer_ref()</code></a> for which there will
have been <a href="diameter_app.html#c:peer_up/3">peer_up/3</a> callbacks for the Diameter
applications identified by the <code class="inline">apps</code> entry, <code class="inline">common</code> being the
<a href="diameter.html#application_alias"><code class="inline">application_alias()</code></a>. The <code class="inline">caps</code> entry
identifies the capabilities sent by the local node and received from the peer
during capabilities exchange. The <code class="inline">port</code> entry displays socket-level
information about the transport connection. The <code class="inline">statistics</code> entry presents
Diameter-level counters, an entry like <code class="inline">{{{0,280,1},recv},2}</code> saying that the
client has received 2 DWR messages:
<code class="inline">{0,280,1} = {Application_Id, Command_Code, R_Flag}</code>.</p><p>Note that <code class="inline">watchdog</code>, <code class="inline">peer</code>, <code class="inline">apps</code>, <code class="inline">caps</code> and <code class="inline">port</code> entries depend on
connectivity with the peer and may not be present. Note also that the
<code class="inline">statistics</code> entry presents values accumulated during the lifetime of the
transport configuration.</p><p>A listening transport presents its information slightly differently since
there may be multiple accepted connections for the same
<a href="diameter.html#transport_ref"><code class="inline">transport_ref()</code></a>. The <code class="inline">transport</code> info returned
by a server with a single client connection might look as follows.</p><pre><code class="text">[[{ref,#Ref&lt;0.0.0.61&gt;},
  {type,listen},
  {options,[{transport_module,diameter_tcp},
            {transport_config,[{reuseaddr,true},
                               {ip,{127,0,0,1}},
                               {port,3868}]}]},
  {accept,[[{watchdog,{&lt;0.56.0&gt;,-576460739249514012,okay}},
            {peer,{&lt;0.58.0&gt;,-576460638229179167}},
            {apps,[{0,common}]},
            {caps,[{origin_host,{&quot;server.example.com&quot;,&quot;client.example.com&quot;}},
                   {origin_realm,{&quot;example.com&quot;,&quot;example.com&quot;}},
                   {host_ip_address,{[{127,0,0,1}],[{127,0,0,1}]}},
                   {vendor_id,{193,0}},
                   {product_name,{&quot;Server&quot;,&quot;Client&quot;}},
                   {origin_state_id,{[],[]}},
                   {supported_vendor_id,{[],[]}},
                   {auth_application_id,{[0],[0]}},
                   {inband_security_id,{[],[]}},
                   {acct_application_id,{[],[]}},
                   {vendor_specific_application_id,{[],[]}},
                   {firmware_revision,{[],[]}},
                   {avp,{[],[]}}]},
            {port,[{owner,&lt;0.62.0&gt;},
                   {module,diameter_tcp},
                   {socket,{{127,0,0,1},3868}},
                   {peer,{{127,0,0,1},48758}},
                   {statistics,[{recv_oct,1576},
                                {recv_cnt,16},
                                {recv_max,184},
                                {recv_avg,98},
                                {recv_dvi,26},
                                {send_oct,1396},
                                {send_cnt,16},
                                {send_max,148},
                                {send_avg,87},
                                {send_pend,0}]}]}],
           [{watchdog,{&lt;0.72.0&gt;,-576460638229717546,initial}}]]},
  {statistics,[{{{0,280,0},recv},7},
               {{{0,280,1},send},7},
               {{{0,280,0},recv,{'Result-Code',2001}},7},
               {{{0,258,1},recv},3},
               {{{0,258,0},send},3},
               {{{0,258,0},send,{'Result-Code',2001}},3},
               {{{0,280,1},recv},5},
               {{{0,280,0},send},5},
               {{{0,280,0},send,{'Result-Code',2001}},5},
               {{{0,257,1},recv},1},
               {{{0,257,0},send},1},
               {{{0,257,0},send,{'Result-Code',2001}},1}]}]]</code></pre><p>The information presented here is as in the <code class="inline">connect</code> case except that the
client connections are grouped under an <code class="inline">accept</code> tuple.</p><p>Whether or not the <a href="diameter.html#transport_opt">transport_opt()</a> <code class="inline">pool_size</code>
has been configured affects the format of the listing in the case of a
connecting transport, since a value greater than 1 implies multiple transport
processes for the same <a href="diameter.html#transport_ref"><code class="inline">transport_ref()</code></a>, as in
the listening case. The format in this case is similar to the listening case,
with a <code class="inline">pool</code> tuple in place of an <code class="inline">accept</code> tuple.</p></li><li><p><strong><code class="inline">connections</code></strong> - Return a list containing one entry for every established
transport connection whose watchdog state machine is not in the <code class="inline">down</code> state.
This is a flat view of <code class="inline">transport</code> info which lists only active connections
and for which Diameter-level statistics are accumulated only for the lifetime
of the transport connection. A return value for the server above might look as
follows.</p><pre><code class="text">[[{ref,#Ref&lt;0.0.0.61&gt;},
  {type,accept},
  {options,[{transport_module,diameter_tcp},
            {transport_config,[{reuseaddr,true},
                               {ip,{127,0,0,1}},
                               {port,3868}]}]},
  {watchdog,{&lt;0.56.0&gt;,-576460739249514012,okay}},
  {peer,{&lt;0.58.0&gt;,-576460638229179167}},
  {apps,[{0,common}]},
  {caps,[{origin_host,{&quot;server.example.com&quot;,&quot;client.example.com&quot;}},
         {origin_realm,{&quot;example.com&quot;,&quot;example.com&quot;}},
         {host_ip_address,{[{127,0,0,1}],[{127,0,0,1}]}},
         {vendor_id,{193,0}},
         {product_name,{&quot;Server&quot;,&quot;Client&quot;}},
         {origin_state_id,{[],[]}},
         {supported_vendor_id,{[],[]}},
         {auth_application_id,{[0],[0]}},
         {inband_security_id,{[],[]}},
         {acct_application_id,{[],[]}},
         {vendor_specific_application_id,{[],[]}},
         {firmware_revision,{[],[]}},
         {avp,{[],[]}}]},
  {port,[{owner,&lt;0.62.0&gt;},
         {module,diameter_tcp},
         {socket,{{127,0,0,1},3868}},
         {peer,{{127,0,0,1},48758}},
         {statistics,[{recv_oct,10124},
                      {recv_cnt,132},
                      {recv_max,184},
                      {recv_avg,76},
                      {recv_dvi,9},
                      {send_oct,10016},
                      {send_cnt,132},
                      {send_max,148},
                      {send_avg,75},
                      {send_pend,0}]}]},
  {statistics,[{{{0,280,0},recv},62},
               {{{0,280,1},send},62},
               {{{0,280,0},recv,{'Result-Code',2001}},62},
               {{{0,258,1},recv},3},
               {{{0,258,0},send},3},
               {{{0,258,0},send,{'Result-Code',2001}},3},
               {{{0,280,1},recv},66},
               {{{0,280,0},send},66},
               {{{0,280,0},send,{'Result-Code',2001}},66},
               {{{0,257,1},recv},1},
               {{{0,257,0},send},1},
               {{{0,257,0},send,{'Result-Code',2001}},1}]}]]</code></pre><p>Note that there may be multiple entries with the same <code class="inline">ref</code>, in contrast to
<code class="inline">transport</code> info.</p></li><li><p><strong><code class="inline">statistics</code></strong> - Return a <code class="inline">{{Counter, Ref}, non_neg_integer()}</code> list of
counter values. <code class="inline">Ref</code> can be either a
<a href="diameter.html#transport_ref"><code class="inline">transport_ref()</code></a> or a
<a href="diameter_app.html#peer_ref"><code class="inline">diameter_app:peer_ref()</code></a>. Entries for the latter
are folded into corresponding entries for the former as peer connections go
down. Entries for both are removed at <a href="#remove_transport/2"><code class="inline">remove_transport/2</code></a>. The Diameter-level
statistics returned by <code class="inline">transport</code> and <code class="inline">connections</code> info are based upon these
entries.</p></li><li><p><strong><a href="diameter_app.html#peer_ref"><code class="inline">diameter_app:peer_ref()</code></a></strong> - Return transport
configuration associated with a single peer, as passed to <a href="#add_transport/2"><code class="inline">add_transport/2</code></a>.
The returned list is empty if the peer is unknown. Otherwise it contains the
<code class="inline">ref</code>, <code class="inline">type</code> and <code class="inline">options</code> tuples as in <code class="inline">transport</code> and <code class="inline">connections</code> info
above. For example:</p><pre><code class="text">[{ref,#Ref&lt;0.0.0.61&gt;},
 {type,accept},
 {options,[{transport_module,diameter_tcp},
           {transport_config,[{reuseaddr,true},
                              {ip,{127,0,0,1}},
                              {port,3868}]}]}]</code></pre></li></ul>
  </section>
</section>
<section class="detail" id="services/0">

  <div class="detail-header">
    <a href="#services/0" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">services()</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1193" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> services() -> [<a href="#t:service_name/0">service_name</a>()].</pre>

      </div>

<p>services() -&gt; [SvcName]</p><p>Return the list of started services.</p>
  </section>
</section>
<section class="detail" id="session_id/1">

  <div class="detail-header">
    <a href="#session_id/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">session_id(Ident)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1629" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> session_id(<a href="#t:DiameterIdentity/0">'DiameterIdentity'</a>()) -> <a href="#t:OctetString/0">'OctetString'</a>().</pre>

      </div>

<p>session_id(Ident) -&gt; OctetString()</p><p>Return a value for a Session-Id AVP.</p><p>The value has the form required by section 8.8 of RFC 6733. Ident should be the
Origin-Host of the peer from which the message containing the returned value
will be sent.</p>
  </section>
</section>
<section class="detail" id="start/0">

  <div class="detail-header">
    <a href="#start/0" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">start()</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1107" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> start() -> ok | {error, <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>()}.</pre>

      </div>

<p>start() -&gt; ok | {error, Reason}</p><p>Start the diameter application.</p><p>The diameter application must be started before starting a service. In a
production system this is typically accomplished by a boot file, not by calling
<a href="#start/0"><code class="inline">start/0</code></a> explicitly.</p>
  </section>
</section>
<section class="detail" id="start_service/2">

  <div class="detail-header">
    <a href="#start_service/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">start_service(SvcName, Opts)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1151" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> start_service(<a href="#t:service_name/0">service_name</a>(), [<a href="#t:service_opt/0">service_opt</a>()]) -> ok | {error, <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>()}.</pre>

      </div>

<p>start_service(SvcName, Options) -&gt; ok | {error, Reason}</p><p>Start a diameter service.</p><p>A service defines a locally-implemented Diameter node, specifying the
capabilities to be advertised during capabilities exchange. Transports are added
to a service using <a href="#add_transport/2"><code class="inline">add_transport/2</code></a>.</p><blockquote><h4 class="info">Note</h4><p>A transport can both override its service's capabilities and restrict its
supported Diameter applications so &quot;service = Diameter node as identified by
Origin-Host&quot; is not necessarily the case.</p></blockquote>
  </section>
</section>
<section class="detail" id="stop/0">

  <div class="detail-header">
    <a href="#stop/0" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">stop()</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1124" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> stop() -> ok | {error, <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>()}.</pre>

      </div>

<p>stop() -&gt; ok | {error, Reason}</p><p>Stop the diameter application.</p>
  </section>
</section>
<section class="detail" id="stop_service/1">

  <div class="detail-header">
    <a href="#stop_service/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">stop_service(SvcName)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1177" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> stop_service(<a href="#t:service_name/0">service_name</a>()) -> ok | {error, <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>()}.</pre>

      </div>

<p>stop_service(SvcName) -&gt; ok | {error, Reason}</p><p>Stop a diameter service.</p><p>Stopping a service causes all associated transport connections to be broken. A
DPR message will be sent as in the case of <a href="#remove_transport/2"><code class="inline">remove_transport/2</code></a>.</p><blockquote><h4 class="info">Note</h4><p>Stopping a service does not remove any associated transports:
<a href="#remove_transport/2"><code class="inline">remove_transport/2</code></a> must be called to remove transport configuration.</p></blockquote>
  </section>
</section>
<section class="detail" id="subscribe/1">

  <div class="detail-header">
    <a href="#subscribe/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">subscribe(SvcName)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1593" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> subscribe(<a href="#t:service_name/0">service_name</a>()) -> true.</pre>

      </div>

<p>subscribe(SvcName) -&gt; true</p><p>Subscribe to <a href="diameter.html#service_event"><code class="inline">service_event()</code></a> messages from a
service.</p><p>It is not an error to subscribe to events from a service that does not yet
exist. Doing so before adding transports is required to guarantee the reception
of all transport-related events.</p>
  </section>
</section>
<section class="detail" id="unsubscribe/1">

  <div class="detail-header">
    <a href="#unsubscribe/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">unsubscribe(SvcName)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/diameter/doc//Users/wojtek/src/otp/lib/diameter/src/base/base/diameter.erl#L1609" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B03)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> unsubscribe(<a href="#t:service_name/0">service_name</a>()) -> true.</pre>

      </div>

<p>unsubscribe(SvcName) -&gt; true</p><p>Unsubscribe to event messages from a service.</p>
  </section>
</section>

    </div>
  </section>

      <footer class="footer">
        <p>

          <span class="line">
            <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
              Search HexDocs
            </button>

          </span>
        </p>

        <p class="built-using">
          Built using
          <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.30.9) for the

            <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

        </p>
      </footer>
    </div>
  </div>
</main>
</div>


  </body>
</html>
