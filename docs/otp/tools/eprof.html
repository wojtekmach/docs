<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.30.9">
    <meta name="project" content="tools v3.6">


    <title>eprof â€” tools v3.6</title>
    <link rel="stylesheet" href="dist/html-erlang-QW5RMTQD.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-43PMFBC7.js"></script>
    <script src="dist/sidebar_items-689671C2.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/html-LRUIU55G.js"></script>

<style>.dark img { background-color: white; }</style>
  </head>
  <body data-type="modules" class="page-module">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="main">

<button class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="api-reference.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="tools" />
        </a>

      <div>
        <a href="api-reference.html" class="sidebar-projectName" translate="no">
tools
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v3.6
        </div>
      </div>
    </div>
    <ul id="sidebar-listNav" class="sidebar-listNav" role="tablist">
      <li>
        <button id="extras-list-tab-button" role="tab" data-type="extras" aria-controls="extras-tab-panel" aria-selected="true" tabindex="0">
Pages
        </button>
      </li>

        <li>
          <button id="modules-list-tab-button" role="tab" data-type="modules" aria-controls="modules-tab-panel" aria-selected="false" tabindex="-1">
            Modules
          </button>
        </li>


    </ul>
  </div>

  <div id="extras-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="extras-list-tab-button">
    <ul id="extras-full-list" class="full-list"></ul>
  </div>

    <div id="modules-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="modules-list-tab-button" hidden>
      <ul id="modules-full-list" class="full-list"></ul>
    </div>


</nav>

<main class="content">
  <output role="status" id="toast"></output>
  <div class="content-outer">
    <div id="content" class="content-inner">
      <div class="top-search">
        <div class="search-settings">
          <form class="search-bar" action="search.html">
            <label class="search-label">
              <span class="sr-only">Search documentation of tools</span>
              <input name="q" type="text" class="search-input" placeholder="Search Documentation (press /)" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
            </label>
            <button type="submit" class="search-button" aria-label="Submit Search">
              <i class="ri-search-2-line ri-lg" aria-hidden="true" title="Submit search"></i>
            </button>
            <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
              <i class="ri-close-line ri-lg" title="Cancel search"></i>
            </button>
          </form>
          <button class="icon-settings display-settings">
            <i class="ri-settings-3-line"></i>
            <span class="sr-only">Settings</span>
          </button>
        </div>
      </div>
      <div class="autocomplete">
        <div class="autocomplete-results">
        </div>
      </div>

<h1>

    <a href="https://github.com/erlang/otp/blob/master/lib/tools/doc//Users/wojtek/src/otp/lib/tools/src/eprof.erl#L24" title="View Source" class="icon-action" rel="help">
      <i class="ri-code-s-slash-line" aria-hidden="true"></i>
      <span class="sr-only">View Source</span>
    </a>

  <span translate="no">eprof</span> 
  <small class="app-vsn" translate="no">(tools v3.6)</small>

</h1>


  <section id="moduledoc">
<p>A Time Profiling Tool for Erlang</p><p>The module <code class="inline">eprof</code> provides a set of functions for time profiling of Erlang
programs to find out how the execution time is used. The profiling is done using
the Erlang trace BIFs. Tracing of local function calls for a specified set of
processes is enabled when profiling is begun, and disabled when profiling is
stopped.</p><p>When using Eprof, expect a slowdown in program execution.</p>
  </section>


  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-types summary">
  <h2>
    <a href="#types">Types</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:analyze_type/0" translate="no">analyze_type/0</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:trace_pattern_mfa/0" translate="no">trace_pattern_mfa/0</a>

      </div>

    </div>

</div>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#analyze/0" translate="no">analyze/0</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a href="#analyze/2"><code class="inline">analyze/2</code></a></p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#analyze/1" translate="no">analyze/1</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a href="#analyze/2"><code class="inline">analyze/2</code></a></p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#analyze/2" translate="no">analyze(Type, Opts)</a>

      </div>

        <div class="summary-synopsis"><p>Call this function when profiling has been stopped to display the results per
process, that is</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#log/1" translate="no">log(File)</a>

      </div>

        <div class="summary-synopsis"><p>This function ensures that the results displayed by
<a href="#analyze/0"><code class="inline">analyze/0,1,2</code></a> are printed both to the file <code class="inline">File</code> and the
screen.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#profile/1" translate="no">profile/1</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a href="#profile/6"><code class="inline">profile/6</code></a></p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#profile/2" translate="no">profile/2</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a href="#profile/6"><code class="inline">profile/6</code></a></p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#profile/3" translate="no">profile/3</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a href="#profile/6"><code class="inline">profile/6</code></a></p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#profile/4" translate="no">profile/4</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a href="#profile/6"><code class="inline">profile/6</code></a></p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#profile/5" translate="no">profile/5</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a href="#profile/6"><code class="inline">profile/6</code></a></p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#profile/6" translate="no">profile(Rootset, M, F, A, Pattern, Options)</a>

      </div>

        <div class="summary-synopsis"><p>This function first spawns a process <code class="inline">P</code> which evaluates <code class="inline">Fun()</code> or
<code class="inline">apply(Module,Function,Args)</code>. Then, it starts profiling for <code class="inline">P</code> and the
processes in <code class="inline">Rootset</code> (and any new processes spawned from them). Information
about activity in any profiled process is stored in the Eprof database.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#start/0" translate="no">start()</a>

      </div>

        <div class="summary-synopsis"><p>Starts the Eprof server which holds the internal state of the collected data.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#start_profiling/1" translate="no">start_profiling/1</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a href="#start_profiling/3"><code class="inline">start_profiling/3</code></a></p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#start_profiling/2" translate="no">start_profiling/2</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a href="#start_profiling/3"><code class="inline">start_profiling/3</code></a></p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#start_profiling/3" translate="no">start_profiling(Rootset, Pattern, Options)</a>

      </div>

        <div class="summary-synopsis"><p>Starts profiling for the processes in <code class="inline">Rootset</code> (and any new processes spawned
from them). Information about activity in any profiled process is stored in the
Eprof database.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#stop/0" translate="no">stop()</a>

      </div>

        <div class="summary-synopsis"><p>Stops the Eprof server.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#stop_profiling/0" translate="no">stop_profiling()</a>

      </div>

        <div class="summary-synopsis"><p>Stops profiling started with <a href="#start_profiling/1"><code class="inline">start_profiling/1</code></a> or <a href="#profile/1"><code class="inline">profile/1</code></a>.</p></div>

    </div>

</div>

  </section>


  <section id="types" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types</span>
    </h1>
    <div class="types-list">
<section class="detail" id="t:analyze_type/0">

  <div class="detail-header">
    <a href="#t:analyze_type/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">analyze_type/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/tools/doc//Users/wojtek/src/otp/lib/tools/src/eprof.erl#L104" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> analyze_type() :: procs | total.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:trace_pattern_mfa/0">

  <div class="detail-header">
    <a href="#t:trace_pattern_mfa/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">trace_pattern_mfa/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/tools/doc//Users/wojtek/src/otp/lib/tools/src/eprof.erl#L178" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> trace_pattern_mfa() :: {<a href="../../../../lib/../erts/doc/html/erlang.html#t:atom/0">atom</a>(), <a href="../../../../lib/../erts/doc/html/erlang.html#t:atom/0">atom</a>(), <a href="../../../../lib/../erts/doc/html/erlang.html#t:arity/0">arity</a>() | '_'}.</pre>

      </div>


  </section>
</section>

    </div>
  </section>

  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>
    <div class="functions-list">
<section class="detail" id="analyze/0">

  <div class="detail-header">
    <a href="#analyze/0" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">analyze/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/tools/doc//Users/wojtek/src/otp/lib/tools/src/eprof.erl#L101" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> analyze() -> ok | nothing_to_analyze.</pre>

      </div>

<p>Equivalent to <a href="#analyze/2"><code class="inline">analyze/2</code></a></p>
  </section>
</section>
<section class="detail" id="analyze/1">

  <div class="detail-header">
    <a href="#analyze/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">analyze/1</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/tools/doc//Users/wojtek/src/otp/lib/tools/src/eprof.erl#L111" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> analyze(Type) -> ok | nothing_to_analyze when Type :: <a href="#t:analyze_type/0">analyze_type</a>().</pre>

      </div>

<p>Equivalent to <a href="#analyze/2"><code class="inline">analyze/2</code></a></p>
  </section>
</section>
<section class="detail" id="analyze/2">

  <div class="detail-header">
    <a href="#analyze/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">analyze(Type, Opts)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/tools/doc//Users/wojtek/src/otp/lib/tools/src/eprof.erl#L138" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> analyze(Type, Options) -> ok | nothing_to_analyze
           when
               Type :: <a href="#t:analyze_type/0">analyze_type</a>(),
               Options :: [Option],
               Option :: {filter, Filter} | {sort, Sort},
               Filter :: [{calls, <a href="../../../../lib/../erts/doc/html/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()} | {time, <a href="../../../../lib/../erts/doc/html/erlang.html#t:float/0">float</a>()}],
               Sort :: time | calls | mfa.</pre>

      </div>

<p>Call this function when profiling has been stopped to display the results per
process, that is:</p><ul><li>how much time has been used by each process, and</li><li>in which function calls this time has been spent.</li></ul><p>Call <code class="inline">analyze</code> with <code class="inline">total</code> option when profiling has been stopped to display
the results per function call, that is in which function calls the time has been
spent.</p><p>Time is shown as percentage of total time and as absolute time.</p>
  </section>
</section>
<section class="detail" id="log/1">

  <div class="detail-header">
    <a href="#log/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">log(File)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/tools/doc//Users/wojtek/src/otp/lib/tools/src/eprof.erl#L284" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> log(File) -> ok when File :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:atom/0">atom</a>() | <a href="../../../../lib/kernel/doc/html/file.html#t:filename/0">file:filename</a>().</pre>

      </div>

<p>This function ensures that the results displayed by
<a href="#analyze/0"><code class="inline">analyze/0,1,2</code></a> are printed both to the file <code class="inline">File</code> and the
screen.</p>
  </section>
</section>
<section class="detail" id="profile/1">

  <div class="detail-header">
    <a href="#profile/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">profile/1</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/tools/doc//Users/wojtek/src/otp/lib/tools/src/eprof.erl#L152" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B,OTP R16B01)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> profile(Fun) -> {ok, Value} | {error, Reason}
           when Fun :: fun(() -> <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>()), Value :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>(), Reason :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>();
       (Rootset) -> profiling | {error, Reason} when Rootset :: [<a href="../../../../lib/../erts/doc/html/erlang.html#t:atom/0">atom</a>() | <a href="../../../../lib/../erts/doc/html/erlang.html#t:pid/0">pid</a>()], Reason :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Equivalent to <a href="#profile/6"><code class="inline">profile/6</code></a></p>
  </section>
</section>
<section class="detail" id="profile/2">

  <div class="detail-header">
    <a href="#profile/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">profile/2</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/tools/doc//Users/wojtek/src/otp/lib/tools/src/eprof.erl#L171" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B,OTP R16B01)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> profile(Fun, Options) -> {ok, Value} | {error, Reason}
           when
               Fun :: fun(() -> <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>()),
               Options :: [set_on_spawn | {set_on_spawn, <a href="../../../../lib/../erts/doc/html/erlang.html#t:boolean/0">boolean</a>()}],
               Value :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>(),
               Reason :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>();
       (Rootset, Fun) -> {ok, Value} | {error, Reason}
           when
               Rootset :: [<a href="../../../../lib/../erts/doc/html/erlang.html#t:atom/0">atom</a>() | <a href="../../../../lib/../erts/doc/html/erlang.html#t:pid/0">pid</a>()],
               Fun :: fun(() -> <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>()),
               Value :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>(),
               Reason :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Equivalent to <a href="#profile/6"><code class="inline">profile/6</code></a></p>
  </section>
</section>
<section class="detail" id="profile/3">

  <div class="detail-header">
    <a href="#profile/3" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">profile/3</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/tools/doc//Users/wojtek/src/otp/lib/tools/src/eprof.erl#L189" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B,OTP R16B01)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> profile(Rootset, Fun, Pattern) -> {ok, Value} | {error, Reason}
           when
               Rootset :: [<a href="../../../../lib/../erts/doc/html/erlang.html#t:atom/0">atom</a>() | <a href="../../../../lib/../erts/doc/html/erlang.html#t:pid/0">pid</a>()],
               Fun :: fun(() -> <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>()),
               Pattern :: <a href="#t:trace_pattern_mfa/0">trace_pattern_mfa</a>(),
               Value :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>(),
               Reason :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Equivalent to <a href="#profile/6"><code class="inline">profile/6</code></a></p>
  </section>
</section>
<section class="detail" id="profile/4">

  <div class="detail-header">
    <a href="#profile/4" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">profile/4</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/tools/doc//Users/wojtek/src/otp/lib/tools/src/eprof.erl#L211" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B,OTP R16B01)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> profile(Rootset, Module, Function, Args) -> {ok, Value} | {error, Reason}
           when
               Rootset :: [<a href="../../../../lib/../erts/doc/html/erlang.html#t:atom/0">atom</a>() | <a href="../../../../lib/../erts/doc/html/erlang.html#t:pid/0">pid</a>()],
               Module :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:module/0">module</a>(),
               Function :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:atom/0">atom</a>(),
               Args :: [<a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>()],
               Value :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>(),
               Reason :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>();
       (Rootset, Fun, Pattern, Options) -> {ok, Value} | {error, Reason}
           when
               Rootset :: [<a href="../../../../lib/../erts/doc/html/erlang.html#t:atom/0">atom</a>() | <a href="../../../../lib/../erts/doc/html/erlang.html#t:pid/0">pid</a>()],
               Fun :: fun(() -> <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>()),
               Pattern :: <a href="#t:trace_pattern_mfa/0">trace_pattern_mfa</a>(),
               Options :: [set_on_spawn | {set_on_spawn, <a href="../../../../lib/../erts/doc/html/erlang.html#t:boolean/0">boolean</a>()}],
               Value :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>(),
               Reason :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Equivalent to <a href="#profile/6"><code class="inline">profile/6</code></a></p>
  </section>
</section>
<section class="detail" id="profile/5">

  <div class="detail-header">
    <a href="#profile/5" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">profile/5</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/tools/doc//Users/wojtek/src/otp/lib/tools/src/eprof.erl#L229" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B,OTP R16B01)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> profile(Rootset, Module, Function, Args, Pattern) -> {ok, Value} | {error, Reason}
           when
               Rootset :: [<a href="../../../../lib/../erts/doc/html/erlang.html#t:atom/0">atom</a>() | <a href="../../../../lib/../erts/doc/html/erlang.html#t:pid/0">pid</a>()],
               Module :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:module/0">module</a>(),
               Function :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:atom/0">atom</a>(),
               Args :: [<a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>()],
               Pattern :: <a href="#t:trace_pattern_mfa/0">trace_pattern_mfa</a>(),
               Value :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>(),
               Reason :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Equivalent to <a href="#profile/6"><code class="inline">profile/6</code></a></p>
  </section>
</section>
<section class="detail" id="profile/6">

  <div class="detail-header">
    <a href="#profile/6" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">profile(Rootset, M, F, A, Pattern, Options)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/tools/doc//Users/wojtek/src/otp/lib/tools/src/eprof.erl#L264" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B,OTP R16B01)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> profile(Rootset, Module, Function, Args, Pattern, Options) -> {ok, Value} | {error, Reason}
           when
               Rootset :: [<a href="../../../../lib/../erts/doc/html/erlang.html#t:atom/0">atom</a>() | <a href="../../../../lib/../erts/doc/html/erlang.html#t:pid/0">pid</a>()],
               Module :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:module/0">module</a>(),
               Function :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:atom/0">atom</a>(),
               Args :: [<a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>()],
               Pattern :: <a href="#t:trace_pattern_mfa/0">trace_pattern_mfa</a>(),
               Options :: [set_on_spawn | {set_on_spawn, <a href="../../../../lib/../erts/doc/html/erlang.html#t:boolean/0">boolean</a>()}],
               Value :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>(),
               Reason :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>This function first spawns a process <code class="inline">P</code> which evaluates <code class="inline">Fun()</code> or
<code class="inline">apply(Module,Function,Args)</code>. Then, it starts profiling for <code class="inline">P</code> and the
processes in <code class="inline">Rootset</code> (and any new processes spawned from them). Information
about activity in any profiled process is stored in the Eprof database.</p><p><code class="inline">Rootset</code> is a list of pids and registered names.</p><p>If tracing could be enabled for <code class="inline">P</code> and all processes in <code class="inline">Rootset</code>, the function
returns <code class="inline">{ok,Value}</code> when <code class="inline">Fun()</code>/<code class="inline">apply</code> returns with the value <code class="inline">Value</code>, or
<code class="inline">{error,Reason}</code> if <code class="inline">Fun()</code>/<code class="inline">apply</code> fails with exit reason <code class="inline">Reason</code>. Otherwise
it returns <code class="inline">{error, Reason}</code> immediately.</p><p>The <code class="inline">set_on_spawn</code> option will active call time tracing for all processes
spawned by processes in the rootset. This is the default behaviour.</p><p>The programmer must ensure that the function given as argument is truly
synchronous and that no work continues after the function has returned a value.</p>
  </section>
</section>
<section class="detail" id="start/0">

  <div class="detail-header">
    <a href="#start/0" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">start()</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/tools/doc//Users/wojtek/src/otp/lib/tools/src/eprof.erl#L90" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> start() -> {ok, Pid} | {error, Reason} when Pid :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:pid/0">pid</a>(), Reason :: {already_started, Pid}.</pre>

      </div>

<p>Starts the Eprof server which holds the internal state of the collected data.</p>
  </section>
</section>
<section class="detail" id="start_profiling/1">

  <div class="detail-header">
    <a href="#start_profiling/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">start_profiling/1</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/tools/doc//Users/wojtek/src/otp/lib/tools/src/eprof.erl#L294" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B,OTP R16B01)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> start_profiling(Rootset) -> profiling | {error, Reason}
                   when Rootset :: [<a href="../../../../lib/../erts/doc/html/erlang.html#t:atom/0">atom</a>() | <a href="../../../../lib/../erts/doc/html/erlang.html#t:pid/0">pid</a>()], Reason :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Equivalent to <a href="#start_profiling/3"><code class="inline">start_profiling/3</code></a></p>
  </section>
</section>
<section class="detail" id="start_profiling/2">

  <div class="detail-header">
    <a href="#start_profiling/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">start_profiling/2</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/tools/doc//Users/wojtek/src/otp/lib/tools/src/eprof.erl#L304" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B,OTP R16B01)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> start_profiling(Rootset, Pattern) -> profiling | {error, Reason}
                   when
                       Rootset :: [<a href="../../../../lib/../erts/doc/html/erlang.html#t:atom/0">atom</a>() | <a href="../../../../lib/../erts/doc/html/erlang.html#t:pid/0">pid</a>()],
                       Pattern :: <a href="#t:trace_pattern_mfa/0">trace_pattern_mfa</a>(),
                       Reason :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Equivalent to <a href="#start_profiling/3"><code class="inline">start_profiling/3</code></a></p>
  </section>
</section>
<section class="detail" id="start_profiling/3">

  <div class="detail-header">
    <a href="#start_profiling/3" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">start_profiling(Rootset, Pattern, Options)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/tools/doc//Users/wojtek/src/otp/lib/tools/src/eprof.erl#L332" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R14B,OTP R16B01)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> start_profiling(Rootset, Pattern, Options) -> profiling | {error, Reason}
                   when
                       Rootset :: [<a href="../../../../lib/../erts/doc/html/erlang.html#t:atom/0">atom</a>() | <a href="../../../../lib/../erts/doc/html/erlang.html#t:pid/0">pid</a>()],
                       Pattern :: <a href="#t:trace_pattern_mfa/0">trace_pattern_mfa</a>(),
                       Options :: [set_on_spawn | {set_on_spawn, <a href="../../../../lib/../erts/doc/html/erlang.html#t:boolean/0">boolean</a>()}],
                       Reason :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Starts profiling for the processes in <code class="inline">Rootset</code> (and any new processes spawned
from them). Information about activity in any profiled process is stored in the
Eprof database.</p><p><code class="inline">Rootset</code> is a list of pids and registered names.</p><p>The function returns <code class="inline">profiling</code> if tracing could be enabled for all processes
in <code class="inline">Rootset</code>, or <code class="inline">error</code> otherwise.</p><p>A pattern can be selected to narrow the profiling. For instance a specific
module can be selected, and only the code executed in that module will be
profiled.</p><p>The <code class="inline">set_on_spawn</code> option will active call time tracing for all processes
spawned by processes in the rootset. This is the default behaviour.</p>
  </section>
</section>
<section class="detail" id="stop/0">

  <div class="detail-header">
    <a href="#stop/0" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">stop()</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/tools/doc//Users/wojtek/src/otp/lib/tools/src/eprof.erl#L95" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> stop() -> stopped.</pre>

      </div>

<p>Stops the Eprof server.</p>
  </section>
</section>
<section class="detail" id="stop_profiling/0">

  <div class="detail-header">
    <a href="#stop_profiling/0" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">stop_profiling()</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/tools/doc//Users/wojtek/src/otp/lib/tools/src/eprof.erl#L339" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> stop_profiling() -> profiling_stopped | profiling_already_stopped.</pre>

      </div>

<p>Stops profiling started with <a href="#start_profiling/1"><code class="inline">start_profiling/1</code></a> or <a href="#profile/1"><code class="inline">profile/1</code></a>.</p>
  </section>
</section>

    </div>
  </section>

      <footer class="footer">
        <p>

          <span class="line">
            <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
              Search HexDocs
            </button>

          </span>
        </p>

        <p class="built-using">
          Built using
          <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.30.9) for the

            <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

        </p>
      </footer>
    </div>
  </div>
</main>
</div>


  </body>
</html>
