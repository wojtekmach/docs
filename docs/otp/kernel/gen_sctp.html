<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.30.9">
    <meta name="project" content="kernel v9.1">


    <title>gen_sctp â€” kernel v9.1</title>
    <link rel="stylesheet" href="dist/html-erlang-QW5RMTQD.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-43PMFBC7.js"></script>
    <script src="dist/sidebar_items-C06BA59F.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/html-LRUIU55G.js"></script>

<style>.dark img { background-color: white; }</style>
  </head>
  <body data-type="modules" class="page-module">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="main">

<button class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="api-reference.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="kernel" />
        </a>

      <div>
        <a href="api-reference.html" class="sidebar-projectName" translate="no">
kernel
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v9.1
        </div>
      </div>
    </div>
    <ul id="sidebar-listNav" class="sidebar-listNav" role="tablist">
      <li>
        <button id="extras-list-tab-button" role="tab" data-type="extras" aria-controls="extras-tab-panel" aria-selected="true" tabindex="0">
Pages
        </button>
      </li>

        <li>
          <button id="modules-list-tab-button" role="tab" data-type="modules" aria-controls="modules-tab-panel" aria-selected="false" tabindex="-1">
            Modules
          </button>
        </li>


    </ul>
  </div>

  <div id="extras-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="extras-list-tab-button">
    <ul id="extras-full-list" class="full-list"></ul>
  </div>

    <div id="modules-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="modules-list-tab-button" hidden>
      <ul id="modules-full-list" class="full-list"></ul>
    </div>


</nav>

<main class="content">
  <output role="status" id="toast"></output>
  <div class="content-outer">
    <div id="content" class="content-inner">
      <div class="top-search">
        <div class="search-settings">
          <form class="search-bar" action="search.html">
            <label class="search-label">
              <span class="sr-only">Search documentation of kernel</span>
              <input name="q" type="text" class="search-input" placeholder="Search Documentation (press /)" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
            </label>
            <button type="submit" class="search-button" aria-label="Submit Search">
              <i class="ri-search-2-line ri-lg" aria-hidden="true" title="Submit search"></i>
            </button>
            <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
              <i class="ri-close-line ri-lg" title="Cancel search"></i>
            </button>
          </form>
          <button class="icon-settings display-settings">
            <i class="ri-settings-3-line"></i>
            <span class="sr-only">Settings</span>
          </button>
        </div>
      </div>
      <div class="autocomplete">
        <div class="autocomplete-results">
        </div>
      </div>

<h1>

    <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L21" title="View Source" class="icon-action" rel="help">
      <i class="ri-code-s-slash-line" aria-hidden="true"></i>
      <span class="sr-only">View Source</span>
    </a>

  <span translate="no">gen_sctp</span> 
  <small class="app-vsn" translate="no">(kernel v9.1)</small>

</h1>


  <section id="moduledoc">
<p>Functions for communicating with sockets using the SCTP protocol.</p><p>This module provides functions for communicating with sockets using the SCTP
protocol. The implementation assumes that the OS kernel supports SCTP
<a href="http://www.rfc-archive.org/getrfc.php?rfc=2960">(RFC 2960)</a> through the
user-level
<a href="http://tools.ietf.org/html/draft-ietf-tsvwg-sctpsocket-13">Sockets API Extensions</a>.</p><p>During development, this implementation was tested on:</p><ul><li>Linux Fedora Core 5.0 (kernel 2.6.15-2054 or later is needed)</li><li>Solaris 10, 11</li></ul><p>During OTP adaptation it was tested on:</p><ul><li>SUSE Linux Enterprise Server 10 (x86_64) kernel 2.6.16.27-0.6-smp, with
lksctp-tools-1.0.6</li><li>Briefly on Solaris 10</li><li>SUSE Linux Enterprise Server 10 Service Pack 1 (x86_64) kernel
2.6.16.54-0.2.3-smp with lksctp-tools-1.0.7</li><li>FreeBSD 8.2</li></ul><p>This module was written for one-to-many style sockets (type <code class="inline">seqpacket</code>). With
the addition of <a href="#peeloff/2"><code class="inline">peeloff/2</code></a>, one-to-one style sockets (type <code class="inline">stream</code>) were
introduced.</p><p>Record definitions for this module can be found using:</p><pre><code class="text">-include_lib(&quot;kernel/include/inet_sctp.hrl&quot;).</code></pre><p>These record definitions use the &quot;new&quot; spelling 'adaptation', not the deprecated
'adaption', regardless of which spelling the underlying C API uses.</p><p><a href="" id="options"></a></p><h2 id="module-sctp-socket-options" class="section-heading">
  <a href="#module-sctp-socket-options" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">SCTP Socket Options</span>
</h2>
<p>The set of admissible SCTP socket options is by construction orthogonal to the
sets of TCP, UDP, and generic <code class="inline">inet</code> options. Only options listed here are
allowed for SCTP sockets. Options can be set on the socket using
<a href="#open/1"><code class="inline">open/1,2</code></a> or <a href="inet.html#setopts/2"><code class="inline">inet:setopts/2</code></a>, retrieved using <a href="inet.html#getopts/2"><code class="inline">inet:getopts/2</code></a>.
Options can be changed when calling <a href="#connect/4"><code class="inline">connect/4,5</code></a>.</p><p><a href="" id="option-binary"></a> <a href="" id="option-list"></a></p><ul><li><p><strong><code class="inline">{mode, list|binary}</code> or just <code class="inline">list</code> or <code class="inline">binary</code></strong> - Determines the type of
data returned from <a href="#recv/1"><code class="inline">recv/1,2</code></a>.</p><p><a href="" id="option-active"></a></p></li><li><p><strong><code class="inline">{active, true|false|once|N}</code></strong> - * If <code class="inline">false</code> (passive mode, the default),
the caller must do an explicit <a href="#recv/1"><code class="inline">recv</code></a> call to retrieve the
available data from the socket.</p><ul><li><p>If <code class="inline">true|once|N</code> (active modes) received data or events are sent to the
owning process. See <a href="#open/0"><code class="inline">open/0..2</code></a> for the message format.</p></li><li><p>If <code class="inline">true</code> (full active mode) there is no flow control.</p><blockquote><h4 class="info">Note</h4><p>Note that this can cause the message queue to overflow causing for example
the virtual machine to run out of memory and crash.</p></blockquote></li><li><p>If <code class="inline">once</code>, only one message is automatically placed in the message queue,
and after that the mode is automatically reset to passive. This provides
flow control and the possibility for the receiver to listen for its incoming
SCTP data interleaved with other inter-process messages.</p></li><li><p>If <code class="inline">active</code> is specified as an integer <code class="inline">N</code> in the range -32768 to 32767
(inclusive), that number is added to the socket's counting of data messages
to be delivered to the controlling process. If the result of the addition is
negative, the count is set to <code class="inline">0</code>. Once the count reaches <code class="inline">0</code>, either
through the delivery of messages or by being explicitly set with
<a href="inet.html#setopts/2"><code class="inline">inet:setopts/2</code></a>, the socket mode is automatically reset to passive
(<code class="inline">{active, false}</code>). When a socket in this active mode transitions to
passive mode, the message <code class="inline">{sctp_passive, Socket}</code> is sent to the
controlling process to notify it that if it wants to receive more data
messages from the socket, it must call <a href="inet.html#setopts/2"><code class="inline">inet:setopts/2</code></a> to set the socket
back into an active mode.</p></li></ul></li><li><p><strong><code class="inline">{tos, integer()}</code></strong> - Sets the Type-Of-Service field on the IP datagrams
that are sent, to the specified value. This effectively determines a
prioritization policy for the outbound packets. The acceptable values are
system-dependent.</p></li><li><p><strong><code class="inline">{priority, integer()}</code></strong> - A protocol-independent equivalent of <code class="inline">tos</code>
above. Setting priority implies setting <code class="inline">tos</code> as well.</p></li><li><p><strong><code class="inline">{dontroute, true|false}</code></strong> - Defaults to <code class="inline">false</code>. If <code class="inline">true</code>, the kernel
does not send packets through any gateway, only sends them to directly
connected hosts.</p></li><li><p><strong><code class="inline">{reuseaddr, true|false}</code></strong> - Defaults to <code class="inline">false</code>. If true, the local
binding address <code class="inline">{IP,Port}</code> of the socket can be reused immediately. No
waiting in state <code class="inline">CLOSE_WAIT</code> is performed (can be required for
high-throughput servers).</p></li><li><p><strong><code class="inline">{sndbuf, integer()}</code></strong> - The size, in bytes, of the OS kernel send buffer
for this socket. Sending errors would occur for datagrams larger than
<code class="inline">val(sndbuf)</code>. Setting this option also adjusts the size of the driver buffer
(see <code class="inline">buffer</code> above).</p></li><li><p><strong><code class="inline">{recbuf, integer()}</code></strong> - The size, in bytes, of the OS kernel receive
buffer for this socket. Sending errors would occur for datagrams larger than
<code class="inline">val(recbuf)</code>. Setting this option also adjusts the size of the driver buffer
(see <code class="inline">buffer</code> above).</p></li><li><p><strong><code class="inline">{sctp_module, module()}</code></strong> - Overrides which callback module is used.
Defaults to <code class="inline">inet_sctp</code> for IPv4 and <code class="inline">inet6_sctp</code> for IPv6.</p></li><li><p><strong><code class="inline">{sctp_rtoinfo, #sctp_rtoinfo{}}</code></strong></p><pre><code class="text">#sctp_rtoinfo{
      assoc_id = assoc_id(),
      initial  = integer(),
      max      = integer(),
      min      = integer()
}</code></pre><p>Determines retransmission time-out parameters, in milliseconds, for the
association(s) specified by <code class="inline">assoc_id</code>.</p><p><code class="inline">assoc_id = 0</code> (default) indicates the whole endpoint. See
<a href="http://www.rfc-archive.org/getrfc.php?rfc=2960">RFC 2960</a> and
<a href="http://tools.ietf.org/html/draft-ietf-tsvwg-sctpsocket-13">Sockets API Extensions for SCTP</a>
for the exact semantics of the field values.</p></li><li><p><strong><code class="inline">{sctp_associnfo, #sctp_assocparams{}}</code></strong></p><pre><code class="text">#sctp_assocparams{
      assoc_id                 = assoc_id(),
      asocmaxrxt               = integer(),
      number_peer_destinations = integer(),
      peer_rwnd                = integer(),
      local_rwnd               = integer(),
      cookie_life              = integer()
}</code></pre><p>Determines association parameters for the association(s) specified by
<code class="inline">assoc_id</code>.</p><p><code class="inline">assoc_id = 0</code> (default) indicates the whole endpoint. See
<a href="http://tools.ietf.org/html/draft-ietf-tsvwg-sctpsocket-13">Sockets API Extensions for SCTP</a>
for the discussion of their semantics. Rarely used.</p></li><li><p><strong><code class="inline">{sctp_initmsg, #sctp_initmsg{}}</code></strong></p><pre><code class="text">#sctp_initmsg{
     num_ostreams   = integer(),
     max_instreams  = integer(),
     max_attempts   = integer(),
     max_init_timeo = integer()
}</code></pre><p>Determines the default parameters that this socket tries to negotiate with its
peer while establishing an association with it. Is to be set after
<a href="#open/1"><code class="inline">open/*</code></a> but before the first <a href="#connect/4"><code class="inline">connect/*</code></a>.
<code class="inline">#sctp_initmsg{}</code> can also be used as ancillary data with the first call of
<a href="#send/3"><code class="inline">send/*</code></a> to a new peer (when a new association is created).</p><ul><li><p><strong><code class="inline">num_ostreams</code></strong> - Number of outbound streams</p></li><li><p><strong><code class="inline">max_instreams</code></strong> - Maximum number of inbound streams</p></li><li><p><strong><code class="inline">max_attempts</code></strong> - Maximum retransmissions while establishing an
association</p></li><li><p><strong><code class="inline">max_init_timeo</code></strong> - Time-out, in milliseconds, for establishing an
association</p></li></ul></li><li><p><strong><code class="inline">{sctp_autoclose, integer() &gt;= 0}</code></strong> - Determines the time, in seconds,
after which an idle association is automatically closed. <code class="inline">0</code> means that the
association is never automatically closed.</p></li><li><p><strong><code class="inline">{sctp_nodelay, true|false}</code></strong> - Turns on|off the Nagle algorithm for
merging small packets into larger ones. This improves throughput at the
expense of latency.</p></li><li><p><strong><code class="inline">{sctp_disable_fragments, true|false}</code></strong> - If <code class="inline">true</code>, induces an error on an
attempt to send a message larger than the current PMTU size (which would
require fragmentation/reassembling). Notice that message fragmentation does
not affect the logical atomicity of its delivery; this option is provided for
performance reasons only.</p></li><li><p><strong><code class="inline">{sctp_i_want_mapped_v4_addr, true|false}</code></strong> - Turns on|off automatic
mapping of IPv4 addresses into IPv6 ones (if the socket address family is
<code class="inline">AF_INET6</code>).</p></li><li><p><strong><code class="inline">{sctp_maxseg, integer()}</code></strong> - Determines the maximum chunk size if message
fragmentation is used. If <code class="inline">0</code>, the chunk size is limited by the Path MTU only.</p></li><li><p><strong><code class="inline">{sctp_primary_addr, #sctp_prim{}}</code></strong></p><pre><code class="text">#sctp_prim{
      assoc_id = assoc_id(),
      addr     = {IP, Port}
}
 IP = ip_address()
 Port = port_number()</code></pre><p>For the association specified by <code class="inline">assoc_id</code>, <code class="inline">{IP,Port}</code> must be one of the
peer addresses. This option determines that the specified address is treated
by the local SCTP stack as the primary address of the peer.</p></li><li><p><strong><code class="inline">{sctp_set_peer_primary_addr, #sctp_setpeerprim{}}</code></strong></p><pre><code class="text">#sctp_setpeerprim{
      assoc_id = assoc_id(),
      addr     = {IP, Port}
}
 IP = ip_address()
 Port = port_number()</code></pre><p>When set, informs the peer to use <code class="inline">{IP, Port}</code> as the primary address of the
local endpoint for the association specified by <code class="inline">assoc_id</code>.</p><p><a href="" id="option-sctp_adaptation_layer"></a></p></li><li><p><strong><code class="inline">{sctp_adaptation_layer, #sctp_setadaptation{}}</code></strong></p><pre id="record-sctp_setadaptation"><code class="text">#sctp_setadaptation{
      adaptation_ind = integer()
}</code></pre><p>When set, requests that the local endpoint uses the value specified by
<code class="inline">adaptation_ind</code> as the Adaptation Indication parameter for establishing new
associations. For details, see
<a href="http://www.rfc-archive.org/getrfc.php?rfc=2960">RFC 2960</a> and
<a href="http://tools.ietf.org/html/draft-ietf-tsvwg-sctpsocket-13">Sockets API Extensions for SCTP</a>.</p></li><li><p><strong><code class="inline">{sctp_peer_addr_params, #sctp_paddrparams{}}</code></strong></p><pre><code class="text">#sctp_paddrparams{
      assoc_id   = assoc_id(),
      address    = {IP, Port},
      hbinterval = integer(),
      pathmaxrxt = integer(),
      pathmtu    = integer(),
      sackdelay  = integer(),
      flags      = list()
}
IP = ip_address()
Port = port_number()</code></pre><p>Determines various per-address parameters for the association specified by
<code class="inline">assoc_id</code> and the peer address <code class="inline">address</code> (the SCTP protocol supports
multi-homing, so more than one address can correspond to a specified
association).</p><ul><li><p><strong><code class="inline">hbinterval</code></strong> - Heartbeat interval, in milliseconds</p></li><li><p><strong><code class="inline">pathmaxrxt</code></strong> - Maximum number of retransmissions before this address is
considered unreachable (and an alternative address is selected)</p></li><li><p><strong><code class="inline">pathmtu</code></strong> - Fixed Path MTU, if automatic discovery is disabled (see
<code class="inline">flags</code> below)</p></li><li><p><strong><code class="inline">sackdelay</code></strong> - Delay, in milliseconds, for SAC messages (if the delay is
enabled, see <code class="inline">flags</code> below)</p></li><li><p><strong><code class="inline">flags</code></strong> - The following flags are available:</p><ul><li><p><strong><code class="inline">hb_enable</code></strong> - Enables heartbeat</p></li><li><p><strong><code class="inline">hb_disable</code></strong> - Disables heartbeat</p></li><li><p><strong><code class="inline">hb_demand</code></strong> - Initiates heartbeat immediately</p></li><li><p><strong><code class="inline">pmtud_enable</code></strong> - Enables automatic Path MTU discovery</p></li><li><p><strong><code class="inline">pmtud_disable</code></strong> - Disables automatic Path MTU discovery</p></li><li><p><strong><code class="inline">sackdelay_enable</code></strong> - Enables SAC delay</p></li><li><p><strong><code class="inline">sackdelay_disable</code></strong> - Disables SAC delay</p></li></ul></li></ul></li><li><p><strong><code class="inline">{sctp_default_send_param, #sctp_sndrcvinfo{}}</code></strong></p><pre id="record-sctp_sndrcvinfo"><code class="text">#sctp_sndrcvinfo{
      stream     = integer(),
      ssn        = integer(),
      flags      = list(),
      ppid       = integer(),
      context    = integer(),
      timetolive = integer(),
      tsn        = integer(),
      cumtsn     = integer(),
      assoc_id   = assoc_id()
}</code></pre><p><code class="inline">#sctp_sndrcvinfo{}</code> is used both in this socket option, and as ancillary data
while sending or receiving SCTP messages. When set as an option, it provides
default values for subsequent <a href="#send/3"><code class="inline">send</code></a> calls on the association
specified by <code class="inline">assoc_id</code>.</p><p><code class="inline">assoc_id = 0</code> (default) indicates the whole endpoint.</p><p>The following fields typically must be specified by the sender:</p><ul><li><p><strong><code class="inline">sinfo_stream</code></strong> - Stream number (0-base) within the association to send
the messages through;</p></li><li><p><strong><code class="inline">sinfo_flags</code></strong> - The following flags are recognised:</p><ul><li><p><strong><code class="inline">unordered</code></strong> - The message is to be sent unordered</p></li><li><p><strong><code class="inline">addr_over</code></strong> - The address specified in <a href="#send/3"><code class="inline">send</code></a> overwrites
the primary peer address</p></li><li><p><strong><code class="inline">abort</code></strong> - Aborts the current association without flushing any unsent
data</p></li><li><p><strong><code class="inline">eof</code></strong> - Gracefully shuts down the current association, with flushing
of unsent data</p></li></ul><p>Other fields are rarely used. For complete information, see
<a href="http://www.rfc-archive.org/getrfc.php?rfc=2960">RFC 2960</a> and
<a href="http://tools.ietf.org/html/draft-ietf-tsvwg-sctpsocket-13">Sockets API Extensions for SCTP</a>.</p></li></ul><p><a href="" id="option-sctp_events"></a></p></li><li><p><strong><code class="inline">{sctp_events, #sctp_event_subscribe{}}</code></strong></p><pre id="record-sctp_event_subscribe"><code class="text">#sctp_event_subscribe{
        data_io_event          = true | false,
        association_event      = true | false,
        address_event          = true | false,
        send_failure_event     = true | false,
        peer_error_event       = true | false,
        shutdown_event         = true | false,
        partial_delivery_event = true | false,
        adaptation_layer_event = true | false
}</code></pre><p>This option determines which <a href="gen_sctp.html#sctp_events">SCTP Events</a> are to be
received (through <a href="#recv/1"><code class="inline">recv/*</code></a>) along with the data. The only
exception is <code class="inline">data_io_event</code>, which enables or disables receiving of
<a href="gen_sctp.html#record-sctp_sndrcvinfo"><code class="inline">#sctp_sndrcvinfo{}</code></a> ancillary data,
not events. By default, all flags except <code class="inline">adaptation_layer_event</code> are enabled,
although <code class="inline">sctp_data_io_event</code> and <code class="inline">association_event</code> are used by the driver
itself and not exported to the user level.</p></li><li><p><strong><code class="inline">{sctp_delayed_ack_time, #sctp_assoc_value{}}</code></strong></p><pre><code class="text">#sctp_assoc_value{
      assoc_id    = assoc_id(),
      assoc_value = integer()
}</code></pre><p>Rarely used. Determines the ACK time (specified by <code class="inline">assoc_value</code>, in
milliseconds) for the specified association or the whole endpoint if
<code class="inline">assoc_value = 0</code> (default).</p></li><li><p><strong><code class="inline">{sctp_status, #sctp_status{}}</code></strong></p><pre><code class="text">#sctp_status{
      assoc_id            = assoc_id(),
      state               = atom(),
      rwnd                = integer(),
      unackdata           = integer(),
      penddata            = integer(),
      instrms             = integer(),
      outstrms            = integer(),
      fragmentation_point = integer(),
      primary             = #sctp_paddrinfo{}
}</code></pre><p>This option is read-only. It determines the status of the SCTP association
specified by <code class="inline">assoc_id</code>. The following are the possible values of <code class="inline">state</code> (the
state designations are mostly self-explanatory):</p><ul><li><p><strong><code class="inline">sctp_state_empty</code></strong> - Default. Means that no other state is active.</p></li><li><p><strong><code class="inline">sctp_state_closed</code></strong></p></li><li><p><strong><code class="inline">sctp_state_cookie_wait</code></strong></p></li><li><p><strong><code class="inline">sctp_state_cookie_echoed</code></strong></p></li><li><p><strong><code class="inline">sctp_state_established</code></strong></p></li><li><p><strong><code class="inline">sctp_state_shutdown_pending</code></strong></p></li><li><p><strong><code class="inline">sctp_state_shutdown_sent</code></strong></p></li><li><p><strong><code class="inline">sctp_state_shutdown_received</code></strong></p></li><li><p><strong><code class="inline">sctp_state_shutdown_ack_sent</code></strong></p></li></ul><p>Semantics of the other fields:</p><ul><li><p><strong><code class="inline">sstat_rwnd</code></strong> - Current receiver window size of the association</p></li><li><p><strong><code class="inline">sstat_unackdata</code></strong> - Number of unacked data chunks</p></li><li><p><strong><code class="inline">sstat_penddata</code></strong> - Number of data chunks pending receipt</p></li><li><p><strong><code class="inline">sstat_instrms</code></strong> - Number of inbound streams</p></li><li><p><strong><code class="inline">sstat_outstrms</code></strong> - Number of outbound streams</p></li><li><p><strong><code class="inline">sstat_fragmentation_point</code></strong> - Message size at which SCTP fragmentation
occurs</p></li><li><p><strong><code class="inline">sstat_primary</code></strong> - Information on the current primary peer address (see
below for the format of <code class="inline">#sctp_paddrinfo{}</code>)</p></li></ul><p><a href="" id="option-sctp_get_peer_addr_info"></a></p></li><li><p><strong><code class="inline">{sctp_get_peer_addr_info, #sctp_paddrinfo{}}</code></strong></p><pre id="record-sctp_paddrinfo"><code class="text">#sctp_paddrinfo{
      assoc_id  = assoc_id(),
      address   = {IP, Port},
      state     = inactive | active | unconfirmed,
      cwnd      = integer(),
      srtt      = integer(),
      rto       = integer(),
      mtu       = integer()
}
IP = ip_address()
Port = port_number()</code></pre><p>This option is read-only. It determines the parameters specific to the peer
address specified by <code class="inline">address</code> within the association specified by <code class="inline">assoc_id</code>.
Field <code class="inline">address</code> fmust be set by the caller; all other fields are filled in on
return. If <code class="inline">assoc_id = 0</code> (default), the <code class="inline">address</code> is automatically translated
into the corresponding association ID. This option is rarely used. For the
semantics of all fields, see
<a href="http://www.rfc-archive.org/getrfc.php?rfc=2960">RFC 2960</a> and
<a href="http://tools.ietf.org/html/draft-ietf-tsvwg-sctpsocket-13">Sockets API Extensions for SCTP</a>.</p></li></ul><p><a href="" id="examples"></a></p><h2 id="module-sctp-examples" class="section-heading">
  <a href="#module-sctp-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">SCTP Examples</span>
</h2>
<p>Example of an Erlang SCTP server that receives SCTP messages and prints them on
the standard output:</p><pre><code class="text">-module(sctp_server).

-export([server/0,server/1,server/2]).
-include_lib(&quot;kernel/include/inet.hrl&quot;).
-include_lib(&quot;kernel/include/inet_sctp.hrl&quot;).

server() -&gt;
    server(any, 2006).

server([Host,Port]) when is_list(Host), is_list(Port) -&gt;
    {ok, #hostent{h_addr_list = [IP|_]}} = inet:gethostbyname(Host),
    io:format(&quot;~w -&gt; ~w~n&quot;, [Host, IP]),
    server([IP, list_to_integer(Port)]).

server(IP, Port) when is_tuple(IP) orelse IP == any orelse IP == loopback,
                      is_integer(Port) -&gt;
    {ok,S} = gen_sctp:open(Port, [{recbuf,65536}, {ip,IP}]),
    io:format(&quot;Listening on ~w:~w. ~w~n&quot;, [IP,Port,S]),
    ok     = gen_sctp:listen(S, true),
    server_loop(S).

server_loop(S) -&gt;
    case gen_sctp:recv(S) of
    {error, Error} -&gt;
        io:format(&quot;SCTP RECV ERROR: ~p~n&quot;, [Error]);
    Data -&gt;
        io:format(&quot;Received: ~p~n&quot;, [Data])
    end,
    server_loop(S).</code></pre><p>Example of an Erlang SCTP client interacting with the above server. Notice that
in this example the client creates an association with the server with 5
outbound streams. Therefore, sending of <code class="inline">&quot;Test 0&quot;</code> over stream 0 succeeds, but
sending of <code class="inline">&quot;Test 5&quot;</code> over stream 5 fails. The client then <code class="inline">abort</code>s the
association, which results in that the corresponding event is received on the
server side.</p><pre><code class="text">-module(sctp_client).

-export([client/0, client/1, client/2]).
-include_lib(&quot;kernel/include/inet.hrl&quot;).
-include_lib(&quot;kernel/include/inet_sctp.hrl&quot;).

client() -&gt;
    client([localhost]).

client([Host]) -&gt;
    client(Host, 2006);

client([Host, Port]) when is_list(Host), is_list(Port) -&gt;
    client(Host,list_to_integer(Port)),
    init:stop().

client(Host, Port) when is_integer(Port) -&gt;
    {ok,S}     = gen_sctp:open(),
    {ok,Assoc} = gen_sctp:connect
        (S, Host, Port, [{sctp_initmsg,#sctp_initmsg{num_ostreams=5}}]),
    io:format(&quot;Connection Successful, Assoc=~p~n&quot;, [Assoc]),

    io:write(gen_sctp:send(S, Assoc, 0, &lt;&lt;&quot;Test 0&quot;&gt;&gt;)),
    io:nl(),
    timer:sleep(10000),
    io:write(gen_sctp:send(S, Assoc, 5, &lt;&lt;&quot;Test 5&quot;&gt;&gt;)),
    io:nl(),
    timer:sleep(10000),
    io:write(gen_sctp:abort(S, Assoc)),
    io:nl(),

    timer:sleep(1000),
    gen_sctp:close(S).</code></pre><p>A simple Erlang SCTP client that uses the <code class="inline">connect_init</code> API:</p><pre><code class="text">-module(ex3).

-export([client/4]).
-include_lib(&quot;kernel/include/inet.hrl&quot;).
-include_lib(&quot;kernel/include/inet_sctp.hrl&quot;).

client(Peer1, Port1, Peer2, Port2)
  when is_tuple(Peer1), is_integer(Port1), is_tuple(Peer2), is_integer(Port2) -&gt;
    {ok,S}     = gen_sctp:open(),
    SctpInitMsgOpt = {sctp_initmsg,#sctp_initmsg{num_ostreams=5}},
    ActiveOpt = {active, true},
    Opts = [SctpInitMsgOpt, ActiveOpt],
    ok = gen_sctp:connect(S, Peer1, Port1, Opts),
    ok = gen_sctp:connect(S, Peer2, Port2, Opts),
    io:format(&quot;Connections initiated~n&quot;, []),
    client_loop(S, Peer1, Port1, undefined, Peer2, Port2, undefined).

client_loop(S, Peer1, Port1, AssocId1, Peer2, Port2, AssocId2) -&gt;
    receive
        {sctp, S, Peer1, Port1, {_Anc, SAC}}
          when is_record(SAC, sctp_assoc_change), AssocId1 == undefined -&gt;
            io:format(&quot;Association 1 connect result: ~p. AssocId: ~p~n&quot;,
                      [SAC#sctp_assoc_change.state,
                       SAC#sctp_assoc_change.assoc_id]),
            client_loop(S, Peer1, Port1, SAC#sctp_assoc_change.assoc_id,
                        Peer2, Port2, AssocId2);

        {sctp, S, Peer2, Port2, {_Anc, SAC}}
          when is_record(SAC, sctp_assoc_change), AssocId2 == undefined -&gt;
            io:format(&quot;Association 2 connect result: ~p. AssocId: ~p~n&quot;,
                      [SAC#sctp_assoc_change.state, SAC#sctp_assoc_change.assoc_id]),
            client_loop(S, Peer1, Port1, AssocId1, Peer2, Port2,
                       SAC#sctp_assoc_change.assoc_id);

        {sctp, S, Peer1, Port1, Data} -&gt;
            io:format(&quot;Association 1: received ~p~n&quot;, [Data]),
            client_loop(S, Peer1, Port1, AssocId1,
                        Peer2, Port2, AssocId2);

        {sctp, S, Peer2, Port2, Data} -&gt;
            io:format(&quot;Association 2: received ~p~n&quot;, [Data]),
            client_loop(S, Peer1, Port1, AssocId1,
                        Peer2, Port2, AssocId2);

        Other -&gt;
            io:format(&quot;Other ~p~n&quot;, [Other]),
            client_loop(S, Peer1, Port1, AssocId1,
                        Peer2, Port2, AssocId2)

    after 5000 -&gt;
            ok
    end.</code></pre><p><a href="" id="seealso"></a></p><h2 id="module-see-also" class="section-heading">
  <a href="#module-see-also" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">See Also</span>
</h2>
<p><a href="gen_tcp.html"><code class="inline">gen_tcp</code></a>, <a href="gen_udp.html"><code class="inline">gen_udp</code></a>, <a href="inet.html"><code class="inline">inet</code></a>,
<a href="http://www.rfc-archive.org/getrfc.php?rfc=2960">RFC 2960</a> (Stream Control
Transmission Protocol),
<a href="http://tools.ietf.org/html/draft-ietf-tsvwg-sctpsocket-13">Sockets API Extensions for SCTP</a></p>
  </section>


  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-types-exported-data-types summary">
  <h2>
    <a href="#types-exported-data-types">Types: Exported data types</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:assoc_id/0" translate="no">assoc_id()</a>

      </div>

        <div class="summary-synopsis"><p>An opaque term returned in, for example, <code class="inline">#sctp_paddr_change{}</code>, which
identifies an association for an SCTP socket. The term is opaque except for the
special value <code class="inline">0</code>, which has a meaning such as &quot;the whole endpoint&quot; or &quot;all
future associations&quot;.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:option/0" translate="no">option()</a>

      </div>

        <div class="summary-synopsis"><p>One of the <a href="gen_sctp.html#options">SCTP Socket Options</a> used to set an option.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:option_name/0" translate="no">option_name()</a>

      </div>

        <div class="summary-synopsis"><p>An option name or one of the <a href="gen_sctp.html#options">SCTP Socket Options</a> used to
get an option.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:option_value/0" translate="no">option_value()</a>

      </div>

        <div class="summary-synopsis"><p>One of the <a href="gen_sctp.html#options">SCTP Socket Options</a> as returned when getting
an option.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:sctp_socket/0" translate="no">sctp_socket()</a>

      </div>

        <div class="summary-synopsis"><p>Socket identifier returned from <a href="#open/0"><code class="inline">open/*</code></a>.</p></div>

    </div>

</div>
<div class="summary-types-internal-data-types summary">
  <h2>
    <a href="#types-internal-data-types">Types: Internal data types</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:elementary_option/0" translate="no">elementary_option()</a>

      </div>

        <div class="summary-synopsis"></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:elementary_option_name/0" translate="no">elementary_option_name()</a>

      </div>

        <div class="summary-synopsis"></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:record_option/0" translate="no">record_option()</a>

      </div>

        <div class="summary-synopsis"></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:ro_option/0" translate="no">ro_option()</a>

      </div>

        <div class="summary-synopsis"></div>

    </div>

</div>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#abort/2" translate="no">abort/2</a>

      </div>

        <div class="summary-synopsis"><p>Abnormally terminates the association specified by <code class="inline">Assoc</code>, without flushing of
unsent data. The socket itself remains open. Other associations opened on this
socket are still valid, and the socket can be used in new associations.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#close/1" translate="no">close(S)</a>

      </div>

        <div class="summary-synopsis"><p>Closes the socket and all associations on it. The unsent data is flushed as in
<a href="#eof/2"><code class="inline">eof/2</code></a>. The <a href="#close/1"><code class="inline">close/1</code></a> call is blocking or otherwise depending of the value of
the <a href="inet.html#option-linger"><code class="inline">linger</code></a> socket <a href="gen_sctp.html#options">option</a>. If
<code class="inline">close</code> does not linger or linger time-out expires, the call returns and the
data is flushed in the background.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#connect/3" translate="no">connect(S, SockAddr, Opts)</a>

      </div>

        <div class="summary-synopsis"><p><a href="" id="connect-sockaddr3"></a> Same as
<code class="inline">connect(Socket, SockAddr, Opts, infinity)</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#connect/4" translate="no">connect(S, SockAddr, Opts, Timeout)</a>

      </div>

        <div class="summary-synopsis"><p><a href="" id="connect-sockaddr4"></a> This is conceptually the same as
<a href="gen_sctp.html#connect-addr-port5"><code class="inline">connect/5</code></a>, only with the difference that we
use a socket address, <a href="socket.html#t:sockaddr_in/0"><code class="inline">socket:sockaddr_in()</code></a> or
<a href="socket.html#t:sockaddr_in6/0"><code class="inline">socket:sockaddr_in6()</code></a> instead of an address
(inet:ip_address() or inet:hostname()) and port-number.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#connect/5" translate="no">connect(S, Addr, Port, Opts, Timeout)</a>

      </div>

        <div class="summary-synopsis"><p><a href="" id="connect-addr-port5"></a> Establishes a new association for socket
<code class="inline">Socket</code>, with the peer (SCTP server socket) specified by <code class="inline">Addr</code> and <code class="inline">Port</code>.
<code class="inline">Timeout</code>, is expressed in milliseconds. A socket can be associated with
multiple peers.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#connect_init/3" translate="no">connect_init(S, SockAddr, Opts)</a>

      </div>

        <div class="summary-synopsis"><p><a href="" id="connect_init-sockaddr3"></a> Same as
<code class="inline">connect_init(Socket, SockAddr, Opts, infinity)</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#connect_init/4" translate="no">connect_init(S, SockAddr, Opts, Timeout)</a>

      </div>

        <div class="summary-synopsis"><p><a href="" id="connect_init-sockaddr4"></a> This is conceptually the same as
<a href="gen_sctp.html#connect_init-addr-port5"><code class="inline">connect_init/5</code></a>, only with the
difference that we use a socket address,
<a href="socket.html#t:sockaddr_in/0"><code class="inline">socket:sockaddr_in()</code></a> or
<a href="socket.html#t:sockaddr_in6/0"><code class="inline">socket:sockaddr_in6()</code></a> instead of an address
(inet:ip_address() or inet:hostname()) and port-number.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#connect_init/5" translate="no">connect_init(S, Addr, Port, Opts, Timeout)</a>

      </div>

        <div class="summary-synopsis"><p><a href="" id="connect_init-addr-port5"></a> Initiates a new association for socket
<code class="inline">Socket</code>, with the peer (SCTP server socket) specified by <code class="inline">Addr</code> and <code class="inline">Port</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#connectx_init/3" translate="no">connectx_init(S, SockAddrs, Opts)</a>

      </div>

        <div class="summary-synopsis"><p>Similar to <a href="#connectx_init/5"><code class="inline">connectx_init/5</code></a> except using socket addresses, and not having a
<code class="inline">Timeout</code>. Since the addresses do not need lookup and the connect is
non-blocking this call returns immediately.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#connectx_init/4" translate="no">connectx_init(S, Addrs, Port, Opts)</a>

      </div>

        <div class="summary-synopsis"><p>Same as <code class="inline">connectx_init(Socket, Addrs, Port, Opts, infinity)</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#connectx_init/5" translate="no">connectx_init(S, Addrs, Port, Opts, Timeout)</a>

      </div>

        <div class="summary-synopsis"><p>Initiates a new association for socket <code class="inline">Socket</code>, with the peer (SCTP server
socket) specified by <code class="inline">Addrs</code> and <code class="inline">Port</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#controlling_process/2" translate="no">controlling_process(S, Pid)</a>

      </div>

        <div class="summary-synopsis"><p>Assigns a new controlling process <code class="inline">Pid</code> to <code class="inline">Socket</code>. Same implementation as
<a href="gen_udp.html#controlling_process/2"><code class="inline">gen_udp:controlling_process/2</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#eof/2" translate="no">eof/2</a>

      </div>

        <div class="summary-synopsis"><p>Gracefully terminates the association specified by <code class="inline">Assoc</code>, with flushing of all
unsent data. The socket itself remains open. Other associations opened on this
socket are still valid. The socket can be used in new associations.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#error_string/1" translate="no">error_string/1</a>

      </div>

        <div class="summary-synopsis"><p>Translates an SCTP error number from, for example, <code class="inline">#sctp_remote_error{}</code> or
<code class="inline">#sctp_send_failed{}</code> into an explanatory string, or one of the atoms <code class="inline">ok</code> for
no error or <code class="inline">undefined</code> for an unrecognized error.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#listen/2" translate="no">listen(S, Backlog)</a>

      </div>

        <div class="summary-synopsis"><p>Sets up a socket to listen on the IP address and port number it is bound to.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#open/0" translate="no">open/0</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a href="#open/2"><code class="inline">open/2</code></a></p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#open/1" translate="no">open/1</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a href="#open/2"><code class="inline">open/2</code></a></p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#open/2" translate="no">open(Port, Opts)</a>

      </div>

        <div class="summary-synopsis"><p>Creates an SCTP socket and binds it to the local addresses specified by all
<code class="inline">{ip,IP}</code> (or synonymously <code class="inline">{ifaddr,IP}</code>) options (this feature is called SCTP
multi-homing). The default <code class="inline">IP</code> and <code class="inline">Port</code> are <code class="inline">any</code> and <code class="inline">0</code>, meaning bind to
all local addresses on any free port.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#peeloff/2" translate="no">peeloff/2</a>

      </div>

        <div class="summary-synopsis"><p>Branches off an existing association <code class="inline">Assoc</code> in a socket <code class="inline">Socket</code> of type
<code class="inline">seqpacket</code> (one-to-many style) into a new socket <code class="inline">NewSocket</code> of type <code class="inline">stream</code>
(one-to-one style).</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#recv/1" translate="no">recv/1</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a href="#recv/2"><code class="inline">recv/2</code></a></p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#recv/2" translate="no">recv(S, Timeout)</a>

      </div>

        <div class="summary-synopsis"><p>Receives the <code class="inline">Data</code> message from any association of the socket. If the receive
times out, <code class="inline">{error,timeout}</code> is returned. The default time-out is <code class="inline">infinity</code>.
<code class="inline">FromIP</code> and <code class="inline">FromPort</code> indicate the address of the sender.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#send/3" translate="no">send/3</a>

      </div>

        <div class="summary-synopsis"><p>Sends the <code class="inline">Data</code> message with all sending parameters from a
<a href="gen_sctp.html#record-sctp_sndrcvinfo"><code class="inline">#sctp_sndrcvinfo{}</code></a> record. This way,
the user can specify the PPID (passed to the remote end) and context (passed to
the local SCTP layer), which can be used, for example, for error identification.
However, such a fine level of user control is rarely required. The function
<a href="#send/4"><code class="inline">send/4</code></a> is sufficient for most applications.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#send/4" translate="no">send/4</a>

      </div>

        <div class="summary-synopsis"><p>Sends a <code class="inline">Data</code> message over an existing association and specified stream.</p></div>

    </div>

</div>

  </section>


  <section id="types-exported-data-types" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types-exported-data-types">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types: Exported data types</span>
    </h1>
    <div class="types-exported-data-types-list">
<section class="detail" id="t:assoc_id/0">

  <div class="detail-header">
    <a href="#t:assoc_id/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">assoc_id()</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L664" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> assoc_id() :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>An opaque term returned in, for example, <code class="inline">#sctp_paddr_change{}</code>, which
identifies an association for an SCTP socket. The term is opaque except for the
special value <code class="inline">0</code>, which has a meaning such as &quot;the whole endpoint&quot; or &quot;all
future associations&quot;.</p>
  </section>
</section>
<section class="detail" id="t:option/0">

  <div class="detail-header">
    <a href="#t:option/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">option()</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L668" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> option() :: <a href="#t:elementary_option/0">elementary_option</a>() | <a href="#t:record_option/0">record_option</a>().</pre>

      </div>

<p>One of the <a href="gen_sctp.html#options">SCTP Socket Options</a> used to set an option.</p>
  </section>
</section>
<section class="detail" id="t:option_name/0">

  <div class="detail-header">
    <a href="#t:option_name/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">option_name()</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L677" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> option_name() :: <a href="#t:elementary_option_name/0">elementary_option_name</a>() | <a href="#t:record_option/0">record_option</a>() | <a href="#t:ro_option/0">ro_option</a>().</pre>

      </div>

<p>An option name or one of the <a href="gen_sctp.html#options">SCTP Socket Options</a> used to
get an option.</p>
  </section>
</section>
<section class="detail" id="t:option_value/0">

  <div class="detail-header">
    <a href="#t:option_value/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">option_value()</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L687" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> option_value() :: <a href="#t:elementary_option/0">elementary_option</a>() | <a href="#t:record_option/0">record_option</a>() | <a href="#t:ro_option/0">ro_option</a>().</pre>

      </div>

<p>One of the <a href="gen_sctp.html#options">SCTP Socket Options</a> as returned when getting
an option.</p>
  </section>
</section>
<section class="detail" id="t:sctp_socket/0">

  <div class="detail-header">
    <a href="#t:sctp_socket/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">sctp_socket()</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L780" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> sctp_socket() :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:port/0">port</a>().</pre>

      </div>

<p>Socket identifier returned from <a href="#open/0"><code class="inline">open/*</code></a>.</p><p><a href="" id="exports"></a></p>
  </section>
</section>

    </div>
  </section>

  <section id="types-internal-data-types" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types-internal-data-types">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types: Internal data types</span>
    </h1>
    <div class="types-internal-data-types-list">
<section class="detail" id="t:elementary_option/0">

  <div class="detail-header">
    <a href="#t:elementary_option/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">elementary_option()</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L694" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> elementary_option() ::
    {active, true | false | once | -32768..32767} |
    {buffer, <a href="../../../../lib/../erts/doc/html/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()} |
    {debug, <a href="../../../../lib/../erts/doc/html/erlang.html#t:boolean/0">boolean</a>()} |
    {dontroute, <a href="../../../../lib/../erts/doc/html/erlang.html#t:boolean/0">boolean</a>()} |
    {exclusiveaddruse, <a href="../../../../lib/../erts/doc/html/erlang.html#t:boolean/0">boolean</a>()} |
    {high_msgq_watermark, <a href="../../../../lib/../erts/doc/html/erlang.html#t:pos_integer/0">pos_integer</a>()} |
    {linger, {<a href="../../../../lib/../erts/doc/html/erlang.html#t:boolean/0">boolean</a>(), <a href="../../../../lib/../erts/doc/html/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()}} |
    {low_msgq_watermark, <a href="../../../../lib/../erts/doc/html/erlang.html#t:pos_integer/0">pos_integer</a>()} |
    {mode, list | binary} |
    list | binary |
    {priority, <a href="../../../../lib/../erts/doc/html/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()} |
    {recbuf, <a href="../../../../lib/../erts/doc/html/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()} |
    {reuseaddr, <a href="../../../../lib/../erts/doc/html/erlang.html#t:boolean/0">boolean</a>()} |
    {reuseport, <a href="../../../../lib/../erts/doc/html/erlang.html#t:boolean/0">boolean</a>()} |
    {reuseport_lb, <a href="../../../../lib/../erts/doc/html/erlang.html#t:boolean/0">boolean</a>()} |
    {ipv6_v6only, <a href="../../../../lib/../erts/doc/html/erlang.html#t:boolean/0">boolean</a>()} |
    {sndbuf, <a href="../../../../lib/../erts/doc/html/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()} |
    {sctp_autoclose, <a href="../../../../lib/../erts/doc/html/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()} |
    {sctp_disable_fragments, <a href="../../../../lib/../erts/doc/html/erlang.html#t:boolean/0">boolean</a>()} |
    {sctp_i_want_mapped_v4_addr, <a href="../../../../lib/../erts/doc/html/erlang.html#t:boolean/0">boolean</a>()} |
    {sctp_maxseg, <a href="../../../../lib/../erts/doc/html/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()} |
    {sctp_nodelay, <a href="../../../../lib/../erts/doc/html/erlang.html#t:boolean/0">boolean</a>()} |
    {tos, <a href="../../../../lib/../erts/doc/html/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()} |
    {tclass, <a href="../../../../lib/../erts/doc/html/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()} |
    {ttl, <a href="../../../../lib/../erts/doc/html/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()} |
    {recvtos, <a href="../../../../lib/../erts/doc/html/erlang.html#t:boolean/0">boolean</a>()} |
    {recvtclass, <a href="../../../../lib/../erts/doc/html/erlang.html#t:boolean/0">boolean</a>()} |
    {recvttl, <a href="../../../../lib/../erts/doc/html/erlang.html#t:boolean/0">boolean</a>()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:elementary_option_name/0">

  <div class="detail-header">
    <a href="#t:elementary_option_name/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">elementary_option_name()</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L725" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> elementary_option_name() ::
    active | buffer | debug | dontroute | exclusiveaddruse | high_msgq_watermark | linger |
    low_msgq_watermark | mode | priority | recbuf | reuseaddr | reuseport | reuseport_lb |
    ipv6_v6only | sctp_autoclose | sctp_disable_fragments | sctp_i_want_mapped_v4_addr |
    sctp_maxseg | sctp_nodelay | sndbuf | tos | tclass | ttl | recvtos | recvtclass | recvttl.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:record_option/0">

  <div class="detail-header">
    <a href="#t:record_option/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">record_option()</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L756" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> record_option() ::
    {sctp_adaptation_layer, #sctp_setadaptation{}} |
    {sctp_associnfo, #sctp_assocparams{}} |
    {sctp_default_send_param, #sctp_sndrcvinfo{}} |
    {sctp_delayed_ack_time, #sctp_assoc_value{}} |
    {sctp_events, #sctp_event_subscribe{}} |
    {sctp_initmsg, #sctp_initmsg{}} |
    {sctp_peer_addr_params, #sctp_paddrparams{}} |
    {sctp_primary_addr, #sctp_prim{}} |
    {sctp_rtoinfo, #sctp_rtoinfo{}} |
    {sctp_set_peer_primary_addr, #sctp_setpeerprim{}}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:ro_option/0">

  <div class="detail-header">
    <a href="#t:ro_option/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">ro_option()</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L770" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> ro_option() :: {sctp_get_peer_addr_info, #sctp_paddrinfo{}} | {sctp_status, #sctp_status{}}.</pre>

      </div>


  </section>
</section>

    </div>
  </section>

  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>
    <div class="functions-list">
<section class="detail" id="abort/2">

  <div class="detail-header">
    <a href="#abort/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">abort/2</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L1480" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> abort(Socket, Assoc) -> ok | {error, <a href="inet.html#t:posix/0">inet:posix</a>()}
         when Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(), Assoc :: #sctp_assoc_change{}.</pre>

      </div>

<p>Abnormally terminates the association specified by <code class="inline">Assoc</code>, without flushing of
unsent data. The socket itself remains open. Other associations opened on this
socket are still valid, and the socket can be used in new associations.</p>
  </section>
</section>
<section class="detail" id="close/1">

  <div class="detail-header">
    <a href="#close/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">close(S)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L898" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> close(Socket) -> ok | {error, <a href="inet.html#t:posix/0">inet:posix</a>()} when Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>().</pre>

      </div>

<p>Closes the socket and all associations on it. The unsent data is flushed as in
<a href="#eof/2"><code class="inline">eof/2</code></a>. The <a href="#close/1"><code class="inline">close/1</code></a> call is blocking or otherwise depending of the value of
the <a href="inet.html#option-linger"><code class="inline">linger</code></a> socket <a href="gen_sctp.html#options">option</a>. If
<code class="inline">close</code> does not linger or linger time-out expires, the call returns and the
data is flushed in the background.</p>
  </section>
</section>
<section class="detail" id="connect/3">

  <div class="detail-header">
    <a href="#connect/3" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">connect(S, SockAddr, Opts)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L982" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP 24.3)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> connect(Socket, SockAddr, Opts) ->
           {ok, #sctp_assoc_change{state :: comm_up}} |
           {error, #sctp_assoc_change{state :: cant_assoc}} |
           {error, <a href="inet.html#t:posix/0">inet:posix</a>()}
           when
               Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
               SockAddr :: <a href="socket.html#t:sockaddr_in/0">socket:sockaddr_in</a>() | <a href="socket.html#t:sockaddr_in6/0">socket:sockaddr_in6</a>(),
               Opts :: [Opt :: <a href="#t:option/0">option</a>()].</pre>

      </div>

<p><a href="" id="connect-sockaddr3"></a> Same as
<code class="inline">connect(Socket, SockAddr, Opts, infinity)</code>.</p>
  </section>
</section>
<section class="detail" id="connect/4">

  <div class="detail-header">
    <a href="#connect/4" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">connect(S, SockAddr, Opts, Timeout)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L1015" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP 24.3)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> connect(Socket, SockAddr, Opts, Timeout) ->
           {ok, #sctp_assoc_change{state :: comm_up}} |
           {error, #sctp_assoc_change{state :: cant_assoc}} |
           {error, <a href="inet.html#t:posix/0">inet:posix</a>()}
           when
               Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
               SockAddr :: <a href="socket.html#t:sockaddr_in/0">socket:sockaddr_in</a>() | <a href="socket.html#t:sockaddr_in6/0">socket:sockaddr_in6</a>(),
               Opts :: [Opt :: <a href="#t:option/0">option</a>()],
               Timeout :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:timeout/0">timeout</a>();
       (Socket, Addr, Port, Opts) ->
           {ok, #sctp_assoc_change{state :: comm_up}} |
           {error, #sctp_assoc_change{state :: cant_assoc}} |
           {error, <a href="inet.html#t:posix/0">inet:posix</a>()}
           when
               Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
               Addr :: <a href="inet.html#t:ip_address/0">inet:ip_address</a>() | <a href="inet.html#t:hostname/0">inet:hostname</a>(),
               Port :: <a href="inet.html#t:port_number/0">inet:port_number</a>(),
               Opts :: [Opt :: <a href="#t:option/0">option</a>()].</pre>

      </div>

<p><a href="" id="connect-sockaddr4"></a> This is conceptually the same as
<a href="gen_sctp.html#connect-addr-port5"><code class="inline">connect/5</code></a>, only with the difference that we
use a socket address, <a href="socket.html#t:sockaddr_in/0"><code class="inline">socket:sockaddr_in()</code></a> or
<a href="socket.html#t:sockaddr_in6/0"><code class="inline">socket:sockaddr_in6()</code></a> instead of an address
(inet:ip_address() or inet:hostname()) and port-number.</p><p><a href="" id="connect-addr-port4"></a> Same as
<code class="inline">connect(Socket, Addr, Port, Opts, infinity)</code>.</p>
  </section>
</section>
<section class="detail" id="connect/5">

  <div class="detail-header">
    <a href="#connect/5" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">connect(S, Addr, Port, Opts, Timeout)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L1108" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> connect(Socket, Addr, Port, Opts, Timeout) ->
           {ok, #sctp_assoc_change{state :: comm_up}} |
           {error, #sctp_assoc_change{state :: cant_assoc}} |
           {error, <a href="inet.html#t:posix/0">inet:posix</a>()}
           when
               Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
               Addr :: <a href="inet.html#t:ip_address/0">inet:ip_address</a>() | <a href="inet.html#t:hostname/0">inet:hostname</a>(),
               Port :: <a href="inet.html#t:port_number/0">inet:port_number</a>(),
               Opts :: [Opt :: <a href="#t:option/0">option</a>()],
               Timeout :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:timeout/0">timeout</a>().</pre>

      </div>

<p><a href="" id="connect-addr-port5"></a> Establishes a new association for socket
<code class="inline">Socket</code>, with the peer (SCTP server socket) specified by <code class="inline">Addr</code> and <code class="inline">Port</code>.
<code class="inline">Timeout</code>, is expressed in milliseconds. A socket can be associated with
multiple peers.</p><blockquote><h4 class="warning">Warning</h4><p>Using a value of <code class="inline">Timeout</code> less than the maximum time taken by the OS to
establish an association (around 4.5 minutes if the default values from
<a href="https://tools.ietf.org/html/rfc4960">RFC 4960</a> are used), can result in
inconsistent or incorrect return values. This is especially relevant for
associations sharing the same <code class="inline">Socket</code> (that is, source address and port), as
the controlling process blocks until <code class="inline">connect/*</code> returns.
<a href="#connect_init/4"><code class="inline">connect_init/*</code></a> provides an alternative without this
limitation.</p></blockquote><p><a href="" id="record-sctp_assoc_change"></a> The result of <code class="inline">connect/*</code> is an
<code class="inline">#sctp_assoc_change{}</code> event that contains, in particular, the new
<a href="#t:assoc_id/0">Association ID</a>:</p><pre><code class="text">#sctp_assoc_change{
      state             = atom(),
      error             = integer(),
      outbound_streams  = integer(),
      inbound_streams   = integer(),
      assoc_id          = assoc_id()
}</code></pre><p>The number of outbound and inbound streams can be set by giving an
<code class="inline">sctp_initmsg</code> option to <code class="inline">connect</code> as in:</p><pre><code class="text">connect(Socket, Ip, Port&gt;,
      [{sctp_initmsg,#sctp_initmsg{num_ostreams=OutStreams,
                                   max_instreams=MaxInStreams}}])</code></pre><p>All options <code class="inline">Opt</code> are set on the socket before the association is attempted. If
an option record has undefined field values, the options record is first read
from the socket for those values. In effect, <code class="inline">Opt</code> option records only define
field values to change before connecting.</p><p>The returned <code class="inline">outbound_streams</code> and <code class="inline">inbound_streams</code> are the stream numbers on
the socket. These can be different from the requested values (<code class="inline">OutStreams</code> and
<code class="inline">MaxInStreams</code>, respectively) if the peer requires lower values.</p><p><code class="inline">state</code> can have the following values:</p><ul><li><p><strong><code class="inline">comm_up</code></strong> - Association is successfully established. This indicates a
successful completion of <code class="inline">connect</code>.</p></li><li><p><strong><code class="inline">cant_assoc</code></strong> - The association cannot be established (<code class="inline">connect/*</code>
failure).</p></li></ul><p>Other states do not normally occur in the output from <code class="inline">connect/*</code>. Rather, they
can occur in <code class="inline">#sctp_assoc_change{}</code> events received instead of data in
<a href="#recv/1"><code class="inline">recv/*</code></a> calls. All of them indicate losing the association because
of various error conditions, and are listed here for the sake of completeness:</p><ul><li><p><strong><code class="inline">comm_lost</code></strong></p></li><li><p><strong><code class="inline">restart</code></strong></p></li><li><p><strong><code class="inline">shutdown_comp</code></strong></p></li></ul><p>Field <code class="inline">error</code> can provide more detailed diagnostics. The <code class="inline">error</code> field value can
be converted into a string using <a href="#error_string/1"><code class="inline">error_string/1</code></a>.</p>
  </section>
</section>
<section class="detail" id="connect_init/3">

  <div class="detail-header">
    <a href="#connect_init/3" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">connect_init(S, SockAddr, Opts)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L1127" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP 24.3)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> connect_init(Socket, SockAddr, Opts) -> ok | {error, <a href="inet.html#t:posix/0">inet:posix</a>()}
                when
                    Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
                    SockAddr :: <a href="socket.html#t:sockaddr_in/0">socket:sockaddr_in</a>() | <a href="socket.html#t:sockaddr_in6/0">socket:sockaddr_in6</a>(),
                    Opts :: [<a href="#t:option/0">option</a>()].</pre>

      </div>

<p><a href="" id="connect_init-sockaddr3"></a> Same as
<code class="inline">connect_init(Socket, SockAddr, Opts, infinity)</code>.</p>
  </section>
</section>
<section class="detail" id="connect_init/4">

  <div class="detail-header">
    <a href="#connect_init/4" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">connect_init(S, SockAddr, Opts, Timeout)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L1155" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP 24.3, OTP R13B04)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> connect_init(Socket, SockAddr, Opts, Timeout) -> ok | {error, <a href="inet.html#t:posix/0">inet:posix</a>()}
                when
                    Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
                    SockAddr :: <a href="socket.html#t:sockaddr_in/0">socket:sockaddr_in</a>() | <a href="socket.html#t:sockaddr_in6/0">socket:sockaddr_in6</a>(),
                    Opts :: [<a href="#t:option/0">option</a>()],
                    Timeout :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:timeout/0">timeout</a>();
            (Socket, Addr, Port, Opts) -> ok | {error, <a href="inet.html#t:posix/0">inet:posix</a>()}
                when
                    Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
                    Addr :: <a href="inet.html#t:ip_address/0">inet:ip_address</a>() | <a href="inet.html#t:hostname/0">inet:hostname</a>(),
                    Port :: <a href="inet.html#t:port_number/0">inet:port_number</a>(),
                    Opts :: [<a href="#t:option/0">option</a>()].</pre>

      </div>

<p><a href="" id="connect_init-sockaddr4"></a> This is conceptually the same as
<a href="gen_sctp.html#connect_init-addr-port5"><code class="inline">connect_init/5</code></a>, only with the
difference that we use a socket address,
<a href="socket.html#t:sockaddr_in/0"><code class="inline">socket:sockaddr_in()</code></a> or
<a href="socket.html#t:sockaddr_in6/0"><code class="inline">socket:sockaddr_in6()</code></a> instead of an address
(inet:ip_address() or inet:hostname()) and port-number.</p><p><a href="" id="connect_init-addr-port4"></a> Same as
<code class="inline">connect_init(Socket, Addr, Port, Opts, infinity)</code>.</p>
  </section>
</section>
<section class="detail" id="connect_init/5">

  <div class="detail-header">
    <a href="#connect_init/5" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">connect_init(S, Addr, Port, Opts, Timeout)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L1191" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R13B04)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> connect_init(Socket, Addr, Port, Opts, Timeout) -> ok | {error, <a href="inet.html#t:posix/0">inet:posix</a>()}
                when
                    Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
                    Addr :: <a href="inet.html#t:ip_address/0">inet:ip_address</a>() | <a href="inet.html#t:hostname/0">inet:hostname</a>(),
                    Port :: <a href="inet.html#t:port_number/0">inet:port_number</a>(),
                    Opts :: [<a href="#t:option/0">option</a>()],
                    Timeout :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:timeout/0">timeout</a>().</pre>

      </div>

<p><a href="" id="connect_init-addr-port5"></a> Initiates a new association for socket
<code class="inline">Socket</code>, with the peer (SCTP server socket) specified by <code class="inline">Addr</code> and <code class="inline">Port</code>.</p><p>The fundamental difference between this API and <code class="inline">connect/*</code> is that the return
value is that of the underlying OS <code class="inline">connect(2)</code> system call. If <code class="inline">ok</code> is
returned, the result of the association establishment is received by the calling
process as an <a href="gen_sctp.html#record-sctp_assoc_change"><code class="inline">#sctp_assoc_change{}</code></a>
event. The calling process must be prepared to receive this, or poll for it
using <a href="#recv/1"><code class="inline">recv/*</code></a>, depending on the value of the active option.</p><p>The parameters are as described in <a href="#connect/5"><code class="inline">connect/*</code></a>, except the
<code class="inline">Timeout</code> value.</p><p>The timer associated with <code class="inline">Timeout</code> only supervises IP resolution of <code class="inline">Addr</code>.</p>
  </section>
</section>
<section class="detail" id="connectx_init/3">

  <div class="detail-header">
    <a href="#connectx_init/3" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">connectx_init(S, SockAddrs, Opts)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L1274" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP 25.0)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> connectx_init(Socket, SockAddrs, Opts) -> {ok, <a href="#t:assoc_id/0">assoc_id</a>()} | {error, <a href="inet.html#t:posix/0">inet:posix</a>()}
                 when
                     Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
                     SockAddrs ::
                         [{<a href="inet.html#t:ip_address/0">inet:ip_address</a>(), <a href="inet.html#t:port_number/0">inet:port_number</a>()} |
                          <a href="inet.html#t:family_address/0">inet:family_address</a>() |
                          <a href="socket.html#t:sockaddr_in/0">socket:sockaddr_in</a>() |
                          <a href="socket.html#t:sockaddr_in6/0">socket:sockaddr_in6</a>()],
                     Opts :: [<a href="#t:option/0">option</a>()].</pre>

      </div>

<p>Similar to <a href="#connectx_init/5"><code class="inline">connectx_init/5</code></a> except using socket addresses, and not having a
<code class="inline">Timeout</code>. Since the addresses do not need lookup and the connect is
non-blocking this call returns immediately.</p><p>The value of each socket address <code class="inline">port</code> must be the same or zero. At least one
socket address must have a non-zero <code class="inline">port</code></p>
  </section>
</section>
<section class="detail" id="connectx_init/4">

  <div class="detail-header">
    <a href="#connectx_init/4" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">connectx_init(S, Addrs, Port, Opts)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L1291" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP 25.0)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> connectx_init(Socket, Addrs, Port, Opts) -> {ok, <a href="#t:assoc_id/0">assoc_id</a>()} | {error, <a href="inet.html#t:posix/0">inet:posix</a>()}
                 when
                     Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
                     Addrs :: [<a href="inet.html#t:ip_address/0">inet:ip_address</a>() | <a href="inet.html#t:hostname/0">inet:hostname</a>()],
                     Port :: <a href="inet.html#t:port_number/0">inet:port_number</a>() | <a href="../../../../lib/../erts/doc/html/erlang.html#t:atom/0">atom</a>(),
                     Opts :: [<a href="#t:option/0">option</a>()].</pre>

      </div>

<p>Same as <code class="inline">connectx_init(Socket, Addrs, Port, Opts, infinity)</code>.</p>
  </section>
</section>
<section class="detail" id="connectx_init/5">

  <div class="detail-header">
    <a href="#connectx_init/5" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">connectx_init(S, Addrs, Port, Opts, Timeout)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L1320" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP 25.0)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> connectx_init(Socket, Addrs, Port, Opts, Timeout) -> {ok, <a href="#t:assoc_id/0">assoc_id</a>()} | {error, <a href="inet.html#t:posix/0">inet:posix</a>()}
                 when
                     Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
                     Addrs :: [<a href="inet.html#t:ip_address/0">inet:ip_address</a>() | <a href="inet.html#t:hostname/0">inet:hostname</a>()],
                     Port :: <a href="inet.html#t:port_number/0">inet:port_number</a>() | <a href="../../../../lib/../erts/doc/html/erlang.html#t:atom/0">atom</a>(),
                     Opts :: [<a href="#t:option/0">option</a>()],
                     Timeout :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:timeout/0">timeout</a>().</pre>

      </div>

<p>Initiates a new association for socket <code class="inline">Socket</code>, with the peer (SCTP server
socket) specified by <code class="inline">Addrs</code> and <code class="inline">Port</code>.</p><p>This API is similar to <code class="inline">connect_init/*</code> except the underlying OS
<code class="inline">sctp_connectx(3)</code> system call is used.</p><p>If successful, the association ID is returned which will be received in a
subsequent <a href="gen_sctp.html#record-sctp_assoc_change"><code class="inline">#sctp_assoc_change{}</code></a>
event.</p><p>The parameters are as described in <a href="#connect_init/5"><code class="inline">connect_init/5</code></a></p><p>NOTE: This API allows the OS to use all Addrs when establishing an association,
but does not guarantee it will. Therefore, if the connection fails the user may
want to rotate the order of addresses for a subsequent call.</p>
  </section>
</section>
<section class="detail" id="controlling_process/2">

  <div class="detail-header">
    <a href="#controlling_process/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">controlling_process(S, Pid)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L1747" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> controlling_process(Socket, Pid) -> ok | {error, Reason}
                       when
                           Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
                           Pid :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:pid/0">pid</a>(),
                           Reason :: closed | not_owner | badarg | <a href="inet.html#t:posix/0">inet:posix</a>().</pre>

      </div>

<p>Assigns a new controlling process <code class="inline">Pid</code> to <code class="inline">Socket</code>. Same implementation as
<a href="gen_udp.html#controlling_process/2"><code class="inline">gen_udp:controlling_process/2</code></a>.</p>
  </section>
</section>
<section class="detail" id="eof/2">

  <div class="detail-header">
    <a href="#eof/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">eof/2</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L1466" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> eof(Socket, Assoc) -> ok | {error, Reason}
       when Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(), Assoc :: #sctp_assoc_change{}, Reason :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Gracefully terminates the association specified by <code class="inline">Assoc</code>, with flushing of all
unsent data. The socket itself remains open. Other associations opened on this
socket are still valid. The socket can be used in new associations.</p>
  </section>
</section>
<section class="detail" id="error_string/1">

  <div class="detail-header">
    <a href="#error_string/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">error_string/1</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L1703" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> error_string(ErrorNumber) -> ok | <a href="../../../../lib/../erts/doc/html/erlang.html#t:string/0">string</a>() | unknown_error when ErrorNumber :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:integer/0">integer</a>().</pre>

      </div>

<p>Translates an SCTP error number from, for example, <code class="inline">#sctp_remote_error{}</code> or
<code class="inline">#sctp_send_failed{}</code> into an explanatory string, or one of the atoms <code class="inline">ok</code> for
no error or <code class="inline">undefined</code> for an unrecognized error.</p>
  </section>
</section>
<section class="detail" id="listen/2">

  <div class="detail-header">
    <a href="#listen/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">listen(S, Backlog)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L930" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R15B)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> listen(Socket, IsServer) -> ok | {error, Reason}
          when Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(), IsServer :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:boolean/0">boolean</a>(), Reason :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>();
      (Socket, Backlog) -> ok | {error, Reason}
          when Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(), Backlog :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:integer/0">integer</a>(), Reason :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Sets up a socket to listen on the IP address and port number it is bound to.</p><p>For type <code class="inline">seqpacket</code>, sockets (the default) <code class="inline">IsServer</code> must be <code class="inline">true</code> or
<code class="inline">false</code>. In contrast to TCP, there is no listening queue length in SCTP. If
<code class="inline">IsServer</code> is <code class="inline">true</code>, the socket accepts new associations, that is, it becomes
an SCTP server socket.</p><p>For type <code class="inline">stream</code>, sockets Backlog define the backlog queue length just like in
TCP.</p>
  </section>
</section>
<section class="detail" id="open/0">

  <div class="detail-header">
    <a href="#open/0" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">open/0</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L789" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> open() -> {ok, Socket} | {error, <a href="inet.html#t:posix/0">inet:posix</a>()} when Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>().</pre>

      </div>

<p>Equivalent to <a href="#open/2"><code class="inline">open/2</code></a></p>
  </section>
</section>
<section class="detail" id="open/1">

  <div class="detail-header">
    <a href="#open/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">open/1</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L812" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> open(Port) -> {ok, Socket} | {error, <a href="inet.html#t:posix/0">inet:posix</a>()}
        when Port :: <a href="inet.html#t:port_number/0">inet:port_number</a>(), Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>();
    (Opts) -> {ok, Socket} | {error, <a href="inet.html#t:posix/0">inet:posix</a>()}
        when
            Opts :: [Opt],
            Opt ::
                {ifaddr, IP | SockAddr} |
                {ip, IP} |
                {port, Port} |
                <a href="inet.html#t:address_family/0">inet:address_family</a>() |
                {type, SockType} |
                {netns, <a href="file.html#t:filename_all/0">file:filename_all</a>()} |
                {bind_to_device, <a href="../../../../lib/../erts/doc/html/erlang.html#t:binary/0">binary</a>()} |
                <a href="#t:option/0">option</a>(),
            IP :: <a href="inet.html#t:ip_address/0">inet:ip_address</a>() | any | loopback,
            SockAddr :: <a href="socket.html#t:sockaddr_in/0">socket:sockaddr_in</a>() | <a href="socket.html#t:sockaddr_in6/0">socket:sockaddr_in6</a>(),
            Port :: <a href="inet.html#t:port_number/0">inet:port_number</a>(),
            SockType :: seqpacket | stream,
            Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>().</pre>

      </div>

<p>Equivalent to <a href="#open/2"><code class="inline">open/2</code></a></p>
  </section>
</section>
<section class="detail" id="open/2">

  <div class="detail-header">
    <a href="#open/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">open(Port, Opts)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L883" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> open(Port, Opts) -> {ok, Socket} | {error, <a href="inet.html#t:posix/0">inet:posix</a>()}
        when
            Opts :: [Opt],
            Opt ::
                {ifaddr, IP | SockAddr} |
                {ip, IP} |
                {port, Port} |
                <a href="inet.html#t:address_family/0">inet:address_family</a>() |
                {type, SockType} |
                {netns, <a href="file.html#t:filename_all/0">file:filename_all</a>()} |
                {bind_to_device, <a href="../../../../lib/../erts/doc/html/erlang.html#t:binary/0">binary</a>()} |
                <a href="#t:option/0">option</a>(),
            IP :: <a href="inet.html#t:ip_address/0">inet:ip_address</a>() | any | loopback,
            SockAddr :: <a href="socket.html#t:sockaddr_in/0">socket:sockaddr_in</a>() | <a href="socket.html#t:sockaddr_in6/0">socket:sockaddr_in6</a>(),
            Port :: <a href="inet.html#t:port_number/0">inet:port_number</a>(),
            SockType :: seqpacket | stream,
            Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>().</pre>

      </div>

<p>Creates an SCTP socket and binds it to the local addresses specified by all
<code class="inline">{ip,IP}</code> (or synonymously <code class="inline">{ifaddr,IP}</code>) options (this feature is called SCTP
multi-homing). The default <code class="inline">IP</code> and <code class="inline">Port</code> are <code class="inline">any</code> and <code class="inline">0</code>, meaning bind to
all local addresses on any free port.</p><p>It is also possible to use <code class="inline">{ifaddr, SockAddr}</code>, in which case it takes
precedence over the <code class="inline">ip</code> and <code class="inline">port</code> options. These options can however be used
to update the address and port of ifaddr (if they occur after ifaddr in the
options list), although this is not recommended.</p><p>Other options:</p><ul><li><p><strong><code class="inline">inet6</code></strong> - Sets up the socket for IPv6.</p></li><li><p><strong><code class="inline">inet</code></strong> - Sets up the socket for IPv4. This is the default.</p></li></ul><p>A default set of socket <a href="gen_sctp.html#options">options</a> is used. In particular,
the socket is opened in <a href="gen_sctp.html#option-binary">binary</a> and
<a href="gen_sctp.html#option-active">passive</a> mode, with SockType <code class="inline">seqpacket</code>, and with
reasonably large <a href="inet.html#option-sndbuf">kernel</a> and driver
<a href="inet.html#option-buffer">buffers</a>.</p><p>If the socket is in <a href="gen_sctp.html#option-active">passive</a> mode data can be
received through the <a href="#recv/1"><code class="inline">recv/1,2</code></a> calls.</p><p>If the socket is in <a href="gen_sctp.html#option-active">active</a> mode data received data
is delivered to the controlling process as messages:</p><pre><code class="text">{sctp, Socket, FromIP, FromPort, {AncData, Data}}</code></pre><p>See <a href="#recv/1"><code class="inline">recv/1,2</code></a> for a description of the message fields.</p><blockquote><h4 class="info">Note</h4><p>This message format unfortunately differs slightly from the
<a href="gen_udp.html#open/1"><code class="inline">gen_udp</code></a> message format with ancillary data, and from the
<a href="#recv/1"><code class="inline">recv/1,2</code></a> return tuple format.</p></blockquote>
  </section>
</section>
<section class="detail" id="peeloff/2">

  <div class="detail-header">
    <a href="#peeloff/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">peeloff/2</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L959" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


      <span class="note">(since OTP R15B)</span>

  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> peeloff(Socket, Assoc) -> {ok, NewSocket} | {error, Reason}
           when
               Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
               Assoc :: #sctp_assoc_change{} | <a href="#t:assoc_id/0">assoc_id</a>(),
               NewSocket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
               Reason :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Branches off an existing association <code class="inline">Assoc</code> in a socket <code class="inline">Socket</code> of type
<code class="inline">seqpacket</code> (one-to-many style) into a new socket <code class="inline">NewSocket</code> of type <code class="inline">stream</code>
(one-to-one style).</p><p>The existing association argument <code class="inline">Assoc</code> can be either a
<a href="gen_sctp.html#record-sctp_assoc_change"><code class="inline">#sctp_assoc_change{}</code></a> record as
returned from, for example, <a href="#recv/2"><code class="inline">recv/*</code></a>, <a href="#connect/5"><code class="inline">connect/*</code></a>, or
from a listening socket in active mode. It can also be just the field <code class="inline">assoc_id</code>
integer from such a record.</p>
  </section>
</section>
<section class="detail" id="recv/1">

  <div class="detail-header">
    <a href="#recv/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">recv/1</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L1558" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> recv(Socket) -> {ok, {FromIP, FromPort, AncData, Data}} | {error, Reason}
        when
            Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
            FromIP :: <a href="inet.html#t:ip_address/0">inet:ip_address</a>(),
            FromPort :: <a href="inet.html#t:port_number/0">inet:port_number</a>(),
            AncData :: [#sctp_sndrcvinfo{} | <a href="inet.html#t:ancillary_data/0">inet:ancillary_data</a>()],
            Data ::
                <a href="../../../../lib/../erts/doc/html/erlang.html#t:binary/0">binary</a>() |
                <a href="../../../../lib/../erts/doc/html/erlang.html#t:string/0">string</a>() |
                #sctp_sndrcvinfo{} |
                #sctp_assoc_change{} |
                #sctp_paddr_change{} |
                #sctp_adaptation_event{},
            Reason ::
                <a href="inet.html#t:posix/0">inet:posix</a>() |
                #sctp_send_failed{} |
                #sctp_paddr_change{} |
                #sctp_pdapi_event{} |
                #sctp_remote_error{} |
                #sctp_shutdown_event{}.</pre>

      </div>

<p>Equivalent to <a href="#recv/2"><code class="inline">recv/2</code></a></p>
  </section>
</section>
<section class="detail" id="recv/2">

  <div class="detail-header">
    <a href="#recv/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">recv(S, Timeout)</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L1685" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> recv(Socket, Timeout) -> {ok, {FromIP, FromPort, AncData, Data}} | {error, Reason}
        when
            Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
            Timeout :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:timeout/0">timeout</a>(),
            FromIP :: <a href="inet.html#t:ip_address/0">inet:ip_address</a>(),
            FromPort :: <a href="inet.html#t:port_number/0">inet:port_number</a>(),
            AncData :: [#sctp_sndrcvinfo{} | <a href="inet.html#t:ancillary_data/0">inet:ancillary_data</a>()],
            Data ::
                <a href="../../../../lib/../erts/doc/html/erlang.html#t:binary/0">binary</a>() |
                <a href="../../../../lib/../erts/doc/html/erlang.html#t:string/0">string</a>() |
                #sctp_sndrcvinfo{} |
                #sctp_assoc_change{} |
                #sctp_paddr_change{} |
                #sctp_adaptation_event{},
            Reason ::
                <a href="inet.html#t:posix/0">inet:posix</a>() |
                #sctp_send_failed{} |
                #sctp_paddr_change{} |
                #sctp_pdapi_event{} |
                #sctp_remote_error{} |
                #sctp_shutdown_event{}.</pre>

      </div>

<p>Receives the <code class="inline">Data</code> message from any association of the socket. If the receive
times out, <code class="inline">{error,timeout}</code> is returned. The default time-out is <code class="inline">infinity</code>.
<code class="inline">FromIP</code> and <code class="inline">FromPort</code> indicate the address of the sender.</p><p><code class="inline">AncData</code> is a list of ancillary data items that can be received along with the
main <code class="inline">Data</code>. This list can be empty, or contain a single
<a href="gen_sctp.html#record-sctp_sndrcvinfo"><code class="inline">#sctp_sndrcvinfo{}</code></a> record if receiving
of such ancillary data is enabled (see option
<a href="gen_sctp.html#option-sctp_events"><code class="inline">sctp_events</code></a>). It is enabled by default, as
such ancillary data provides an easy way of determining the association and
stream over which the message is received. (An alternative way is to get the
association ID from <code class="inline">FromIP</code> and <code class="inline">FromPort</code> using socket option
<a href="gen_sctp.html#option-sctp_get_peer_addr_info"><code class="inline">sctp_get_peer_addr_info</code></a>, but
this does still not produce the stream number).</p><p><code class="inline">AncData</code> may also contain <a href="inet.html#t:ancillary_data/0">ancillary data </a>from the
socket <a href="gen_sctp.html#options">options</a> <a href="inet.html#option-recvtos"><code class="inline">recvtos</code></a>,
<a href="inet.html#option-recvtclass"><code class="inline">recvtclass</code></a> or
<a href="inet.html#option-recvttl"><code class="inline">recvttl</code></a>, if that is supported by the platform for
the socket.</p><p>The <code class="inline">Data</code> received can be a <code class="inline">t:binary()</code> or a <code class="inline">t:list()</code> of bytes (integers in
the range 0 through 255) depending on the socket mode, or an SCTP event.</p><p><a href="" id="sctp_events"></a> Possible SCTP events:</p><ul><li><p><a href="gen_sctp.html#record-sctp_sndrcvinfo"><code class="inline">#sctp_sndrcvinfo{}</code></a></p></li><li><p><a href="gen_sctp.html#record-sctp_assoc_change"><code class="inline">#sctp_assoc_change{}</code></a></p></li><li><pre><code class="text">#sctp_paddr_change{
      addr      = {ip_address(),port()},
      state     = atom(),
      error     = integer(),
      assoc_id  = assoc_id()
}</code></pre><p>Indicates change of the status of the IP address of the peer specified by
<code class="inline">addr</code> within association <code class="inline">assoc_id</code>. Possible values of <code class="inline">state</code> (mostly
self-explanatory) include:</p><ul><li><p><strong><code class="inline">addr_unreachable</code></strong></p></li><li><p><strong><code class="inline">addr_available</code></strong></p></li><li><p><strong><code class="inline">addr_removed</code></strong></p></li><li><p><strong><code class="inline">addr_added</code></strong></p></li><li><p><strong><code class="inline">addr_made_prim</code></strong></p></li><li><p><strong><code class="inline">addr_confirmed</code></strong></p></li></ul><p>In case of an error (for example, <code class="inline">addr_unreachable</code>), field <code class="inline">error</code> provides
more diagnostics. In such cases, event <code class="inline">#sctp_paddr_change{}</code> is automatically
converted into an <code class="inline">error</code> term returned by <a href="#recv/1"><code class="inline">recv</code></a>. The <code class="inline">error</code>
field value can be converted into a string using <a href="#error_string/1"><code class="inline">error_string/1</code></a>.</p></li><li><pre><code class="text">#sctp_send_failed{
      flags     = true | false,
      error     = integer(),
      info      = #sctp_sndrcvinfo{},
      assoc_id  = assoc_id()
      data      = binary()
}</code></pre><p>The sender can receive this event if a send operation fails.</p><ul><li><p><strong><code class="inline">flags</code></strong> - A Boolean specifying if the data has been transmitted over the
wire.</p></li><li><p><strong><code class="inline">error</code></strong> - Provides extended diagnostics, use
<a href="#error_string/1"><code class="inline">error_string/1</code>.</a></p></li><li><p><strong><code class="inline">info</code></strong> - The original
<a href="gen_sctp.html#record-sctp_sndrcvinfo"><code class="inline">#sctp_sndrcvinfo{}</code></a> record used in
the failed <a href="#send/3"><code class="inline">send/*</code>.</a></p></li><li><p><strong><code class="inline">data</code></strong> - The whole original data chunk attempted to be sent.</p></li></ul><p>In the current implementation of the Erlang/SCTP binding, this event is
internally converted into an <code class="inline">error</code> term returned by <a href="#recv/1"><code class="inline">recv/*</code></a>.</p></li><li><pre><code class="text">#sctp_adaptation_event{
      adaptation_ind = integer(),
      assoc_id       = assoc_id()
}</code></pre><p>Delivered when a peer sends an adaptation layer indication parameter
(configured through option
<a href="gen_sctp.html#option-sctp_adaptation_layer"><code class="inline">sctp_adaptation_layer</code></a>). Notice
that with the current implementation of the Erlang/SCTP binding, this event is
disabled by default.</p></li><li><pre><code class="text">#sctp_pdapi_event{
      indication = sctp_partial_delivery_aborted,
      assoc_id   = assoc_id()
}</code></pre><p>A partial delivery failure. In the current implementation of the Erlang/SCTP
binding, this event is internally converted into an <code class="inline">error</code> term returned by
<a href="#recv/1"><code class="inline">recv/*</code></a>.</p></li></ul>
  </section>
</section>
<section class="detail" id="send/3">

  <div class="detail-header">
    <a href="#send/3" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">send/3</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L1510" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> send(Socket, SndRcvInfo, Data) -> ok | {error, Reason}
        when
            Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
            SndRcvInfo :: #sctp_sndrcvinfo{},
            Data :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:binary/0">binary</a>() | <a href="../../../../lib/../erts/doc/html/erlang.html#t:iolist/0">iolist</a>(),
            Reason :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Sends the <code class="inline">Data</code> message with all sending parameters from a
<a href="gen_sctp.html#record-sctp_sndrcvinfo"><code class="inline">#sctp_sndrcvinfo{}</code></a> record. This way,
the user can specify the PPID (passed to the remote end) and context (passed to
the local SCTP layer), which can be used, for example, for error identification.
However, such a fine level of user control is rarely required. The function
<a href="#send/4"><code class="inline">send/4</code></a> is sufficient for most applications.</p>
  </section>
</section>
<section class="detail" id="send/4">

  <div class="detail-header">
    <a href="#send/4" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">send/4</h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/doc//Users/wojtek/src/otp/lib/kernel/src/gen_sctp.erl#L1527" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> send(Socket, Assoc, Stream, Data) -> ok | {error, Reason}
        when
            Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
            Assoc :: #sctp_assoc_change{} | <a href="#t:assoc_id/0">assoc_id</a>(),
            Stream :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:integer/0">integer</a>(),
            Data :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:binary/0">binary</a>() | <a href="../../../../lib/../erts/doc/html/erlang.html#t:iolist/0">iolist</a>(),
            Reason :: <a href="../../../../lib/../erts/doc/html/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Sends a <code class="inline">Data</code> message over an existing association and specified stream.</p>
  </section>
</section>

    </div>
  </section>

      <footer class="footer">
        <p>

          <span class="line">
            <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
              Search HexDocs
            </button>

          </span>
        </p>

        <p class="built-using">
          Built using
          <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.30.9) for the

            <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

        </p>
      </footer>
    </div>
  </div>
</main>
</div>


  </body>
</html>
