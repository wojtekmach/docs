<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.24.0-dev">
    <meta name="project" content="opentelemetry_api v0.5.0">

    <title>OpenTelemetry.Span â€” opentelemetry_api v0.5.0</title>
    <link rel="stylesheet" href="dist/erlang-e0b321562cb0bb031ae0.css" />

    <script src="dist/sidebar_items-66c0c1b272.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/app-f97730d45ef67f3e6188.js"></script>


  </head>
  <body data-type="modules">
    <script>

      try {
        if (localStorage.getItem('night-mode') === 'true') {
          document.body.classList.add('night-mode');
        }
      } catch (error) { }
    </script>

<div class="main">

<button class="sidebar-button sidebar-toggle">
  <span class="icon-menu" title="Collapse/expand sidebar"></span>
</button>

<section class="sidebar">
  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button" aria-label="Submit Search">
      <span class="icon-search" aria-hidden="true" title="Submit search"></span>
    </button>
    <button type="button" tabindex="-1" class="search-close-button" aria-label="Cancel Search">
      <span class="icon-cross" aria-hidden="true" title="Cancel search"></span>
    </button>
    <label class="search-label">
      <input name="q" type="text" class="search-input" placeholder="Search..." aria-label="Input your search terms" autocomplete="off" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">
    <div class="sidebar-projectDetails">
      <a href="readme.html" class="sidebar-projectName">
opentelemetry_api
      </a>
      <strong class="sidebar-projectVersion">
        v0.5.0
      </strong>
    </div>

  </div>

  <ul class="sidebar-listNav">
    <li><a id="extras-list-link" href="#full-list">Pages</a></li>

      <li><a id="modules-list-link" href="#full-list">Modules</a></li>


  </ul>
  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <div class="content-outer">
    <div id="content" class="content-inner">

      <h1>
OpenTelemetry.Span <small class="app-vsn">(opentelemetry_api v0.5.0)</small>

      </h1>


        <section id="moduledoc">
<p>This module contains macros for Span operations that update the active current Span in the current process.
An example of creating an Event and adding it to the current Span:</p><pre><code class="makeup elixir"><span class="kn">require</span><span class="w"> </span><span class="nc">OpenTelemetry.Span</span><span class="w">
</span><span class="n">...</span><span class="w">
</span><span class="n">event</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;ecto.query&quot;</span><span class="w">
</span><span class="n">ecto_attributes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">OpenTelemetry</span><span class="o">.</span><span class="n">event</span><span class="p" data-group-id="3586850145-1">(</span><span class="p" data-group-id="3586850145-2">[</span><span class="p" data-group-id="3586850145-3">{</span><span class="s">&quot;query&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">query</span><span class="p" data-group-id="3586850145-3">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3586850145-4">{</span><span class="s">&quot;total_time&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">total_time</span><span class="p" data-group-id="3586850145-4">}</span><span class="p" data-group-id="3586850145-2">]</span><span class="p" data-group-id="3586850145-1">)</span><span class="w">
</span><span class="nc">OpenTelemetry.Span</span><span class="o">.</span><span class="n">add_event</span><span class="p" data-group-id="3586850145-5">(</span><span class="n">event</span><span class="p">,</span><span class="w"> </span><span class="n">ecto_attributes</span><span class="p" data-group-id="3586850145-5">)</span><span class="w">
</span><span class="n">...</span></code></pre><p>A Span represents a single operation within a trace. Spans can be nested to form a trace tree.
Each trace contains a root span, which typically describes the end-to-end latency and, optionally,
one or more sub-spans for its sub-operations.</p><p>Spans encapsulate:</p><ul><li>The span name</li><li>An immutable SpanContext (<a href="OpenTelemetry.html#t:span_ctx/0"><code class="inline">OpenTelemetry.span_ctx/0</code></a>) that uniquely identifies the Span</li><li>A parent Span in the form of a Span (<a href="OpenTelemetry.html#t:span/0"><code class="inline">OpenTelemetry.span/0</code></a>), SpanContext (<a href="OpenTelemetry.html#t:span_ctx/0"><code class="inline">OpenTelemetry.span_ctx/0</code></a>), or <code class="inline">undefined</code></li><li>A start timestamp</li><li>An end timestamp</li><li>An ordered mapping of Attributes (<a href="OpenTelemetry.html#t:attributes/0"><code class="inline">OpenTelemetry.attributes/0</code></a>)</li><li>A list of Links to other Spans (<a href="OpenTelemetry.html#t:link/0"><code class="inline">OpenTelemetry.link/0</code></a>)</li><li>A list of timestamped Events (<a href="OpenTelemetry.html#t:event/0"><code class="inline">OpenTelemetry.event/0</code></a>)</li><li>A Status (<a href="OpenTelemetry.html#t:status/0"><code class="inline">OpenTelemetry.status/0</code></a>)</li></ul>
        </section>


        <section id="summary" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#summary">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
            Summary
          </h1>

  <div class="summary-functions summary">
    <h2>
      <a href="#functions">Functions</a>
    </h2>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#add_event/3">add_event(span_ctx, event, attributes)</a>

  </div>

    <div class="summary-synopsis"><p>Add an event to the currently active Span.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#add_events/2">add_events(span_ctx, events)</a>

  </div>

    <div class="summary-synopsis"><p>Add a list of events to the currently active Span.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#end_span/1">end_span(span_ctx)</a>

  </div>

    <div class="summary-synopsis"><p>End the Span. Sets the end timestamp for the currently active Span. This has no effect on any
child Spans that may exist of this Span.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#is_recording/1">is_recording(span_ctx)</a>

  </div>

    <div class="summary-synopsis"></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#is_valid/1">is_valid(span_ctx)</a>

  </div>

    <div class="summary-synopsis"></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#set_attribute/3">set_attribute(span_ctx, key, value)</a>

  </div>

    <div class="summary-synopsis"><p>Set an attribute with key and value on the currently active Span.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#set_attributes/2">set_attributes(span_ctx, attributes)</a>

  </div>

    <div class="summary-synopsis"><p>Add a list of attributes to the currently active Span.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#set_status/2">set_status(span_ctx, status)</a>

  </div>

    <div class="summary-synopsis"><p>Sets the Status of the currently active Span.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#span_id/1">span_id(span)</a>

  </div>

    <div class="summary-synopsis"><p>Get the SpanId of a Span.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#trace_id/1">trace_id(span)</a>

  </div>

    <div class="summary-synopsis"><p>Get the TraceId of a Span.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#tracestate/1">tracestate(span)</a>

  </div>

    <div class="summary-synopsis"><p>Get the Tracestate of a Span.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#update_name/2">update_name(span_ctx, name)</a>

  </div>

    <div class="summary-synopsis"><p>Updates the Span name.</p></div>

</div>

  </div>

        </section>


        <section id="functions" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#functions">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
Functions
          </h1>
          <div class="functions-list">
<section class="detail" id="add_event/3">

  <div class="detail-header">
    <a href="#add_event/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">add_event(span_ctx, event, attributes)</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>add_event(
  <a href="OpenTelemetry.html#t:span_ctx/0">OpenTelemetry.span_ctx</a>(),
  <a href="OpenTelemetry.html#t:event_name/0">OpenTelemetry.event_name</a>(),
  <a href="OpenTelemetry.html#t:attributes/0">OpenTelemetry.attributes</a>()
) :: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">boolean</a>()</pre>

      </div>

<p>Add an event to the currently active Span.</p>
  </section>
</section>
<section class="detail" id="add_events/2">

  <div class="detail-header">
    <a href="#add_events/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">add_events(span_ctx, events)</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>add_events(<a href="OpenTelemetry.html#t:span_ctx/0">OpenTelemetry.span_ctx</a>(), [<a href="OpenTelemetry.html#t:event/0">OpenTelemetry.event</a>()]) :: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">boolean</a>()</pre>

      </div>

<p>Add a list of events to the currently active Span.</p>
  </section>
</section>
<section class="detail" id="end_span/1">

  <div class="detail-header">
    <a href="#end_span/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">end_span(span_ctx)</h1>


  </div>

  <section class="docstring">

<p>End the Span. Sets the end timestamp for the currently active Span. This has no effect on any
child Spans that may exist of this Span.</p><p>The Span Context is returned with <code class="inline">is_recording</code> set to <code class="inline">false</code>.</p>
  </section>
</section>
<section class="detail" id="is_recording/1">

  <div class="detail-header">
    <a href="#is_recording/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">is_recording(span_ctx)</h1>


  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="is_valid/1">

  <div class="detail-header">
    <a href="#is_valid/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">is_valid(span_ctx)</h1>


  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="set_attribute/3">

  <div class="detail-header">
    <a href="#set_attribute/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">set_attribute(span_ctx, key, value)</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>set_attribute(
  <a href="OpenTelemetry.html#t:span_ctx/0">OpenTelemetry.span_ctx</a>(),
  <a href="OpenTelemetry.html#t:attribute_key/0">OpenTelemetry.attribute_key</a>(),
  <a href="OpenTelemetry.html#t:attribute_value/0">OpenTelemetry.attribute_value</a>()
) :: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">boolean</a>()</pre>

      </div>

<p>Set an attribute with key and value on the currently active Span.</p>
  </section>
</section>
<section class="detail" id="set_attributes/2">

  <div class="detail-header">
    <a href="#set_attributes/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">set_attributes(span_ctx, attributes)</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>set_attributes(<a href="OpenTelemetry.html#t:span_ctx/0">OpenTelemetry.span_ctx</a>(), <a href="OpenTelemetry.html#t:attributes/0">OpenTelemetry.attributes</a>()) ::
  <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">boolean</a>()</pre>

      </div>

<p>Add a list of attributes to the currently active Span.</p>
  </section>
</section>
<section class="detail" id="set_status/2">

  <div class="detail-header">
    <a href="#set_status/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">set_status(span_ctx, status)</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>set_status(<a href="OpenTelemetry.html#t:span_ctx/0">OpenTelemetry.span_ctx</a>(), <a href="OpenTelemetry.html#t:status/0">OpenTelemetry.status</a>()) :: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">boolean</a>()</pre>

      </div>

<p>Sets the Status of the currently active Span.</p><p>If used, this will override the default Span Status, which is <code class="inline">ok</code>.</p>
  </section>
</section>
<section class="detail" id="span_id/1">

  <div class="detail-header">
    <a href="#span_id/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">span_id(span)</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>span_id(<a href="OpenTelemetry.html#t:span_ctx/0">OpenTelemetry.span_ctx</a>()) :: <a href="OpenTelemetry.html#t:span_id/0">OpenTelemetry.span_id</a>()</pre>

      </div>

<p>Get the SpanId of a Span.</p>
  </section>
</section>
<section class="detail" id="trace_id/1">

  <div class="detail-header">
    <a href="#trace_id/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">trace_id(span)</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>trace_id(<a href="OpenTelemetry.html#t:span_ctx/0">OpenTelemetry.span_ctx</a>()) :: <a href="OpenTelemetry.html#t:trace_id/0">OpenTelemetry.trace_id</a>()</pre>

      </div>

<p>Get the TraceId of a Span.</p>
  </section>
</section>
<section class="detail" id="tracestate/1">

  <div class="detail-header">
    <a href="#tracestate/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">tracestate(span)</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>tracestate(<a href="OpenTelemetry.html#t:span_ctx/0">OpenTelemetry.span_ctx</a>()) :: <a href="OpenTelemetry.html#t:tracestate/0">OpenTelemetry.tracestate</a>()</pre>

      </div>

<p>Get the Tracestate of a Span.</p>
  </section>
</section>
<section class="detail" id="update_name/2">

  <div class="detail-header">
    <a href="#update_name/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">update_name(span_ctx, name)</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>update_name(<a href="OpenTelemetry.html#t:span_ctx/0">OpenTelemetry.span_ctx</a>(), String.t()) :: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">boolean</a>()</pre>

      </div>

<p>Updates the Span name.</p><p>It is highly discouraged to update the name of a Span after its creation. Span name is
often used to group, filter and identify the logical groups of spans. And often, filtering
logic will be implemented before the Span creation for performance reasons. Thus the name
update may interfere with this logic.</p><p>The function name is called UpdateName to differentiate this function from the regular
property setter. It emphasizes that this operation signifies a major change for a Span
and may lead to re-calculation of sampling or filtering decisions made previously
depending on the implementation.</p>
  </section>
</section>

          </div>
        </section>

      <footer class="footer">
        <p>
          <span class="line">
            Built using
            <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener">ExDoc</a> (v0.24.0-dev) for the
            <a href="https://elixir-lang.org" title="Elixir" target="_blank">Elixir programming language</a>.
          </span>
          <span class="line">
            Designed by
            <a href="https://twitter.com/dignifiedquire" target="_blank" rel="noopener" title="@dignifiedquire">Friedel Ziegelmayer</a>.
          </span>
        </p>
        <p>

            <a href="api-reference.html" title="API reference" class="line footer-button">API Reference</a>

          <button class="line footer-button display-shortcuts-help">
            Display keyboard shortcuts
          </button>
          <button class="line footer-button night-mode-toggle">
            Toggle night mode
          </button>
          <button class="line footer-button display-quick-switch">
            Go to a HexDocs package
          </button>
          <button class="line footer-button tooltips-toggle">
            <span class="tooltips-option-disable">Disable tooltips</span>
            <span class="tooltips-option-enable">Enable tooltips</span>
          </button>
        </p>
      </footer>
    </div>
  </div>
</section>
</div>


  </body>
</html>
